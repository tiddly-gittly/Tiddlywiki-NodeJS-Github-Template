{"tiddlers":{"$:/plugins/oflg/fishing/Buttons/fishingdeck":{"title":"$:/plugins/oflg/fishing/Buttons/fishingdeck","caption":"{{$:/plugins/oflg/fishing/icon}} fishing","description":"<$text text={{{[{$:/language}removeprefix[$:/]addprefix[$:/plugins/oflg/fishing/]getindex[description]]~[[$:/plugins/oflg/fishing/languages/en-GB]getindex[description]]}}}/>","tags":"$:/tags/PageControls","text":"<!-- creat fishfloat -->\n<$button popup=<<qualify \"$:/state/popup/$:/plugins/oflg/fishing/Buttons/fishingdeck\">> tooltip={{{[{$:/language}removeprefix[$:/]addprefix[$:/plugins/oflg/fishing/]getindex[fishingbuttontip]]~[[$:/plugins/oflg/fishing/languages/en-GB]getindex[fishingbuttontip]]}}} aria-label={{{[{$:/language}removeprefix[$:/]addprefix[$:/plugins/oflg/fishing/]getindex[fishingbuttontip]]~[[$:/plugins/oflg/fishing/languages/en-GB]getindex[fishingbuttontip]]}}} class=<<tv-config-toolbar-class>> selectedClass=\"tc-selected\">\n{{$:/plugins/oflg/fishing/icon}}<$reveal default={{{[tag[?]has[due]]-[!days:due[1]]+[count[]]}}} type=\"gt\" text=\"0\" animate=\"yes\" style=\"font-size:8pt;color:green;\"><$text text={{{[tag[?]has[due]]-[!days:due[1]]+[count[]]}}}/></$reveal>\n</$button>\n<$reveal state=<<qualify \"$:/state/popup/$:/plugins/oflg/fishing/Buttons/fishingdeck\">> type=\"popup\" position=\"below\" animate=\"yes\">\n<div class=\"tc-drop-down tc-popup-keep\" style=\"min-width:0;\">\n<!-- creat fishpond -->\n{{$:/plugins/oflg/fishing/fishpond}}\n<!-- creat fishrod -->\n{{$:/plugins/oflg/fishing/fishrod}}\n</div>\n</$reveal>"},"$:/plugins/oflg/fishing/delay.js":{"title":"$:/plugins/oflg/fishing/delay.js","module-type":"macro","type":"application/javascript","text":"(function () {\n    /*jslint node: true, browser: true */\n    /*global $tw: false */\n    \"use strict\";\n\n    exports.name = \"delayjs\";\n    exports.params = [];\n\n    /*\n    Run the macro to calculate delay.\n    */\n    exports.run = function () {\n        var title = this.getVariable(\"currentTiddler\");\n        var tiddler = this.wiki.getTiddler(title);\n\n        if (tiddler && tiddler.hasField(\"due\")) {\n            var lastdue = tiddler.getFieldString(\"due\");\n\n            var Y = lastdue.slice(0, 4);\n            var M = lastdue.slice(4, 6);\n            var D = lastdue.slice(6, 8);\n            var dateDue = Y + \"-\" + M + \"-\" + D;\n            var dateNow = new Date().toISOString().split(\"T\")[0];\n            var diffTime = new Date(dateNow) - new Date(dateDue);\n\n            var delay = Math.abs(diffTime / 86400000);\n\n        } else {\n            var delay = 0;\n        }\n        return delay;\n    };\n})();"},"$:/plugins/oflg/fishing/due.js":{"title":"$:/plugins/oflg/fishing/due.js","module-type":"macro","type":"application/javascript","text":"(function () {\n    /*jslint node: true, browser: true */\n    /*global $tw: false */\n    \"use strict\";\n\n    exports.name = \"duejs\";\n    exports.params = [];\n\n    /*\n    Run the macro to calculate the newdue.\n    */\n    exports.run = function () {\n        var title = this.getVariable(\"currentTiddler\");\n        var tiddler = this.wiki.getTiddler(title);\n\n        if (tiddler && tiddler.hasField(\"interval\")) {\n            var lastinterval = tiddler.getFieldString(\"interval\");\n        } else {\n            var lastinterval = 1;\n        }\n\n        var lastintervalTime = Number(lastinterval) * 86400000;\n        var dateTime = new Date().getTime() + lastintervalTime;\n        var due = new Date(dateTime).toISOString().replace(/-|T|:|\\.|Z/g, \"\");\n\n        return due;\n    };\n})();"},"$:/plugins/oflg/fishing/fishing":{"title":"$:/plugins/oflg/fishing/fishing","tags":"$:/tags/ViewTemplate","text":"<$reveal default={{$:/temp/fishing!!fish}} type=\"match\" text=<<currentTiddler>> animate=\"yes\">\n<$reveal state=<<folded-state>> type=\"nomatch\" text=\"hide\" animate=\"yes\">\n\n<!-- set anki algorithm https://gist.github.com/oflg/6c9cc15bbe2172688a0b4bd817b12bd7 -->\n<!-- set anki parameters https://docs.ankiweb.net/deck-options.html#advanced -->\n<$vars easybonus={{{[{$:/temp/fishing!!fishrod}addprefix[$:/plugins/oflg/fishing/fishrod/]getindex[easybonus]else{$:/plugins/oflg/fishing/fishrod!!easybonus}]}}} graduatinginterval={{{[{$:/temp/fishing!!fishrod}addprefix[$:/plugins/oflg/fishing/fishrod/]getindex[graduatinginterval]else{$:/plugins/oflg/fishing/fishrod!!graduatinginterval}]}}} hardinterval={{{[{$:/temp/fishing!!fishrod}addprefix[$:/plugins/oflg/fishing/fishrod/]getindex[hardinterval]else{$:/plugins/oflg/fishing/fishrod!!hardinterval}]}}} intervalmodifier={{{[{$:/temp/fishing!!fishrod}addprefix[$:/plugins/oflg/fishing/fishrod/]getindex[intervalmodifier]else{$:/plugins/oflg/fishing/fishrod!!intervalmodifier}]}}} maximuminterval={{{[{$:/temp/fishing!!fishrod}addprefix[$:/plugins/oflg/fishing/fishrod/]getindex[maximuminterval]else{$:/plugins/oflg/fishing/fishrod!!maximuminterval}]}}} newinterval={{{[{$:/temp/fishing!!fishrod}addprefix[$:/plugins/oflg/fishing/fishrod/]getindex[newinterval]else{$:/plugins/oflg/fishing/fishrod!!newinterval}]}}} startingease={{{[{$:/temp/fishing!!fishrod}addprefix[$:/plugins/oflg/fishing/fishrod/]getindex[startingease]else{$:/plugins/oflg/fishing/fishrod!!startingease}]}}}>\n<!-- get lastfactor and lastinterval -->\n<$vars lastfactor={{{[<currentTiddler>get[factor]else<startingease>]}}} lastinterval={{{[<currentTiddler>get[interval]else<graduatinginterval>]}}}>\n<!-- calculate interval -->\n<!-- delay is in delay.js -->\n<$vars againivl={{{[<newinterval>multiply<lastinterval>min<maximuminterval>]}}}>\n<$vars hardivl={{{[<lastinterval>add[1]]=[<delayjs>divide[4]floor[]add<lastinterval>multiply<intervalmodifier>multiply<hardinterval>]+[maxall[]min<maximuminterval>]}}}>\n<$vars goodivl={{{[<hardivl>add[1]]=[<delayjs>divide[2]floor[]add<lastinterval>multiply<lastfactor>multiply<intervalmodifier>]+[maxall[]min<maximuminterval>]}}}>\n<$vars easyivl={{{[<goodivl>add[1]]=[<delayjs>add<lastinterval>multiply<lastfactor>multiply<intervalmodifier>multiply<easybonus>]+[maxall[]min<maximuminterval>]}}}>\n\n<div style=\"display:flex;justify-content:space-between;\">\n<!-- creat fishpond -->\n<div>\n{{$:/plugins/oflg/fishing/fishpond}}\n</div>\n<!-- creat ease button -->\n<div>\n<$fieldmangler>\n<$list filter=\"again hard good easy\" variable=\"ease\">\n<$vars easetip={{{[<ease>addsuffix[tip]]}}}>\n<$button tooltip={{{[{$:/language}removeprefix[$:/]addprefix[$:/plugins/oflg/fishing/]getindex<easetip>]~[[$:/plugins/oflg/fishing/languages/en-GB]getindex<easetip>]}}} aria-label={{{[{$:/language}removeprefix[$:/]addprefix[$:/plugins/oflg/fishing/]getindex<easetip>]~[[$:/plugins/oflg/fishing/languages/en-GB]getindex<easetip>]}}} class=\"tc-btn-invisible tc-tiddlylink\" style={{{[<ease>match[again]then[margin-left:10px;color:red;]]~[<ease>match[hard]then[margin-left:10px;color:black;]]~[<ease>match[good]then[margin-left:10px;color:green;]]~[<ease>match[easy]then[margin-left:10px;color:blue;]]}}}>\n<$action-setfield factor={{{[<ease>match[again]then<lastfactor>subtract[0.2]max[1.3]]~[<ease>match[hard]then<lastfactor>subtract[0.15]max[1.3]]~[<ease>match[good]then<lastfactor>max[1.3]]~[<ease>match[easy]then<lastfactor>add[0.15]max[1.3]]+[fixed[2]]}}} interval={{{[<ease>match[again]then<againivl>]~[<ease>match[hard]then<hardivl>]~[<ease>match[good]then<goodivl>]~[<ease>match[easy]then<easyivl>]+[fixed[2]]}}}/>\n<!-- due must be saved after interval in due.js -->\n<$action-setfield $field=\"due\" $value=<<duejs>>/>\n<$action-setfield $tiddler=\"$:/temp/fishing\" text=\"\" type=\"\" fish={{{[subfilter{$:/temp/fishing!!fishrod}subfilter{$:/temp/fishing!!fishpond}first[]]}}}/>\n<$action-setfield $tiddler={{{[{$:/temp/fishing!!fish}addprefix[$:/state/folded/]]}}} text=\"hide\"/>\n<$action-sendmessage $message=\"tm-add-tag\" $param=\"?\"/>\n<$action-sendmessage $message=\"tm-close-tiddler\"/>\n<$action-navigate $to={{$:/temp/fishing!!fish}}/>\n<$text text={{{[{$:/language}removeprefix[$:/]addprefix[$:/plugins/oflg/fishing/]getindex<ease>]~[[$:/plugins/oflg/fishing/languages/en-GB]getindex<ease>]}}}/>\n</$button>\n</$vars>\n</$list>\n<!-- creat more button -->\n<$button popup=<<qualify \"$:/state/popup/$:/plugins/oflg/fishing/fishing/more\">> tooltip={{{[{$:/language}removeprefix[$:/]addprefix[$:/plugins/oflg/fishing/]getindex[moretip]]~[[$:/plugins/oflg/fishing/languages/en-GB]getindex[moretip]]}}} aria-label={{{[{$:/language}removeprefix[$:/]addprefix[$:/plugins/oflg/fishing/]getindex[moretip]]~[[$:/plugins/oflg/fishing/languages/en-GB]getindex[moretip]]}}} class=\"tc-btn-invisible tc-tiddlylink\" style=\"margin-left:10px;\">\n⁝\n</$button>\n<$reveal state=<<qualify \"$:/state/popup/$:/plugins/oflg/fishing/fishing/more\">> type=\"popup\" position=\"aboveleft\" animate=\"yes\">\n<div class=\"tc-drop-down\" style=\"min-width:0px;\">\n<$button  tooltip={{{[{$:/language}removeprefix[$:/]addprefix[$:/plugins/oflg/fishing/]getindex[resettip]]~[[$:/plugins/oflg/fishing/languages/en-GB]getindex[resettip]]}}} aria-label={{{[{$:/language}removeprefix[$:/]addprefix[$:/plugins/oflg/fishing/]getindex[resettip]]~[[$:/plugins/oflg/fishing/languages/en-GB]getindex[resettip]]}}} class=\"tc-btn-invisible tc-tiddlylink\" style=\"padding:3px 10px;\">\n<$action-deletefield $tiddler={{{[subfilter{$:/temp/fishing!!fishrod}subfilter{$:/temp/fishing!!fishpond}first[]]}}} due factor interval/>\n<$action-setfield $tiddler=\"$:/temp/fishing\" text=\"\" fish={{{[subfilter{$:/temp/fishing!!fishrod}subfilter{$:/temp/fishing!!fishpond}first[]]}}}/>\n<$action-setfield $tiddler={{{[{$:/temp/fishing!!fish}addprefix[$:/state/folded/]]}}} text=\"hide\"/>\n<$action-sendmessage $message=\"tm-close-tiddler\"/>\n<$action-navigate $to={{$:/temp/fishing!!fish}}/>\n<$text text={{{[{$:/language}removeprefix[$:/]addprefix[$:/plugins/oflg/fishing/]getindex[reset]]~[[$:/plugins/oflg/fishing/languages/en-GB]getindex[reset]]}}}/>\n</$button>\n<$button message=\"tm-remove-tag\" param=\"?\" tooltip={{{[{$:/language}removeprefix[$:/]addprefix[$:/plugins/oflg/fishing/]getindex[removetip]]~[[$:/plugins/oflg/fishing/languages/en-GB]getindex[removetip]]}}} aria-label={{{[{$:/language}removeprefix[$:/]addprefix[$:/plugins/oflg/fishing/]getindex[removetip]]~[[$:/plugins/oflg/fishing/languages/en-GB]getindex[removetip]]}}} class=\"tc-btn-invisible tc-tiddlylink\" style=\"padding:3px 10px;\">\n<$action-setfield $tiddler=\"$:/temp/fishing\" text=\"\" fish={{{[subfilter{$:/temp/fishing!!fishrod}subfilter{$:/temp/fishing!!fishpond}rest[]first[]]}}}/>\n<$action-setfield $tiddler={{{[{$:/temp/fishing!!fish}addprefix[$:/state/folded/]]}}} text=\"hide\"/>\n<$action-sendmessage $message=\"tm-close-tiddler\"/>\n<$action-navigate $to={{$:/temp/fishing!!fish}}/>\n<$text text={{{[{$:/language}removeprefix[$:/]addprefix[$:/plugins/oflg/fishing/]getindex[remove]]~[[$:/plugins/oflg/fishing/languages/en-GB]getindex[remove]]}}}/>\n</$button>\n</div>\n</$reveal>\n</$fieldmangler>\n</div>\n</div>\n\n</$vars>\n</$vars>\n</$vars>\n</$vars>\n</$vars>\n</$vars>\n\n</$reveal>\n</$reveal>"},"$:/plugins/oflg/fishing/fishpond":{"title":"$:/plugins/oflg/fishing/fishpond","text":"<$set name=\"fishrod\" value={{$:/temp/fishing!!fishrod}} emptyValue=\"[tag[?]]\">\n<$vars due=\"[has[due]]-[!days:due[1]]+[sort[due]]:sort:number:reverse[reduce<priority>add{!!interval}multiply{!!factor}fixed[2]]\" new=\"[!has[due]sort[created]]\">\n<$list filter=\"due new\" variable=\"fishpondname\">\n<$vars fishpond={{{[<fishpondname>match[due]then<due>]~[<fishpondname>match[due]then<due>]~[<fishpondname>match[new]then<new>]}}}>\n<$button tooltip={{{[{$:/language}removeprefix[$:/]addprefix[$:/plugins/oflg/fishing/]getindex[fishpondtip]]~[[$:/plugins/oflg/fishing/languages/en-GB]getindex[fishpondtip]]}}} aria-label={{{[{$:/language}removeprefix[$:/]addprefix[$:/plugins/oflg/fishing/]getindex[fishpondtip]]~[[$:/plugins/oflg/fishing/languages/en-GB]getindex[fishpondtip]]}}} class=\"tc-btn-invisible tc-tiddlylink\" style=\"padding-right:2px;\">\n<$action-setfield $tiddler=\"$:/temp/fishing\" text=\"\" fishrod=<<fishrod>> fishpond=<<fishpond>> fish={{{[subfilter<fishrod>subfilter<fishpond>first[]]}}}/>\n<$action-setfield $tiddler={{{[{$:/temp/fishing!!fish}addprefix[$:/state/folded/]]}}} text=\"hide\"/>\n<$action-navigate $to={{$:/temp/fishing!!fish}}/>\n<$text text={{{[{$:/language}removeprefix[$:/]addprefix[$:/plugins/oflg/fishing/]getindex<fishpondname>]~[[$:/plugins/oflg/fishing/languages/en-GB]getindex<fishpondname>]}}}/><$text text={{{[subfilter<fishrod>subfilter<fishpond>count[]]}}}/>\n</$button>\n</$vars>\n</$list>\n</$vars>\n</$set>"},"$:/plugins/oflg/fishing/fishrod":{"title":"$:/plugins/oflg/fishing/fishrod","easybonus":"1.30","graduatinginterval":"1","hardinterval":"1.20","intervalmodifier":"1.00","maximuminterval":"36500","newinterval":"0.00","startingease":"2.50","text":"<div style=\"margin:5px 15px;\">\n<$edit-text tiddler=\"$:/temp/fishing\" field=\"fishrod\" tag=\"input\" focus=\"true\" placeholder=\"[tag[?]]\"/>\n</div>\n<div style=\"display:flex;margin:0 15px;flex-flow:wrap;align-items:center;\">\n<$list filter=\"[{$:/temp/fishing!!fishrod}][prefix[$:/plugins/oflg/fishing/fishrod/]removeprefix[$:/plugins/oflg/fishing/fishrod/]]+[sort[]]\" variable=\"fishrod\">\n<$reveal default=<<fishrod>> type=\"nomatch\" text=\"\" animate=\"yes\">\n<$button tooltip={{{[{$:/language}removeprefix[$:/]addprefix[$:/plugins/oflg/fishing/]getindex[fillfiltertip]]~[[$:/plugins/oflg/fishing/languages/en-GB]getindex[fillfiltertip]]}}} aria-label={{{[{$:/language}removeprefix[$:/]addprefix[$:/plugins/oflg/fishing/]getindex[fillfiltertip]]~[[$:/plugins/oflg/fishing/languages/en-GB]getindex[fillfiltertip]]}}}  style=\"display:flex;width:auto;height:auto;margin:4px 2px;padding:1px;border:none;font-size:8pt;align-items:center;\">\n<$action-setfield $tiddler=\"$:/temp/fishing\" fishrod=<<fishrod>>/>\n<div style=\"max-width:100px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;\"><$text text=<<fishrod>>/></div> : <$text text={{{[subfilter<fishrod>count[]]}}}/>\n<$reveal default={{$:/temp/fishing!!fishrod}} type=\"match\" text=<<fishrod>> animate=\"yes\">\n<$reveal default={{{[<fishrod>addprefix[$:/plugins/oflg/fishing/fishrod/]is[missing]]}}} type=\"nomatch\" text=\"\" animate=\"yes\">\n<$button tooltip={{{[{$:/language}removeprefix[$:/]addprefix[$:/plugins/oflg/fishing/]getindex[pinfiltertip]]~[[$:/plugins/oflg/fishing/languages/en-GB]getindex[pinfiltertip]]}}} aria-label={{{[{$:/language}removeprefix[$:/]addprefix[$:/plugins/oflg/fishing/]getindex[pinfiltertip]]~[[$:/plugins/oflg/fishing/languages/en-GB]getindex[pinfiltertip]]}}} class=\"tc-btn-invisible\" style=\"margin:0;padding:0 5px;\">\n<$action-setfield $tiddler={{{[<fishrod>addprefix[$:/plugins/oflg/fishing/fishrod/]]}}} type=\"application/json\"/>\n{{$:/core/images/new-button}}\n</$button>\n</$reveal>\n<$reveal default={{{[<fishrod>addprefix[$:/plugins/oflg/fishing/fishrod/]is[missing]]}}} type=\"match\" text=\"\" animate=\"yes\">\n<div style=\"display:flex;align-items:center;\">\n<$button tooltip={{{[{$:/language}removeprefix[$:/]addprefix[$:/plugins/oflg/fishing/]getindex[unpinfiltertip]]~[[$:/plugins/oflg/fishing/languages/en-GB]getindex[unpinfiltertip]]}}} aria-label={{{[{$:/language}removeprefix[$:/]addprefix[$:/plugins/oflg/fishing/]getindex[unpinfiltertip]]~[[$:/plugins/oflg/fishing/languages/en-GB]getindex[unpinfiltertip]]}}} class=\"tc-btn-invisible\" style=\"margin:0;padding:0 5px;\">\n<$action-deletetiddler $tiddler={{{[<fishrod>addprefix[$:/plugins/oflg/fishing/fishrod/]]}}}/>\n<$action-setfield $tiddler=\"$:/temp/fishing\" fishrod=\"\"/>\n{{$:/core/images/close-button}}\n</$button>\n<$button popup=<<qualify \"$:/state/popup/$:/plugins/oflg/fishing/fishrod\">> tooltip={{{[{$:/language}removeprefix[$:/]addprefix[$:/plugins/oflg/fishing/]getindex[adjustscheduletip]]~[[$:/plugins/oflg/fishing/languages/en-GB]getindex[adjustscheduletip]]}}} aria-label={{{[{$:/language}removeprefix[$:/]addprefix[$:/plugins/oflg/fishing/]getindex[adjustscheduletip]]~[[$:/plugins/oflg/fishing/languages/en-GB]getindex[adjustscheduletip]]}}} class=\"tc-btn-invisible\" style=\"margin:0;padding:0 5px;\">\n{{$:/core/images/options-button}}\n</$button>\n</div>\n</$reveal>\n</$reveal>\n</$button>\n</$reveal>\n</$list>\n</div>\n<$reveal state=<<qualify \"$:/state/popup/$:/plugins/oflg/fishing/fishrod\">> type=\"popup\" position=\"belowleft\" animate=\"yes\">\n<div class=\"tc-popup-keep tc-drop-down\" style=\"min-width:0;padding:10px;\">\n<$list filter=\"startingease intervalmodifier newinterval hardinterval easybonus graduatinginterval maximuminterval\" variable=\"parameter\">\n<div style=\"display:flex;justify-content:space-between;font-size:8pt;padding:2px;\">\n<$text text={{{[{$:/language}removeprefix[$:/]addprefix[$:/plugins/oflg/fishing/]getindex<parameter>]~[[$:/plugins/oflg/fishing/languages/en-GB]getindex<parameter>]}}}/> <$edit-text tiddler={{{[{$:/temp/fishing!!fishrod}addprefix[$:/plugins/oflg/fishing/fishrod/]]}}} index=<<parameter>> placeholder={{{[all[current]get<parameter>]}}} tag=\"input\" size=\"4\"/>\n</div>\n</$list>\n</div>\n</$reveal>\n"},"$:/plugins/oflg/fishing/icon":{"title":"$:/plugins/oflg/fishing/icon","tags":"$:/tags/Image","text":"<svg t=\"1624253936139\" class=\"icon\" viewBox=\"0 0 1024 1024\" version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\" p-id=\"20427\" width=\"22pt\" height=\"22pt\"><path d=\"M85.333333 648.533333h-68.266666c-10.24 0-17.066667 6.826667-17.066667 17.066667s6.826667 17.066667 17.066667 17.066667h68.266666c10.24 0 17.066667-6.826667 17.066667-17.066667s-6.826667-17.066667-17.066667-17.066667zM1006.933333 648.533333h-238.933333c-10.24 0-17.066667 6.826667-17.066667 17.066667s6.826667 17.066667 17.066667 17.066667h238.933333c10.24 0 17.066667-6.826667 17.066667-17.066667s-6.826667-17.066667-17.066667-17.066667zM51.2 819.2c-10.24 0-17.066667 6.826667-17.066667 17.066667s10.24 17.066667 17.066667 17.066666c10.24 0 17.066667-6.826667 17.066667-17.066666s-6.826667-17.066667-17.066667-17.066667zM324.266667 989.866667c-10.24 0-17.066667 6.826667-17.066667 17.066666s10.24 17.066667 17.066667 17.066667c10.24 0 17.066667-6.826667 17.066666-17.066667s-6.826667-17.066667-17.066666-17.066666zM426.666667 989.866667c-10.24 0-17.066667 6.826667-17.066667 17.066666s6.826667 17.066667 17.066667 17.066667 17.066667-6.826667 17.066666-17.066667-6.826667-17.066667-17.066666-17.066666zM494.933333 989.866667c-10.24 0-17.066667 6.826667-17.066666 17.066666s6.826667 17.066667 17.066666 17.066667 17.066667-6.826667 17.066667-17.066667-6.826667-17.066667-17.066667-17.066666zM836.266667 819.2c-10.24 0-17.066667 6.826667-17.066667 17.066667s6.826667 17.066667 17.066667 17.066666 17.066667-6.826667 17.066666-17.066666-6.826667-17.066667-17.066666-17.066667zM238.933333 672.426667c3.413333-6.826667 0-10.24 0-17.066667-3.413333-3.413333-10.24-6.826667-17.066666-6.826667h-34.133334c-6.826667 0-10.24 3.413333-13.653333 6.826667-3.413333 3.413333-64.853333 109.226667 0 191.146667 3.413333 3.413333 10.24 6.826667 13.653333 6.826666h6.826667c6.826667-3.413333 10.24-10.24 10.24-17.066666 0-13.653333 0-81.92 34.133333-163.84zM733.866667 819.2h-78.506667c27.306667-71.68 92.16-238.933333 58.026667-290.133333-6.826667-10.24-20.48-17.066667-34.133334-17.066667-23.893333 0-40.96-3.413333-54.613333-6.826667 51.2-51.2 122.88-184.32 85.333333-266.24-13.653333-30.72-51.2-68.266667-143.36-68.266666-51.2 3.413333-102.4-20.48-143.36-61.44-30.72-30.72-51.2-68.266667-51.2-92.16 3.413333-10.24-3.413333-17.066667-13.653333-17.066667s-17.066667 6.826667-17.066667 17.066667c0 34.133333 23.893333 78.506667 61.44 116.053333C450.56 180.906667 512 204.8 573.44 204.8c58.026667-3.413333 95.573333 13.653333 109.226667 47.786667 27.306667 64.853333-30.72 180.906667-78.506667 232.106666-3.413333 3.413333-3.413333 3.413333-3.413333 6.826667-17.066667-17.066667-17.066667-37.546667-17.066667-61.44 0-6.826667-3.413333-10.24-6.826667-13.653333s-10.24-3.413333-17.066666 0C238.933333 552.96 238.933333 819.2 238.933333 836.266667v6.826666s0 3.413333 3.413334 3.413334c0 0 0 3.413333 3.413333 3.413333 0 0 3.413333 0 3.413333 3.413333h488.106667c10.24 0 17.066667-6.826667 17.066667-17.066666s-10.24-17.066667-20.48-17.066667z m-252.586667-269.653333c6.826667-6.826667 17.066667-6.826667 23.893333 0 3.413333 3.413333 6.826667 6.826667 6.826667 10.24s-3.413333 10.24-3.413333 10.24c-3.413333 3.413333-6.826667 6.826667-13.653334 6.826666-3.413333 0-10.24-3.413333-13.653333-6.826666-3.413333 3.413333-3.413333-3.413333-3.413333-6.826667s3.413333-10.24 3.413333-13.653333z m-81.92 170.666666c-17.066667-13.653333-23.893333-34.133333-23.893333-54.613333 0-10.24 6.826667-17.066667 17.066666-17.066667s17.066667 6.826667 17.066667 17.066667c0 13.653333 3.413333 20.48 13.653333 30.72 30.72 27.306667 109.226667 27.306667 139.946667 23.893333 10.24 0 17.066667 6.826667 20.48 13.653334 0 10.24-6.826667 17.066667-13.653333 20.48-3.413333 0-20.48 3.413333-40.96 3.413333-44.373333-3.413333-98.986667-10.24-129.706667-37.546667zM597.333333 887.466667h-273.066666c-10.24 0-17.066667 6.826667-17.066667 17.066666s6.826667 17.066667 17.066667 17.066667h273.066666c10.24 0 17.066667-6.826667 17.066667-17.066667s-6.826667-17.066667-17.066667-17.066666zM699.733333 887.466667c-10.24 0-17.066667 6.826667-17.066666 17.066666s6.826667 17.066667 17.066666 17.066667 17.066667-6.826667 17.066667-17.066667-6.826667-17.066667-17.066667-17.066666zM221.866667 887.466667c-10.24 0-17.066667 6.826667-17.066667 17.066666s10.24 17.066667 17.066667 17.066667c10.24 0 17.066667-6.826667 17.066666-17.066667s-6.826667-17.066667-17.066666-17.066666z\" p-id=\"20428\"></path></svg>"},"$:/plugins/oflg/fishing/languages/en-GB":{"title":"$:/plugins/oflg/fishing/languages/en-GB","type":"application/json","text":"{\n    \"description\": \"Flashcards integrated in TiddlyWiki, fishing with algorithm of Anki\",\n    \"fishingbuttontip\": \"Review tiddlers\",\n    \"fillfiltertip\": \"Fill in this filter\",\n    \"pinfiltertip\": \"Pin this filter\",\n    \"unpinfiltertip\": \"Unpin this filter\",\n    \"adjustscheduletip\": \"Adjust review schedule of this filter\",\n    \"easybonus\": \"Easy Parameter\",\n    \"graduatinginterval\": \"Starting Interval (day)\",\n    \"hardinterval\": \"Hard Parameter\",\n    \"intervalmodifier\": \"Interval Modifier\",\n    \"maximuminterval\": \"Maximum Interval (day)\",\n    \"newinterval\": \"Again Parameter\",\n    \"startingease\": \"Starting Ease\",\n    \"again\": \"again\",\n    \"againtip\": \"Can't recall the answer\",\n    \"hard\": \"hard\",\n    \"hardtip\": \"Hard to recall the answer\",\n    \"good\": \"good\",\n    \"goodtip\": \"Recall the answer\",\n    \"easy\": \"easy\",\n    \"easytip\": \"Easy to recall the answer\",\n    \"moretip\": \"More\",\n    \"reset\": \"reset\",\n    \"resettip\": \"Reset this tiddler's review schedule\",\n    \"remove\": \"remove\",\n    \"removetip\": \"No more review of this tiddler\",\n    \"fishpondtip\": \"Review tiddlers of this group\",\n    \"due\": \"due:\",\n    \"new\": \"new:\"\n}"},"$:/plugins/oflg/fishing/languages/zh-Hans":{"title":"$:/plugins/oflg/fishing/languages/zh-Hans","type":"application/json","text":"{\n    \"description\": \"TiddlyWiki集成抽认卡，“钓鱼”使用Anki算法\",\n    \"fishingbuttontip\": \"复习条目\",\n    \"fillfiltertip\": \"填入此筛选器\",\n    \"pinfiltertip\": \"固定此筛选器\",\n    \"unpinfiltertip\": \"解除此筛选器\",\n    \"adjustscheduletip\": \"调整此筛选器的复习计划\",\n    \"easybonus\": \"简单参数\",\n    \"graduatinginterval\": \"初始间隔（天）\",\n    \"hardinterval\": \"困难参数\",\n    \"intervalmodifier\": \"间隔系数\",\n    \"maximuminterval\": \"最大间隔（天）\",\n    \"newinterval\": \"重来参数\",\n    \"startingease\": \"初始易度\",\n    \"again\": \"重来\",\n    \"againtip\": \"想不到答案\",\n    \"hard\": \"困难\",\n    \"hardtip\": \"难想到答案\",\n    \"good\": \"良好\",\n    \"goodtip\": \"想到答案\",\n    \"easy\": \"容易\",\n    \"easytip\": \"容易想到答案\",\n    \"moretip\": \"更多\",\n    \"reset\": \"重置\",\n    \"resettip\": \"重置此条目的复习进度\",\n    \"remove\": \"移出\",\n    \"removetip\": \"不再复习此条目\",\n    \"fishpondtip\": \"复习此组条目\",\n    \"due\": \"已到期：\",\n    \"new\": \"新添加：\"\n}"},"$:/plugins/oflg/fishing/license":{"title":"$:/plugins/oflg/fishing/license","text":"\nMIT License\n\nCopyright (c) 2021 oflg\n\nPermission is hereby granted, free of charge, to any person obtaining a copy\nof this software and associated documentation files (the \"Software\"), to deal\nin the Software without restriction, including without limitation the rights\nto use, copy, modify, merge, publish, distribute, sublicense, and/or sell\ncopies of the Software, and to permit persons to whom the Software is\nfurnished to do so, subject to the following conditions:\n\nThe above copyright notice and this permission notice shall be included in all\ncopies or substantial portions of the Software.\n\nTHE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\nIMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\nFITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\nAUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\nLIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\nOUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\nSOFTWARE."},"$:/plugins/oflg/fishing/macros":{"title":"$:/plugins/oflg/fishing/macros","tags":"$:/tags/Macro","text":"\\define ?(title)\n<div style=\"padding:28px 42px 42px 42px;border-radius:2px;box-shadow:1px 1px 5px rgb(0 0 0 / 30%);margin:10px 0;\">\n{{$title$||$:/core/ui/ViewTemplate/title}}\n{{$title$||$:/core/ui/ViewTemplate/tags}}\n{{$title$||$:/core/ui/ViewTemplate/body}}\n</div>\n\\end\n\n\\define priority() [get[priority]else[100]log[0.1]fixed[2]]=[relink:backreferences[]!is[system]count[]]=[relink:references[]!is[system]tag[questiontemplate]count[]]=[relink:references[]!is[system]has[due]!days:due[1]count[]]=[relink:references[]!is[system]has[due]count[]negate[]]+[sum[]fixed[2]]"},"$:/plugins/oflg/fishing/readme":{"title":"$:/plugins/oflg/fishing/readme","text":"Installation and usage tutorial is available at [[Fishing Manual|https://oflg.github.io/fishing/]].\n\n可在 [[钓鱼手册|https://oflg.github.io/fishing/]] 查看安装使用教程。\n"},"Choice":{"title":"Choice","tags":"questiontemplate","text":"<div class=\"tc-tiddler-body\">\n<$reveal default={{$:/temp/fishing!!fish}} type=\"nomatch\" text=<<currentTiddler>> animate=\"yes\">\n{{!!title}}\n</$reveal>\n<$reveal default={{$:/temp/fishing!!fish}} type=\"match\" text=<<currentTiddler>> animate=\"yes\">\n<$reveal default={{{[{!!title}search:title[^^__]]}}} type=\"nomatch\" text=\"\" animate=\"yes\">\n{{{[{!!title}split[__]first[]]}}}\n<$list filter=\"[{!!title}split[__]search[^^]]\" variable=\"titleitem\">\n<$vars choiceid={{{[<titleitem>split[^^]rest[]]}}} choicecontent={{{[<titleitem>split[^^]first[]]}}}>\n<$vars answerid={{{[{!!title}split[__]search[^^]search['']count[]match[1]then[answerid]else<choiceid>]}}}>\n<$reveal state=<<folded-state>> type=\"nomatch\" text=\"show\" animate=\"yes\">\n\n<$reveal default={{{[{!!title}split[__]search[^^]search['']count[]]}}} type=\"lteq\" text=\"1\">\n<$radio tiddler=\"$:/temp/fishing\" index=<<answerid>> value=<<choiceid>> default=\"\">\n<<choiceid>>. {{{[<choicecontent>search-replace:g:[''],[]]}}}\n</$radio>\n</$reveal>\n<$reveal default={{{[{!!title}split[__]search[^^]search['']count[]]}}} type=\"gt\" text=\"1\">\n<$checkbox tiddler=\"$:/temp/fishing\" index=<<answerid>> checked=<<choiceid>> unchecked=\"\" default=\"\">\n<<choiceid>>. {{{[<choicecontent>search-replace:g:[''],[]]}}}\n</$checkbox>\n</$reveal>\n</$reveal>\n<$reveal state=<<folded-state>> type=\"match\" text=\"show\" animate=\"yes\">\n\n<$button disabled=\"yes\" class=\"tc-btn-invisible\">\n<$reveal default={{{[<choicecontent>search['']then[1]else[0]]=[[$:/temp/fishing]getindex<answerid>match<answerid>then[1]else[0]]+[join[]]}}} type=\"match\" text=\"00\" animate=\"yes\">\n{{$:/core/images/blank}}\n</$reveal>\n<$reveal default={{{[<choicecontent>search['']then[1]else[0]]=[[$:/temp/fishing]getindex<answerid>match<answerid>then[1]else[0]]+[join[]]}}} type=\"match\" text=\"01\" animate=\"yes\">\n{{$:/core/images/close-button}}\n</$reveal>\n<$reveal default={{{[<choicecontent>search['']then[1]else[0]]=[[$:/temp/fishing]getindex<answerid>match<answerid>then[1]else[0]]+[join[]]}}} type=\"match\" text=\"10\" animate=\"yes\">\n{{$:/core/images/warning}}\n</$reveal>\n<$reveal default={{{[<choicecontent>search['']then[1]else[0]]=[[$:/temp/fishing]getindex<answerid>match<answerid>then[1]else[0]]+[join[]]}}} type=\"match\" text=\"11\" animate=\"yes\">\n{{$:/core/images/done-button}}\n</$reveal>\n</$button> <<choiceid>>. {{{[<choicecontent>search-replace:g:[''],[]]}}}\n</$reveal>\n</$vars>\n</$vars>\n</$list>\n\n{{{[{!!title}split[__]reverse[]first[]]}}}\n</$reveal>\n<$reveal default={{{[{!!title}search:title[^^__]]}}} type=\"match\" text=\"\" animate=\"yes\">\n{{!!title}}\n</$reveal>\n</$reveal>\n</div>"},"Cloze":{"title":"Cloze","tags":"questiontemplate","text":"<div class=\"tc-tiddler-body\">\n<$reveal state=<<folded-state>> type=\"nomatch\" text=\"show\" animate=\"yes\">\n<$reveal default={{$:/temp/fishing!!fish}} type=\"nomatch\" text=<<currentTiddler>> animate=\"yes\">\n{{!!title}}\n</$reveal>\n<$reveal default={{$:/temp/fishing!!fish}} type=\"match\" text=<<currentTiddler>> animate=\"yes\">\n<$reveal default={{{[{!!title}search:title[^^__]]}}} type=\"nomatch\" text=\"\" animate=\"yes\">\n<$list filter=\"[{!!title}split[__]]\" variable=\"titleitem\">\n<$reveal default={{{[<titleitem>search[^^]]}}} type=\"match\" text=\"\">\n<<titleitem>>\n</$reveal>\n<$reveal default={{{[<titleitem>search[^^]]}}} type=\"nomatch\" text=\"\">\n<$vars clozecontent={{{[<titleitem>split[^^]first[]]}}} clozeid={{{[<titleitem>split[^^]rest[]]}}}>\n<$button class=\"tc-btn-invisible tc-tiddlylink\">\n<$action-setfield $tiddler=\"$:/temp/fishing\" $index=<<clozeid>> $value={{{[[$:/temp/fishing]getindex<clozeid>match[show]then[]else[show]]}}}/>\n<$vars content={{{[[$:/temp/fishing]getindex<clozeid>match[show]then<clozecontent>else[`    `]]}}}>\n<<content>>^^<<clozeid>>^^\n</$vars>\n</$button>\n</$vars>\n</$reveal>\n</$list>\n</$reveal>\n<$reveal default={{{[{!!title}search:title[^^__]]}}} type=\"match\" text=\"\" animate=\"yes\">\n{{!!title}}\n</$reveal>\n</$reveal>\n</$reveal>\n<$reveal state=<<folded-state>> type=\"match\" text=\"show\" animate=\"yes\">\n{{!!title}}\n</$reveal>\n</div>"},"Qa":{"title":"Qa","tags":"questiontemplate","text":"<div class=\"tc-tiddler-body\">\n<$reveal default={{$:/temp/fishing!!fish}} type=\"match\" text=<<currentTiddler>> animate=\"yes\">\n{{!!title}}\n<br>\n<$edit tiddler=\"$:/temp/fishing\" placeholder={{$:/language/EditTemplate/Body/Placeholder}} focus=\"true\" minHeight=\"15px\" class=\"tc-edit-texteditor tc-edit-texteditor-body\"> \n<$set value=<<currentTiddler>> name=\"targetTiddler\">\n<$list filter=\"[all[shadows+tiddlers]tag[$:/tags/EditorToolbar]!has[draft.of]]\">\n<$reveal type=\"nomatch\" state=<<config-visibility-title>> text=\"hide\" class=\"tc-text-editor-toolbar-item-wrapper\" style=\"display:none;\">\n<$transclude tiddler=\"$:/core/ui/EditTemplate/body/toolbar/button\" mode=\"inline\"/>\n</$reveal>\n</$list>\n<$list filter=\"[all[shadows+tiddlers]tag[$:/tags/EditorTools]!has[draft.of]]\">\n<$list filter={{!!condition}} variable=\"list-condition\">\n<$transclude/>\n</$list>\n</$list>\n</$set>\n</$edit>\n<$reveal default={{$:/temp/fishing}} type=\"nomatch\" text=\"\" animate=\"yes\">\n<$reveal state=<<folded-state>> type=\"match\" text=\"show\" animate=\"yes\">\n<$diff-text source={{$:/temp/fishing}} dest={{!!text}}/>\n</$reveal>\n</$reveal>\n</$reveal>\n<$reveal default={{$:/temp/fishing!!fish}} type=\"nomatch\" text=<<currentTiddler>> animate=\"yes\">\n{{!!title}}\n</$reveal>\n</div>"},"$:/config/flibbles/relink/fields/fish":{"title":"$:/config/flibbles/relink/fields/fish","text":"title"},"$:/config/flibbles/relink/macros/?/title":{"title":"$:/config/flibbles/relink/macros/?/title","text":"title"},"$:/config/EditTemplateFields/Visibility/due":{"title":"$:/config/EditTemplateFields/Visibility/due","text":"hide"},"$:/config/EditTemplateFields/Visibility/factor":{"title":"$:/config/EditTemplateFields/Visibility/factor","text":"hide"},"$:/config/EditTemplateFields/Visibility/interval":{"title":"$:/config/EditTemplateFields/Visibility/interval","text":"hide"},"$:/core/ui/EditorToolbar/excise-dropdown":{"title":"$:/core/ui/EditorToolbar/excise-dropdown","text":"\\define lingo-base() $:/language/Buttons/Excise/\n\n\\define body(config-title)\n\n<<lingo Caption/NewTitle>> <$edit-text tag=\"input\" tiddler=\"$config-title$/new-title\" default=\"\" focus=\"true\"/>\n\n<$set name=\"new-title\" value={{$config-title$/new-title}}>\n<$list filter=\"\"\"[<new-title>is[tiddler]]\"\"\">\n<div class=\"tc-error\">\n<<lingo Caption/TiddlerExists>>\n</div>\n</$list>\n</$set>\n\n<$checkbox tiddler=\"\"\"$config-title$/tagnew\"\"\" field=\"text\" checked=\"yes\" unchecked=\"no\" default=\"false\"> <<lingo Caption/Tag>></$checkbox>\n\n<<lingo Caption/Replace>> <$select tiddler=\"\"\"$config-title$/type\"\"\" default=\"transclude\">\n<option value=\"link\"><<lingo Caption/Replace/Link>></option>\n<option value=\"transclude\"><<lingo Caption/Replace/Transclusion>></option>\n<option value=\"macro\"><<lingo Caption/Replace/Macro>></option>\n</$select>\n\n<$reveal state=\"\"\"$config-title$/type\"\"\" type=\"match\" text=\"macro\">\n<<lingo Caption/MacroName>> <$edit-text tag=\"input\" tiddler=\"\"\"$config-title$/macro-title\"\"\"  focus=\"true\" default=\"translink\"/>\n</$reveal>\n\n<$fieldmangler tiddler={{$config-title$/new-title}}>\n<$button>\n<$action-sendmessage\n\t$message=\"tm-edit-text-operation\"\n\t$param=\"excise\"\n\ttitle={{$config-title$/new-title}}\n\ttype={{$config-title$/type}}\n\tmacro={{$config-title$/macro-title}}\n\ttagnew={{$config-title$/tagnew}}\n/>\n<$action-deletetiddler\n\t$tiddler=\"$config-title$/new-title\"\n/>\n<$action-deletetiddler\n\t$tiddler=<<dropdown-state>>\n/>\n<$reveal default={{$config-title$/macro-title}} type=\"match\" text=\"?\">\n<$action-sendmessage $message=\"tm-add-tag\" $param=\"?\"/>\n</$reveal>\n<<lingo Caption/Excise>>\n</$button>\n</$fieldmangler>\n\\end\n\n<$macrocall $name=\"body\" config-title=<<qualify \"$:/state/Excise/\">>/>\n"},"$:/core/ui/ViewTemplate/title":{"title":"$:/core/ui/ViewTemplate/title","tags":"$:/tags/ViewTemplate","text":"\\whitespace trim\n\\define title-styles()\nfill:$(foregroundColor)$;\n\\end\n\\define config-title()\n$:/config/ViewToolbarButtons/Visibility/$(listItem)$\n\\end\n<div class=\"tc-tiddler-title\">\n<div class=\"tc-titlebar\">\n<span class=\"tc-tiddler-controls\">\n<$list filter=\"[all[shadows+tiddlers]tag[$:/tags/ViewToolbar]!has[draft.of]]\" variable=\"listItem\">\n<$reveal type=\"nomatch\" state=<<config-title>> text=\"hide\">\n<$set name=\"tv-config-toolbar-class\" filter=\"[<tv-config-toolbar-class>] [<listItem>encodeuricomponent[]addprefix[tc-btn-]]\">\n<$transclude tiddler=<<listItem>>/>\n</$set>\n</$reveal>\n</$list>\n<$reveal default={{$:/temp/fishing!!fish}} text=<<currentTiddler>> type=\"match\">\n<$reveal state=\"$:/config/ViewToolbarButtons/Visibility/$:/core/ui/Buttons/fold\" type=\"nomatch\" text=\"show\">\n<$set name=\"tv-config-toolbar-class\" filter=\"[<tv-config-toolbar-class>] [[$:/core/ui/Buttons/fold]encodeuricomponent[]addprefix[tc-btn-]]\">\n<$transclude tiddler=\"$:/core/ui/Buttons/fold\"/>\n</$set>\n</$reveal>\n</$reveal>\n</span>\n<$set name=\"tv-wikilinks\" value={{$:/config/Tiddlers/TitleLinks}}>\n<$link>\n<$set name=\"foregroundColor\" value={{!!color}}>\n<$list filter=\"[all[current]has[icon]] ~[[$:/config/DefaultTiddlerIcon]has[text]]\">\n<span style=<<title-styles>> class=\"tc-tiddler-title-icon\">\n<$transclude tiddler={{!!icon}}>\n<$transclude tiddler={{$:/config/DefaultTiddlerIcon}}/>\n</$transclude>\n</span>\n</$list>\n</$set>\n<h2 class=\"tc-title\" title={{{ [all[current]prefix[$:/]then{$:/language/SystemTiddler/Tooltip}] }}}>\n<<toc-caption>>\n</h2>\n</$link>\n</$set>\n</div>\n\n<$reveal type=\"nomatch\" text=\"\" default=\"\" state=<<tiddlerInfoState>> class=\"tc-tiddler-info tc-popup-handle\" animate=\"yes\" retain=\"yes\">\n\n<$list filter=\"[all[shadows+tiddlers]tag[$:/tags/TiddlerInfoSegment]!has[draft.of]] [[$:/core/ui/TiddlerInfo]]\" variable=\"listItem\"><$transclude tiddler=<<listItem>> mode=\"block\"/></$list>\n\n</$reveal>\n</div>"}}}