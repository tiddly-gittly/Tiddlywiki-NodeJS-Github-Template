{"tiddlers":{"$:/plugins/BTC/TiddlyFlex/KeyboardShortcuts/add-column":{"title":"$:/plugins/BTC/TiddlyFlex/KeyboardShortcuts/add-column","tags":"$:/tags/KeyboardShortcut","key":"((add-column))","text":"\\import $:/plugins/BTC/TiddlyFlex/globals/layout/functions\n<%if [tdff.tiddlyflex-layout[]] %>\n\t<%if [tdff.tiddlyflex-fullscreen[]is[blank]] %>\n\t\t<$let columns={{{ [list[$:/columns]count[]!match[0]] ~1 }}} nextColumn={{{ [<columns>add[1]] }}}>\n\t\t\t<%if [list[$:/columns]count[]match[0]] %>\n\t\t\t\t<$action-listops $tiddler=\"$:/columns\" $subfilter=\"1\"/>\n\t\t\t<% endif %>\n\t\t\t<$action-listops $tiddler=\"$:/columns\" $subfilter=\"[<nextColumn>]\"/>\n\t\t</$let>\n\t<% endif %>\n<% endif %>"},"$:/plugins/BTC/TiddlyFlex/KeyboardShortcuts/cancel-close-tiddler":{"title":"$:/plugins/BTC/TiddlyFlex/KeyboardShortcuts/cancel-close-tiddler","tags":"$:/tags/KeyboardShortcut","key":"((cancel-close-tiddler))","text":"\\import $:/plugins/BTC/TiddlyFlex/privates/selectors $:/plugins/BTC/TiddlyFlex/privates/navigation $:/plugins/BTC/TiddlyFlex/globals/layout/functions\n\\procedure tiddlyflex-tiddler-is-draft-actions-draft-of-not-is-missing()\n<$list filter=\"[list[$:/columns]!match{$:/columns!!current-column}]\" variable=\"tiddlyFlexColumn\">\n\t<$set name=\"tv-story-list\" value={{{ [[$:/StoryList-]addsuffix<tiddlyFlexColumn>!match[$:/StoryList-]] ~[[$:/StoryList-1]] }}}>\n\t\t<%if [<tv-story-list>contains<tiddler>] %>\n\t\t\t<$set name=\"index\" value={{{ [list<tv-story-list>allbefore<tiddler>add[1]] }}}>\n\t\t\t\t<$let nextTiddler={{{ [list<tv-story-list>zth<index>] }}} viewTiddler={{{ [<tiddler>get[draft.of]] }}}>\n\t\t\t\t\t<$action-listops $tiddler=<<tv-story-list>> $subfilter=\"+[insertbefore<viewTiddler>,<nextTiddler>]\"/>\n\t\t\t\t\t<$action-listops $tiddler=<<tv-story-list>> $subfilter=\"-[<tiddler>]\"/>\n\t\t\t\t</$let>\n\t\t\t</$set>\n\t\t<% endif %>\n\t</$set>\n</$list>\n\\end\n\\procedure tiddlyflex-tiddler-is-draft-actions()\n<% if [<tiddler>get[draft.of]!is[shadow]is[missing]] %>\n\t<$list filter=\"[list[$:/columns]!match{$:/columns!!current-column}]\" variable=\"tiddlyFlexColumn\">\n\t\t<$set name=\"tv-story-list\" value={{{ [[$:/StoryList-]addsuffix<tiddlyFlexColumn>!match[$:/StoryList-]] ~[[$:/StoryList-1]] }}}>\n\t\t\t<%if [<tv-story-list>contains<tiddler>] %>\n\t\t\t\t<$action-listops $tiddler=<<tv-story-list>> $subfilter=\"-[<tiddler>]\"/>\n\t\t\t<% endif %>\n\t\t</$set>\n\t</$list>\n<% else %>\n\t<<tiddlyflex-tiddler-is-draft-actions-draft-of-not-is-missing>>\n\t<$set name=\"toTiddler\" value={{{ [<tiddler>get[draft.of]] }}}>\n\t\t<$action-sendmessage $message=\"tm-rename-tiddler\" from={{{ [[$:/state/tiddlyflex/story-river/fullscreen/]addsuffix<tiddler>] }}} to={{{ [[$:/state/tiddlyflex/story-river/fullscreen/]addsuffix<toTiddler>] }}}/>\n\t</$set>\n<% endif %>\n<$set name=\"scrollTiddler\" value={{{ [subfilter<tdff.tiddlyflex-story-river-filter>after<tiddler>] ~[subfilter<tdff.tiddlyflex-story-river-filter>before<tiddler>] }}}>\n\t<%if [<tiddler>get[draft.of]!is[shadow]is[missing]] %>\n\t\t<$action-setfield $tiddler=<<tv-history-list>> current-tiddler=<<scrollTiddler>>/>\n\t\t<%if [<scrollTiddler>is[draft]] %>\n\t\t\t<$set name=\"cssEscapedTitle\" value={{{ [<scrollTiddler>escapecss[]] }}}>\n\t\t\t\t<<tiddlyflex-focus-draft-tiddler>>\n\t\t\t</$set>\n\t\t<% else %>\n\t\t\t<<tiddlyflex-focus-flexcontainer>>\n\t\t<% endif %>\n\t<% endif %>\n\t<$action-sendmessage $message=\"tm-cancel-tiddler\" $param=<<tiddler>>/>\n</$set>\n\\end\n\\define actions()\n<$set name=\"tiddler\" value=<<currentTiddler>>>\n\t<%if [<tiddler>!is[draft]] %>\n\t\t<$let scrollTiddler={{{ [subfilter<tdff.tiddlyflex-story-river-filter>] +[before<tiddler>] ~[after<tiddler>] }}}>\n\t\t\t<$action-setfield $tiddler=<<tv-history-list>> current-tiddler=<<scrollTiddler>>/>\n\t\t\t<$action-sendmessage $message=\"tm-close-tiddler\" $param=<<tiddler>>/>\n\t\t\t<%if [<scrollTiddler>is[draft]] %>\n\t\t\t\t<$set name=\"cssEscapedTitle\" value={{{ [<scrollTiddler>escapecss[]] }}}>\n\t\t\t\t\t<<tiddlyflex-focus-draft-tiddler>>\n\t\t\t\t</$set>\n\t\t\t<% else %>\n\t\t\t\t<<tiddlyflex-focus-flexcontainer>>\n\t\t\t<% endif %>\n\t\t</$let>\n\t\t<$action-deletetiddler $tiddler={{{ [[$:/state/tiddlyflex/story-river/fullscreen/]addsuffix<tiddler>] }}}/>\n\t<% else %>\n\t\t<<tiddlyflex-tiddler-is-draft-actions>>\n\t\t<$action-deletetiddler $tiddler={{{ [[$:/state/tiddlyflex/story-river/fullscreen/]addsuffix<tiddler>] }}}/>\n\t<% endif %>\n</$set>\n\\end\n<%if [tdff.tiddlyflex-layout[]] %>\n\t<$macrocall $name=\"tiddlyflex-keyboard-navigator\" actions=<<actions>>/>\n<% endif %>"},"$:/plugins/BTC/TiddlyFlex/KeyboardShortcuts/column-down":{"title":"$:/plugins/BTC/TiddlyFlex/KeyboardShortcuts/column-down","tags":"$:/tags/KeyboardShortcut","key":"((column-down))","text":"\\import $:/plugins/BTC/TiddlyFlex/privates/selectors $:/plugins/BTC/TiddlyFlex/privates/navigation $:/plugins/BTC/TiddlyFlex/globals/layout/functions\n<%if [tdff.tiddlyflex-layout[]] %>\n\t<%if [tdff.tiddlyflex-fullscreen[]is[blank]] %>\n\t\t<$let currentColumn={{{ [subfilter<tdff.tiddlyflex-enlist-columns>] :intersection[[$:/columns]get[current-column]] ~[subfilter<tdff.tiddlyflex-current-column-filtered>] ~1 }}} columnCount={{{ [subfilter<tdff.tiddlyflex-enlist-columns>last[]] ~[subfilter<tdff.tiddlyflex-enlist-columns>first[]] ~1 }}} nextColumn={{{ [subfilter<tdff.tiddlyflex-enlist-columns>] +[before<currentColumn>] ~[<columnCount>] }}} tv-story-list={{{ [[$:/StoryList-]addsuffix<nextColumn>] }}} tv-history-list={{{ [[$:/HistoryList-]addsuffix<nextColumn>] }}}>\n\t\t\t<$set name=\"currentColumn\" value=<<nextColumn>>>\n\t\t\t\t<<tiddlyflex-scroll-to-column>>\n\t\t\t</$set>\n\t\t\t<<tiddlyflex-cycle-columns-navigator>>\n\t\t</$let>\n\t<% endif %>\n<% endif %>"},"$:/plugins/BTC/TiddlyFlex/KeyboardShortcuts/column-up":{"title":"$:/plugins/BTC/TiddlyFlex/KeyboardShortcuts/column-up","tags":"$:/tags/KeyboardShortcut","key":"((column-up))","text":"\\import $:/plugins/BTC/TiddlyFlex/privates/selectors $:/plugins/BTC/TiddlyFlex/privates/navigation $:/plugins/BTC/TiddlyFlex/globals/layout/functions\n<%if [tdff.tiddlyflex-layout[]] %>\n\t<%if [tdff.tiddlyflex-fullscreen[]is[blank]] %>\n\t\t<$let currentColumn={{{ [subfilter<tdff.tiddlyflex-enlist-columns>] :intersection[[$:/columns]get[current-column]] ~[subfilter<tdff.tiddlyflex-current-column-filtered>] ~1 }}} nextColumn={{{ [subfilter<tdff.tiddlyflex-enlist-columns>] +[after<currentColumn>] ~[subfilter<tdff.tiddlyflex-enlist-columns>first[]] ~1 }}} tv-story-list={{{ [[$:/StoryList-]addsuffix<nextColumn>] }}} tv-history-list={{{ [[$:/HistoryList-]addsuffix<nextColumn>] }}}>\n\t\t\t<$set name=\"currentColumn\" value=<<nextColumn>>>\n\t\t\t\t<<tiddlyflex-scroll-to-column>>\n\t\t\t</$set>\n\t\t\t<<tiddlyflex-cycle-columns-navigator>>\n\t\t</$let>\n\t<% endif %>\n<% endif %>"},"$:/plugins/BTC/TiddlyFlex/KeyboardShortcuts/dragging":{"title":"$:/plugins/BTC/TiddlyFlex/KeyboardShortcuts/dragging","tags":"$:/tags/KeyboardShortcut","key":"((dragging))","text":"\\import $:/plugins/BTC/TiddlyFlex/globals/layout/functions\n<%if [tdff.tiddlyflex-layout[]] %>\n\t<%if [tdff.tiddlyflex-fullscreen[]is[blank]] %>\n\t\t<%if [{$:/state/tiddlyflex/story-river/tiddler/drag-enabled}!match[yes]] %>\n\t\t\t<$action-setfield $tiddler=\"$:/state/tiddlyflex/story-river/tiddler/drag-enabled\" text=\"yes\"/>\n\t\t<% else %>\n\t\t\t<$action-deletetiddler $tiddler=\"$:/state/tiddlyflex/story-river/tiddler/drag-enabled\"/>\n\t\t<% endif %>\n\t<% endif %>\n<% endif %>"},"$:/plugins/BTC/TiddlyFlex/KeyboardShortcuts/edit-tiddler":{"title":"$:/plugins/BTC/TiddlyFlex/KeyboardShortcuts/edit-tiddler","tags":"$:/tags/KeyboardShortcut","key":"((edit-tiddler))","text":"\\import $:/plugins/BTC/TiddlyFlex/privates/navigation $:/plugins/BTC/TiddlyFlex/globals/layout/functions\n\\define actions()\n<%if [subfilter<tdff.tiddlyflex-story-river-filter>] +[match<currentTiddler>] %>\n\t<%if [<currentTiddler>!is[draft]] %>\n\t\t<$action-sendmessage $message=\"tm-edit-tiddler\" $param=<<currentTiddler>>/>\n\t\t<%if [[$:/state/tiddlyflex/story-river/fullscreen/]addsuffix<currentTiddler>!is[missing]] %>\n\t\t\t<$action-sendmessage $message=\"tm-rename-tiddler\" from={{{ [[$:/state/tiddlyflex/story-river/fullscreen/]addsuffix<currentTiddler>] }}} to={{{ [[$:/state/tiddlyflex/story-river/fullscreen/Draft of ']addsuffix<currentTiddler>addsuffix[']] }}}/>\n\t\t<% endif %>\n\t<% endif %>\n<% endif %>\n\\end\n<%if [tdff.tiddlyflex-layout[]] %>\n\t<$macrocall $name=\"tiddlyflex-keyboard-navigator\" actions=<<actions>>/>\n<% endif %>"},"$:/plugins/BTC/TiddlyFlex/KeyboardShortcuts/filter-river":{"title":"$:/plugins/BTC/TiddlyFlex/KeyboardShortcuts/filter-river","tags":"$:/tags/KeyboardShortcut","key":"((filter-river))","text":"\\import $:/plugins/BTC/TiddlyFlex/globals/layout/functions\n<%if [tdff.tiddlyflex-layout[]] %>\n\t<%if [tdff.tiddlyflex-fullscreen[]is[blank]] %>\n\t\t<%if [{$:/state/tiddlyflex/story-river/filter}!match[yes]] %>\n\t\t\t<$action-setfield $tiddler=\"$:/state/tiddlyflex/story-river/filter\" text=\"yes\"/>\n\t\t\t<%if [{$:/temp/search/input}is[blank]match[]then[yes]] %>\n\t\t\t\t<$action-sendmessage $message=\"tm-focus-selector\" $param=\".tc-search input\"/>\n\t\t\t<% endif %>\n\t\t<% else %>\n\t\t\t<$action-deletetiddler $tiddler=\"$:/state/tiddlyflex/story-river/filter\"/>\n\t\t<% endif %>\n\t<% endif %>\n<% endif %>"},"$:/plugins/BTC/TiddlyFlex/KeyboardShortcuts/fullscreen":{"title":"$:/plugins/BTC/TiddlyFlex/KeyboardShortcuts/fullscreen","tags":"$:/tags/KeyboardShortcut","key":"((fullscreen))","text":"\\import $:/plugins/BTC/TiddlyFlex/privates/navigation $:/plugins/BTC/TiddlyFlex/globals/layout/functions\n\\define actions()\n<%if [subfilter<tdff.tiddlyflex-story-river-filter>] +[match<currentTiddler>] %>\n\t<%if [[$:/state/tiddlyflex/story-river/fullscreen/]addsuffix<currentTiddler>!is[missing]] %>\n\t\t<$action-deletetiddler $tiddler={{{ [[$:/state/tiddlyflex/story-river/fullscreen/]addsuffix<currentTiddler>] }}}/>\n\t<% else %>\n\t\t<$action-setfield $tiddler={{{ [[$:/state/tiddlyflex/story-river/fullscreen/]addsuffix<currentTiddler>] }}} text=\"yes\" column=<<currentColumn>>/>\n\t<% endif %>\n<% endif %>\n\\end\n<%if [tdff.tiddlyflex-layout[]] %>\n\t<$macrocall $name=\"tiddlyflex-keyboard-navigator\" actions=<<actions>>/>\n<% endif %>"},"$:/plugins/BTC/TiddlyFlex/KeyboardShortcuts/horizontal-vertical":{"title":"$:/plugins/BTC/TiddlyFlex/KeyboardShortcuts/horizontal-vertical","tags":"$:/tags/KeyboardShortcut","key":"((horizontal-vertical))","text":"\\import $:/plugins/BTC/TiddlyFlex/globals/layout/functions\n<%if [tdff.tiddlyflex-layout[]] %>\n\t<%if [{$:/config/tiddlyflex/story-river/horizontal}!match[yes]] %>\n\t\t<$action-setfield $tiddler=\"$:/config/tiddlyflex/story-river/horizontal\" text=\"yes\"/>\n\t\t<$action-sendmessage $message=\"tm-scroll\" selector={{{ [[.tc-tiddlyflex-story-river-]addsuffix{$:/columns!!current-column}] }}}/>\n\t<% else %>\n\t\t<$action-deletetiddler $tiddler=\"$:/config/tiddlyflex/story-river/horizontal\"/>\n\t<% endif %>\n<% endif %>"},"$:/plugins/BTC/TiddlyFlex/KeyboardShortcuts/move-down":{"title":"$:/plugins/BTC/TiddlyFlex/KeyboardShortcuts/move-down","tags":"$:/tags/KeyboardShortcut","key":"((move-down))","text":"\\import $:/plugins/BTC/TiddlyFlex/privates/navigation $:/plugins/BTC/TiddlyFlex/globals/layout/functions\n\\procedure actions()\n<$set name=\"nextTiddler\" value={{{ [subfilter<tdff.tiddlyflex-story-river-filter>] +[after<currentTiddler>] }}}>\n\t<%if [<nextTiddler>!is[blank]!match[]] %>\n\t\t<$action-listops $tiddler=<<tv-story-list>> $subfilter=\"+[insertbefore:currentTiddler<nextTiddler>]\"/>\n\t<% endif %>\n</$set>\n\\end\n<%if [tdff.tiddlyflex-layout[]] %>\n\t<%if [tdff.tiddlyflex-fullscreen[]is[blank]] %>\n\t\t<$macrocall $name=\"tiddlyflex-keyboard-navigator\" actions=<<actions>>/>\n\t<% endif %>\n<% endif %>"},"$:/plugins/BTC/TiddlyFlex/KeyboardShortcuts/move-left":{"title":"$:/plugins/BTC/TiddlyFlex/KeyboardShortcuts/move-left","tags":"$:/tags/KeyboardShortcut","key":"((move-left))","text":"\\import $:/plugins/BTC/TiddlyFlex/privates/selectors $:/plugins/BTC/TiddlyFlex/privates/navigation $:/plugins/BTC/TiddlyFlex/globals/layout/functions\n\\procedure current-tiddler-is-empty-message()\n<$action-listops $tiddler=<<previousStoryList>> $subfilter=\"+[insertbefore<focusedTiddler>,<firstPreviousStoryTiddler>]\"/>\n<$action-setfield $tiddler=<<previousHistoryList>> current-tiddler=<<focusedTiddler>>/>\n\\end\n\\procedure actions()\n<%if [<focusedTiddler>!is[blank]then<tv-story-list>!match[$:/StoryList-1]] %>\n\t<$let scrollTiddler={{{ [subfilter<tdff.tiddlyflex-story-river-filter>after<focusedTiddler>] ~[subfilter<tdff.tiddlyflex-story-river-filter>before<focusedTiddler>] }}}>\n\t\t<$action-setfield $tiddler={{{ [[$:/state/tiddlyflex/removing/]addsuffix<focusedTiddler>] }}} direction=\"left\" column=<<currentColumn>>/>\n\t\t<$action-setfield $tiddler={{{ [[$:/state/tiddlyflex/adding/]addsuffix<focusedTiddler>] }}} direction=\"right\" column={{{ [subfilter<tdff.tiddlyflex-enlist-columns>before<currentColumn>] }}}/>\n\t\t<$action-setfield $tiddler=<<tv-history-list>> current-tiddler={{{ [subfilter<tdff.tiddlyflex-story-river-filter>after<focusedTiddler>] ~[subfilter<tdff.tiddlyflex-story-river-filter>before<focusedTiddler>] }}}/>\n\t\t<$action-listops $tiddler=<<tv-story-list>> $subfilter=\"-[<focusedTiddler>]\"/>\n\t\t<%if [<previousHistoryList>get[current-tiddler]!match[]] %>\n\t\t\t<$set name=\"previousStoryFocusedTiddler\" value={{{ [<previousHistoryList>get[current-tiddler]] }}}>\n\t\t\t\t<%if [<previousStoryList>contains<previousStoryFocusedTiddler>] %>\n\t\t\t\t\t<%if [list<previousStoryList>search:$(searchFields)$:$(searchFlags)${$:/temp/search/input}match<previousStoryFocusedTiddler>then{$:/state/tiddlyflex/story-river/filter}match[yes]] %>\n\t\t\t\t\t\t<$action-listops $tiddler=<<previousStoryList>> $subfilter=\"+[insertbefore<focusedTiddler>,<previousStoryFocusedTiddler>]\"/>\n\t\t\t\t\t<% elseif [{$:/state/tiddlyflex/story-river/filter}!match[yes]] %>\n\t\t\t\t\t\t<$action-listops $tiddler=<<previousStoryList>> $subfilter=\"+[insertbefore<focusedTiddler>,<previousStoryFocusedTiddler>]\"/>\n\t\t\t\t\t<% else %>\n\t\t\t\t\t\t<$set name=\"firstFilteredStoryTiddler\" value={{{ [list<previousStoryList>search{$:/temp/search/input}nth[1]] }}}>\n\t\t\t\t\t\t\t<$action-listops $tiddler=<<previousStoryList>> $subfilter=\"+[insertbefore<focusedTiddler>,<firstFilteredStoryTiddler>]\"/>\n\t\t\t\t\t\t</$set>\n\t\t\t\t\t<% endif %>\n\t\t\t\t\t<$action-setfield $tiddler=<<previousHistoryList>> current-tiddler=<<focusedTiddler>>/>\n\t\t\t\t<% else %>\n\t\t\t\t\t<<current-tiddler-is-empty-message>>\n\t\t\t\t<% endif %>\n\t\t\t</$set>\n\t\t<% else %>\n\t\t\t<<current-tiddler-is-empty-message>>\n\t\t<% endif %>\n\t\t<%if [{$:/config/tiddlyflex/story-river/follow-current-column}match[yes]] %>\n\t\t\t<$action-setfield $tiddler=\"$:/columns\" current-column=<<previousStoryCounter>>/>\n\t\t\t<%if [<focusedTiddler>is[draft]] %>\n\t\t\t\t<$let currentColumn=<<previousStoryCounter>> cssEscapedTitle={{{ [<focusedTiddler>escapecss[]] }}}>\n\t\t\t\t\t<<tiddlyflex-focus-draft-tiddler>>\n\t\t\t\t</$let>\n\t\t\t<% endif %>\n\t\t<% else %>\n\t\t\t<$let currentTiddler={{{ [list<tv-story-list>after<focusedTiddler>] ~[list<tv-story-list>before<focusedTiddler>] }}} cssEscapedTitle={{{ [<currentTiddler>escapecss[]] }}}>\n\t\t\t\t<%if [<currentTiddler>is[draft]] %>\n\t\t\t\t\t<<tiddlyflex-focus-draft-tiddler>>\n\t\t\t\t<% endif %>\n\t\t\t</$let>\n\t\t<% endif %>\n\t\t<$let currentColumn=<<previousStoryCounter>> cssEscapedTitle={{{ [<focusedTiddler>escapecss[]] }}}>\n\t\t\t<<tiddlyflex-scroll-to-column>>\n\t\t\t<<tiddlyflex-scroll-to-tiddler>>\n\t\t</$let>\n\t</$let>\n<% endif %>\n\\end\n<%if [tdff.tiddlyflex-layout[]] %>\n\t<%if [tdff.tiddlyflex-fullscreen[]is[blank]] %>\n\t\t<$macrocall $name=\"tiddlyflex-multi-column-keyboard-navigator\" actions=<<actions>>/>\n\t<% endif %>\n<% endif %>"},"$:/plugins/BTC/TiddlyFlex/KeyboardShortcuts/move-right":{"title":"$:/plugins/BTC/TiddlyFlex/KeyboardShortcuts/move-right","tags":"$:/tags/KeyboardShortcut","key":"((move-right))","text":"\\import $:/plugins/BTC/TiddlyFlex/privates/selectors $:/plugins/BTC/TiddlyFlex/privates/navigation $:/plugins/BTC/TiddlyFlex/globals/layout/functions\n\\procedure current-tiddler-is-empty-message()\n<$action-listops $tiddler=<<nextStoryList>> $subfilter=\"+[insertbefore<focusedTiddler>,<firstNextStoryTiddler>]\"/>\n<$action-setfield $tiddler=<<nextHistoryList>> current-tiddler=<<focusedTiddler>>/>\n\\end\n\\procedure actions()\n<%if [<focusedTiddler>!is[blank]then<currentColumn>!match<lastColumn>] %>\n\t<$let scrollTiddler={{{ [subfilter<tdff.tiddlyflex-story-river-filter>after<focusedTiddler>] ~[subfilter<tdff.tiddlyflex-story-river-filter>before<focusedTiddler>] }}}>\n\t\t<$action-setfield $tiddler={{{ [[$:/state/tiddlyflex/removing/]addsuffix<focusedTiddler>] }}} direction=\"right\" column=<<currentColumn>>/>\n\t\t<$action-setfield $tiddler={{{ [[$:/state/tiddlyflex/adding/]addsuffix<focusedTiddler>] }}} direction=\"left\" column={{{ [subfilter<tdff.tiddlyflex-enlist-columns>after<currentColumn>] }}}/>\n\t\t<$action-setfield $tiddler=<<tv-history-list>> current-tiddler={{{ [subfilter<tdff.tiddlyflex-story-river-filter>after<focusedTiddler>] ~[subfilter<tdff.tiddlyflex-story-river-filter>before<focusedTiddler>] }}}/>\n\t\t<$action-listops $tiddler=<<tv-story-list>> $subfilter=\"-[<focusedTiddler>]\"/>\n\t\t<%if [<nextHistoryList>get[current-tiddler]!match[]] %>\n\t\t\t<$set name=\"nextStoryFocusedTiddler\" value={{{ [<nextHistoryList>get[current-tiddler]] }}}>\n\t\t\t\t<%if [<nextStoryList>contains<nextStoryFocusedTiddler>] %>\n\t\t\t\t\t<%if [list<nextStoryList>search:$(searchFields)$:$(searchFlags)${$:/temp/search/input}match<nextStoryFocusedTiddler>then{$:/state/tiddlyflex/story-river/filter}match[yes]] %>\n\t\t\t\t\t\t<$action-listops $tiddler=<<nextStoryList>> $subfilter=\"+[insertbefore<focusedTiddler>,<nextStoryFocusedTiddler>]\"/>\n\t\t\t\t\t<% elseif [{$:/state/tiddlyflex/story-river/filter}!match[yes]] %>\n\t\t\t\t\t\t<$action-listops $tiddler=<<nextStoryList>> $subfilter=\"+[insertbefore<focusedTiddler>,<nextStoryFocusedTiddler>]\"/>\n\t\t\t\t\t<% else %>\n\t\t\t\t\t\t<$set name=\"firstStoryTiddler\" value={{{ [list<nextStoryList>nth[1]] }}}>\n\t\t\t\t\t\t\t<$action-listops $tiddler=<<nextStoryList>> $subfilter=\"+[insertbefore<focusedTiddler>,<firstStoryTiddler>]\"/>\n\t\t\t\t\t\t</$set>\n\t\t\t\t\t<% endif %>\n\t\t\t\t\t<$action-setfield $tiddler=<<nextHistoryList>> current-tiddler=<<focusedTiddler>>/>\n\t\t\t\t<% else %>\n\t\t\t\t\t<<current-tiddler-is-empty-message>>\n\t\t\t\t<% endif %>\n\t\t\t</$set>\n\t\t<% else %>\n\t\t\t<<current-tiddler-is-empty-message>>\n\t\t<% endif %>\n\t\t<%if [{$:/config/tiddlyflex/story-river/follow-current-column}match[yes]] %>\n\t\t\t<$action-setfield $tiddler=\"$:/columns\" current-column=<<nextStoryCounter>>/>\n\t\t\t<%if [<focusedTiddler>is[draft]] %>\n\t\t\t\t<$let currentColumn=<<nextStoryCounter>> cssEscapedTitle={{{ [<focusedTiddler>escapecss[]] }}}>\n\t\t\t\t\t<<tiddlyflex-focus-draft-tiddler>>\n\t\t\t\t</$let>\n\t\t\t<% endif %>\n\t\t\t<$let currentColumn=<<nextStoryCounter>> cssEscapedTitle={{{ [<focusedTiddler>escapecss[]] }}}>\n\t\t\t\t<<tiddlyflex-scroll-to-column>>\n\t\t\t\t<<tiddlyflex-scroll-to-tiddler>>\n\t\t\t</$let>\n\t\t<% else %>\n\t\t\t<$let currentTiddler={{{ [subfilter<tdff.tiddlyflex-story-river-filter>after<focusedTiddler>] ~[subfilter<tdff.tiddlyflex-story-river-filter>before<focusedTiddler>] }}} cssEscapedTitle={{{ [<currentTiddler>escapecss[]] }}}>\n\t\t\t\t<%if [<currentTiddler>is[draft]] %>\n\t\t\t\t\t<<tiddlyflex-focus-draft-tiddler>>\n\t\t\t\t<% endif %>\n\t\t\t</$let>\n\t\t<% endif %>\n\t</$let>\n<% endif %>\n\\end\n<%if [tdff.tiddlyflex-layout[]] %>\n\t<%if [tdff.tiddlyflex-fullscreen[]is[blank]] %>\n\t\t<$macrocall $name=\"tiddlyflex-multi-column-keyboard-navigator\" actions=<<actions>>/>\n\t<% endif %>\n<% endif %>"},"$:/plugins/BTC/TiddlyFlex/KeyboardShortcuts/move-up":{"title":"$:/plugins/BTC/TiddlyFlex/KeyboardShortcuts/move-up","tags":"$:/tags/KeyboardShortcut","key":"((move-up))","text":"\\import $:/plugins/BTC/TiddlyFlex/privates/navigation $:/plugins/BTC/TiddlyFlex/globals/layout/functions\n\\define actions()\n<$set name=\"previousTiddler\" value={{{ [subfilter<tdff.tiddlyflex-story-river-filter>] +[before<currentTiddler>] }}}>\n\t<%if [<previousTiddler>!is[blank]!match[]] %>\n\t\t<$action-listops $tiddler=<<tv-story-list>> $subfilter=\"+[insertbefore:previousTiddler<currentTiddler>]\"/>\n\t<% endif %>\n</$set>\n\\end\n<%if [tdff.tiddlyflex-layout[]] %>\n\t<%if [tdff.tiddlyflex-fullscreen[]is[blank]] %>\n\t\t<$macrocall $name=\"tiddlyflex-keyboard-navigator\" actions=<<actions>>/>\n\t<% endif %>\n<% endif %>"},"$:/plugins/BTC/TiddlyFlex/KeyboardShortcuts/navigate-down":{"title":"$:/plugins/BTC/TiddlyFlex/KeyboardShortcuts/navigate-down","tags":"$:/tags/KeyboardShortcut","key":"((navigate-down))","text":"\\import $:/plugins/BTC/TiddlyFlex/privates/selectors $:/plugins/BTC/TiddlyFlex/privates/navigation $:/plugins/BTC/TiddlyFlex/globals/layout/functions\n\\procedure actions-inner()\n<%if [<nextTiddler>!is[blank]!match[]] %>\n\t<%if [<nextTiddler>is[draft]] %>\n\t\t<<tiddlyflex-focus-draft-tiddler>>\n\t<% else %>\n\t\t<<tiddlyflex-focus-flexcontainer>>\n\t<% endif %>\n\t<$action-navigate $to=<<nextTiddler>>/>\n<% endif %>\n\\end\n\\define actions()\n<%if [{$:/state/tiddlyflex/story-river/filter}match[yes]] %>\n\t<$set name=\"focusedTiddler\" value={{{ [<tv-history-list>get[current-tiddler]] }}}>\n\t\t<%if [subfilter<tdff.tiddlyflex-story-river-filter>match<focusedTiddler>] %>\n\t\t\t<$let nextTiddler={{{ [subfilter<tdff.tiddlyflex-story-river-filter>after<focusedTiddler>] ~[subfilter<tdff.tiddlyflex-story-river-filter>nth[1]] }}} cssEscapedTitle={{{ [<nextTiddler>escapecss[]] }}}>\n\t\t\t\t<<actions-inner>>\n\t\t\t</$let>\n\t\t<% else %>\n\t\t\t<$let nextTiddler={{{ [subfilter<tdff.tiddlyflex-story-river-filter>nth[1]] }}} cssEscapedTitle={{{ [<nextTiddler>escapecss[]] }}}>\n\t\t\t\t<<actions-inner>>\n\t\t\t</$let>\n\t\t<% endif %>\n\t</$set>\n<% else %>\n\t<$let focusedTiddler={{{ [<tv-history-list>get[current-tiddler]] }}} nextTiddler={{{ [subfilter<tdff.tiddlyflex-story-river-filter>after<focusedTiddler>] ~[subfilter<tdff.tiddlyflex-story-river-filter>nth[1]] }}} cssEscapedTitle={{{ [<nextTiddler>escapecss[]] }}}>\n\t\t<<actions-inner>>\n\t</$let>\n<% endif %>\n\\end\n<%if [tdff.tiddlyflex-layout[]] %>\n\t<%if [tdff.tiddlyflex-fullscreen[]is[blank]] %>\n\t\t<$macrocall $name=\"tiddlyflex-keyboard-navigator\" actions=<<actions>>/>\n\t<% endif %>\n<% endif %>"},"$:/plugins/BTC/TiddlyFlex/KeyboardShortcuts/navigate-up":{"title":"$:/plugins/BTC/TiddlyFlex/KeyboardShortcuts/navigate-up","tags":"$:/tags/KeyboardShortcut","key":"((navigate-up))","text":"\\import $:/plugins/BTC/TiddlyFlex/privates/selectors $:/plugins/BTC/TiddlyFlex/privates/navigation $:/plugins/BTC/TiddlyFlex/globals/layout/functions\n\\procedure actions-inner()\n<%if [<nextTiddler>!is[blank]!match[]] %>\n\t<%if [<nextTiddler>is[draft]] %>\n\t\t<<tiddlyflex-focus-draft-tiddler>>\n\t<% else %>\n\t\t<<tiddlyflex-focus-flexcontainer>>\n\t<% endif %>\n\t<$action-navigate $to=<<nextTiddler>>/>\n<% endif %>\n\\end\n\\define actions()\n<%if [{$:/state/tiddlyflex/story-river/filter}match[yes]] %>\n\t<$set name=\"focusedTiddler\" value={{{ [<tv-history-list>get[current-tiddler]] }}}>\n\t\t<%if [subfilter<tdff.tiddlyflex-story-river-filter>match<focusedTiddler>] %>\n\t\t\t<$let nextTiddler={{{ [subfilter<tdff.tiddlyflex-story-river-filter>before<focusedTiddler>] ~[subfilter<tdff.tiddlyflex-story-river-filter>last[]] }}} cssEscapedTitle={{{ [<nextTiddler>escapecss[]] }}}>\n\t\t\t\t<<actions-inner>>\n\t\t\t</$let>\n\t\t<% else %>\n\t\t\t<$let nextTiddler={{{ [subfilter<tdff.tiddlyflex-story-river-filter>last[]] }}} cssEscapedTitle={{{ [<nextTiddler>escapecss[]] }}}>\n\t\t\t\t<<actions-inner>>\n\t\t\t</$let>\n\t\t<% endif %>\n\t</$set>\n<% else %>\n\t<$let focusedTiddler={{{ [<tv-history-list>get[current-tiddler]] }}} nextTiddler={{{ [subfilter<tdff.tiddlyflex-story-river-filter>before<focusedTiddler>] ~[subfilter<tdff.tiddlyflex-story-river-filter>last[]] }}} cssEscapedTitle={{{ [<nextTiddler>escapecss[]] }}}>\n\t\t<<actions-inner>>\n\t</$let>\n<% endif %>\n\\end\n<%if [tdff.tiddlyflex-layout[]] %>\n\t<%if [tdff.tiddlyflex-fullscreen[]is[blank]] %>\n\t\t<$macrocall $name=\"tiddlyflex-keyboard-navigator\" actions=<<actions>>/>\n\t<% endif %>\n<% endif %>"},"$:/core/ui/KeyboardShortcuts/new-image":{"title":"$:/core/ui/KeyboardShortcuts/new-image","tags":"$:/tags/KeyboardShortcut","key":"((new-image))","text":"\\import $:/plugins/BTC/TiddlyFlex/privates/navigation $:/plugins/BTC/TiddlyFlex/globals/layout/functions\n\\procedure actions()\n{{$:/core/ui/Actions/new-image}}\n\\end\n<%if [tdff.tiddlyflex-layout[]] %>\n\t<%if [all[tiddlers]prefix[$:/state/tiddlyflex/story-river/fullscreen/]limit[1]] %>\n\t\t<$action-deletetiddler $filter=\"[all[tiddlers]prefix[$:/state/tiddlyflex/story-river/fullscreen/]]\"/>\n\t<% endif %>\n\t<$macrocall $name=\"tiddlyflex-simple-keyboard-navigator\" actions=<<actions>>/>\n<% else %>\n\t<$navigator story=\"$:/StoryList\" history=\"$:/HistoryList\" openLinkFromInsideRiver={{$:/config/Navigation/openLinkFromInsideRiver}} openLinkFromOutsideRiver={{$:/config/Navigation/openLinkFromOutsideRiver}} relinkOnRename={{$:/config/RelinkOnRename}}>\n\t\t<<actions>>\n\t</$navigator>\n<% endif %>"},"$:/core/ui/KeyboardShortcuts/new-journal":{"title":"$:/core/ui/KeyboardShortcuts/new-journal","tags":"$:/tags/KeyboardShortcut","key":"((new-journal))","text":"\\import $:/plugins/BTC/TiddlyFlex/privates/navigation $:/plugins/BTC/TiddlyFlex/globals/layout/functions\n\\procedure actions()\n{{$:/core/ui/Actions/new-journal}}\n\\end\n<%if [tdff.tiddlyflex-layout[]] %>\n\t<%if [all[tiddlers]prefix[$:/state/tiddlyflex/story-river/fullscreen/]limit[1]] %>\n\t\t<$action-deletetiddler $filter=\"[all[tiddlers]prefix[$:/state/tiddlyflex/story-river/fullscreen/]]\"/>\n\t<% endif %>\n\t<$macrocall $name=\"tiddlyflex-simple-keyboard-navigator\" actions=<<actions>>/>\n<% else %>\n\t<$navigator story=\"$:/StoryList\" history=\"$:/HistoryList\" openLinkFromInsideRiver={{$:/config/Navigation/openLinkFromInsideRiver}} openLinkFromOutsideRiver={{$:/config/Navigation/openLinkFromOutsideRiver}} relinkOnRename={{$:/config/RelinkOnRename}}>\n\t\t<<actions>>\n\t</$navigator>\n<% endif %>"},"$:/core/ui/KeyboardShortcuts/new-tiddler":{"title":"$:/core/ui/KeyboardShortcuts/new-tiddler","tags":"$:/tags/KeyboardShortcut","key":"((new-tiddler))","text":"\\import $:/plugins/BTC/TiddlyFlex/privates/navigation $:/plugins/BTC/TiddlyFlex/globals/layout/functions\n\\procedure actions()\n{{$:/core/ui/Actions/new-tiddler}}\n\\end\n<%if [tdff.tiddlyflex-layout[]] %>\n\t<%if [all[tiddlers]prefix[$:/state/tiddlyflex/story-river/fullscreen/]limit[1]] %>\n\t\t<$action-deletetiddler $filter=\"[all[tiddlers]prefix[$:/state/tiddlyflex/story-river/fullscreen/]]\"/>\n\t<% endif %>\n\t<$macrocall $name=\"tiddlyflex-simple-keyboard-navigator\" actions=<<actions>>/>\n<% else %>\n\t<$navigator story=\"$:/StoryList\" history=\"$:/HistoryList\" openLinkFromInsideRiver={{$:/config/Navigation/openLinkFromInsideRiver}} openLinkFromOutsideRiver={{$:/config/Navigation/openLinkFromOutsideRiver}} relinkOnRename={{$:/config/RelinkOnRename}}>\n\t\t<<actions>>\n\t</$navigator>\n<% endif %>"},"$:/plugins/BTC/TiddlyFlex/KeyboardShortcuts/remove-column":{"title":"$:/plugins/BTC/TiddlyFlex/KeyboardShortcuts/remove-column","tags":"$:/tags/KeyboardShortcut","key":"((remove-column))","text":"\\import $:/plugins/BTC/TiddlyFlex/globals/layout/functions\n\\procedure remove-column-actions()\n<$set name=\"columnCount\" value={{{ [list[$:/columns]count[]] }}}>\n\t<$list filter=\"[[$:/columns]get[current-column]match<columnCount>]\">\n\t\t<$action-setfield $tiddler=\"$:/columns\" current-column={{{ [<columnCount>subtract[1]!match[0]] ~1 }}}/>\n\t</$list>\n\t<$list filter=\"[<columnCount>!match[1]]\">\n\t\t<$action-listops $tiddler=\"$:/columns\" $subfilter=\"-[<columnCount>]\"/>\n\t</$list>\n</$set>\n\\end\n<%if [tdff.tiddlyflex-layout[]] %>\n\t<%if [tdff.tiddlyflex-fullscreen[]is[blank]] %>\n\t\t<$let columns={{{ [list[$:/columns]count[]] ~1 }}}>\n\t\t\t<<remove-column-actions>>\n\t\t</$let>\n\t<% endif %>\n<% endif %>"},"$:/core/ui/KeyboardShortcuts/toggle-sidebar":{"title":"$:/core/ui/KeyboardShortcuts/toggle-sidebar","tags":"$:/tags/KeyboardShortcut","key":"((toggle-sidebar))","text":"\\whitespace trim\n<%if [[$:/state/sidebar]is[missing]] [{$:/state/sidebar}match[yes]] %>\n\t<$action-setfield $tiddler=\"$:/state/sidebar\" text=\"no\"/>\n<% else %>\n\t<$action-setfield $tiddler=\"$:/state/sidebar\" text=\"yes\"/>\n<% endif %>"},"$:/plugins/BTC/TiddlyFlex/StartupActions/current-tiddlers":{"title":"$:/plugins/BTC/TiddlyFlex/StartupActions/current-tiddlers","tags":"$:/tags/StartupAction/PostRender","text":"\\import $:/plugins/BTC/TiddlyFlex/globals/layout/functions $:/plugins/BTC/TiddlyFlex/privates/selectors\n<%if [tdff.tiddlyflex-layout[]] %>\n\t<$list filter=\"[subfilter<tdff.tiddlyflex-enlist-columns>]\" variable=\"column\">\n\t\t<$let tv-story-list={{{ [[$:/StoryList-]addsuffix<column>!match[$:/StoryList-]] ~$:/StoryList-1 }}} tv-history-list={{{ [[$:/HistoryList-]addsuffix<column>!match[$:/HistoryList-]] ~$:/HistoryList-1 }}} currentTiddler={{{ [list<tv-story-list>nth[1]] }}}>\n\t\t\t<%if [<currentTiddler>!is[blank]!match[]] %>\n\t\t\t\t<$action-setfield $tiddler=<<tv-history-list>> current-tiddler=<<currentTiddler>>/>\n\t\t\t<% endif %>\n\t\t</$let>\n\t</$list>\n\t<$let currentColumn={{$:/columns!!current-column}} currentStoryList={{{ [[$:/StoryList-]addsuffix<currentColumn>] }}} currentTiddler={{{ [list<currentStoryList>nth[1]] }}} cssEscapedTitle={{{ [<currentTiddler>escapecss[]] }}}>\n\t\t<%if [<currentTiddler>!is[blank]!match[]] %>\n\t\t\t<$wikify name=\"scrollSelector\" text=<<tiddlyflex-tiddler-scroll-selector>>>\n\t\t\t\t<$action-sendmessage $message=\"tm-scroll\" selector=<<scrollSelector>>/>\n\t\t\t</$wikify>\n\t\t<% else %>\n\t\t\t<$action-sendmessage $message=\"tm-scroll\" selector={{{ [[.tc-tiddlyflex-story-river-]addsuffix<currentColumn>] }}}/>\n\t\t<% endif %>\n\t</$let>\n<% endif %>"},"$:/config/DefaultColourMappings/tiddlyflex-box-shadow":{"title":"$:/config/DefaultColourMappings/tiddlyflex-box-shadow","text":"rgba(0,0,0,0.6)"},"$:/config/DefaultColourMappings/tiddlyflex-current-tiddler-muted":{"title":"$:/config/DefaultColourMappings/tiddlyflex-current-tiddler-muted","text":"<<colour foreground>>"},"$:/config/DefaultColourMappings/tiddlyflex-current-tiddler":{"title":"$:/config/DefaultColourMappings/tiddlyflex-current-tiddler","text":"<<colour primary>>"},"$:/config/DefaultColourMappings/tiddlyflex-sidebar-resizer":{"title":"$:/config/DefaultColourMappings/tiddlyflex-sidebar-resizer","text":"rgba(0,0,0,0.2)"},"$:/config/TiddlyFlex/EditTemplateBodyFilters/canonical-uri":{"title":"$:/config/TiddlyFlex/EditTemplateBodyFilters/canonical-uri","tags":"$:/tags/TiddlyFlex/EditTemplateBodyFilter","text":"[has[_canonical_uri]then{$:/layout}match[$:/plugins/BTC/TiddlyFlex/ui/Layout]then[$:/plugins/BTC/TiddlyFlex/ui/EditTemplate/body/canonical-uri]] [has[_canonical_uri]then{$:/layout}!match[$:/plugins/BTC/TiddlyFlex/ui/Layout]then[$:/core/ui/EditTemplate/body/canonical-uri]]"},"$:/config/TiddlyFlex/EditTemplateBodyFilters/default":{"title":"$:/config/TiddlyFlex/EditTemplateBodyFilters/default","tags":"$:/tags/TiddlyFlex/EditTemplateBodyFilter","text":"[{$:/layout}match[$:/plugins/BTC/TiddlyFlex/ui/Layout]then[$:/plugins/BTC/TiddlyFlex/ui/EditTemplate/body/default]else[$:/core/ui/EditTemplate/body/default]]"},"$:/config/TiddlyFlex/EditTemplatePreviewFilters":{"title":"$:/config/TiddlyFlex/EditTemplatePreviewFilters","tags":"$:/tags/TiddlyFlex/EditTemplatePreviewFilter","text":"[prefix[$:/plugins/BTC/TiddlyFlex/ui/EditTemplate/body/preview/]] [prefix[$:/core/]] :map:flat[tdff.tiddlyflex-layout[]then<currentTiddler>!prefix[$:/core/]] :map:flat[!tdff.tiddlyflex-layout[]then<currentTiddler>!prefix[prefix[$:/plugins/BTC/TiddlyFlex/ui/EditTemplate/body/preview/]] [!prefix[$:/plugins/BTC/TiddlyFlex/ui/EditTemplate/body/preview/]!prefix[$:/core/]]"},"$:/config/ShortcutInfo/add-column":{"title":"$:/config/ShortcutInfo/add-column","text":"Add one more column"},"$:/config/ShortcutInfo/cancel-close-tiddler":{"title":"$:/config/ShortcutInfo/cancel-close-tiddler","text":"Cancel or close the current tiddler"},"$:/config/ShortcutInfo/column-down":{"title":"$:/config/ShortcutInfo/column-down","text":"Select the next column at the left"},"$:/config/ShortcutInfo/column-up":{"title":"$:/config/ShortcutInfo/column-up","text":"Select the next column at the right"},"$:/config/ShortcutInfo/dragging":{"title":"$:/config/ShortcutInfo/dragging","text":"Toggle dragging on or off"},"$:/config/ShortcutInfo/edit-tiddler":{"title":"$:/config/ShortcutInfo/edit-tiddler","text":"Edit the current tiddler"},"$:/config/ShortcutInfo/filter-river":{"title":"$:/config/ShortcutInfo/filter-river","text":"Filter the story river by the search input"},"$:/config/ShortcutInfo/fullscreen":{"title":"$:/config/ShortcutInfo/fullscreen","text":"Toggle fullscreen view of the current tiddler"},"$:/config/ShortcutInfo/horizontal-vertical":{"title":"$:/config/ShortcutInfo/horizontal-vertical","text":"Toggle between horizontal and vertical view"},"$:/config/ShortcutInfo/move-down":{"title":"$:/config/ShortcutInfo/move-down","text":"Move the current tiddler down"},"$:/config/ShortcutInfo/move-left":{"title":"$:/config/ShortcutInfo/move-left","text":"Move the current tiddler to the left"},"$:/config/ShortcutInfo/move-right":{"title":"$:/config/ShortcutInfo/move-right","text":"Move the current tiddler to the right"},"$:/config/ShortcutInfo/move-up":{"title":"$:/config/ShortcutInfo/move-up","text":"Move the current tiddler up"},"$:/config/ShortcutInfo/navigate-down":{"title":"$:/config/ShortcutInfo/navigate-down","text":"Navigate down to the next tiddler"},"$:/config/ShortcutInfo/navigate-up":{"title":"$:/config/ShortcutInfo/navigate-up","text":"Navigate up to the next tiddler"},"$:/config/ShortcutInfo/remove-column":{"title":"$:/config/ShortcutInfo/remove-column","text":"Remove one column"},"$:/config/shortcuts/add-column":{"title":"$:/config/shortcuts/add-column","text":"ctrl-alt-N"},"$:/config/shortcuts/cancel-close-tiddler":{"title":"$:/config/shortcuts/cancel-close-tiddler","text":"alt-C"},"$:/config/shortcuts/column-down":{"title":"$:/config/shortcuts/column-down","text":"alt-Left"},"$:/config/shortcuts/column-up":{"title":"$:/config/shortcuts/column-up","text":"alt-Right"},"$:/config/shortcuts/dragging":{"title":"$:/config/shortcuts/dragging","text":"alt-D"},"$:/config/shortcuts/edit-tiddler":{"title":"$:/config/shortcuts/edit-tiddler","text":"alt-E"},"$:/config/shortcuts/filter-river":{"title":"$:/config/shortcuts/filter-river","text":"alt-F"},"$:/config/shortcuts/fullscreen":{"title":"$:/config/shortcuts/fullscreen","text":"alt-shift-F"},"$:/config/shortcuts/horizontal-vertical":{"title":"$:/config/shortcuts/horizontal-vertical","text":"alt-shift-V"},"$:/config/shortcuts/move-down":{"title":"$:/config/shortcuts/move-down","text":"alt-shift-Down"},"$:/config/shortcuts/move-left":{"title":"$:/config/shortcuts/move-left","text":"alt-shift-Left"},"$:/config/shortcuts/move-right":{"title":"$:/config/shortcuts/move-right","text":"alt-shift-Right"},"$:/config/shortcuts/move-up":{"title":"$:/config/shortcuts/move-up","text":"alt-shift-Up"},"$:/config/shortcuts/navigate-down":{"title":"$:/config/shortcuts/navigate-down","text":"alt-Down"},"$:/config/shortcuts/navigate-up":{"title":"$:/config/shortcuts/navigate-up","text":"alt-Up"},"$:/config/shortcuts/remove-column":{"title":"$:/config/shortcuts/remove-column","text":"ctrl-alt-M"},"$:/config/PageControlButtons/Visibility/$:/plugins/BTC/TiddlyFlex/ui/Buttons/TopToolbar/add-column":{"title":"$:/config/PageControlButtons/Visibility/$:/plugins/BTC/TiddlyFlex/ui/Buttons/TopToolbar/add-column","text":"hide"},"$:/config/PageControlButtons/Visibility/$:/plugins/BTC/TiddlyFlex/ui/Buttons/TopToolbar/dragging":{"title":"$:/config/PageControlButtons/Visibility/$:/plugins/BTC/TiddlyFlex/ui/Buttons/TopToolbar/dragging","text":"hide"},"$:/config/PageControlButtons/Visibility/$:/plugins/BTC/TiddlyFlex/ui/Buttons/TopToolbar/filter":{"title":"$:/config/PageControlButtons/Visibility/$:/plugins/BTC/TiddlyFlex/ui/Buttons/TopToolbar/filter","text":"hide"},"$:/config/PageControlButtons/Visibility/$:/plugins/BTC/TiddlyFlex/ui/Buttons/TopToolbar/remove-column":{"title":"$:/config/PageControlButtons/Visibility/$:/plugins/BTC/TiddlyFlex/ui/Buttons/TopToolbar/remove-column","text":"hide"},"$:/config/PageControlButtons/Visibility/$:/plugins/BTC/TiddlyFlex/ui/Buttons/TopToolbar/switch-view":{"title":"$:/config/PageControlButtons/Visibility/$:/plugins/BTC/TiddlyFlex/ui/Buttons/TopToolbar/switch-view","text":"hide"},"$:/config/ShowEditPreview/PerTiddler":{"title":"$:/config/ShowEditPreview/PerTiddler","caption":"Show Edit-Preview Per-Tiddler","description":"Whether or not the Edit-Preview should be shown for the current Tiddler only","settings-template":"$:/plugins/BTC/TiddlyFlex/ui/ControlPanel/Templates/input-switch","text":"yes"},"$:/config/TiddlyFlex/ViewTemplateBodyFilters/code-body":{"title":"$:/config/TiddlyFlex/ViewTemplateBodyFilters/code-body","tags":"$:/tags/TiddlyFlex/ViewTemplateBodyFilter","text":"[field:code-body[yes]then[$:/plugins/BTC/TiddlyFlex/ui/ViewTemplate/body/code]]"},"$:/config/TiddlyFlex/ViewTemplateBodyFilters/core-ui-tags":{"title":"$:/config/TiddlyFlex/ViewTemplateBodyFilters/core-ui-tags","tags":"$:/tags/TiddlyFlex/ViewTemplateBodyFilter","text":"[tag[$:/tags/PageTemplate]] [tag[$:/tags/EditTemplate]] [tag[$:/tags/ViewTemplate]] [tag[$:/tags/KeyboardShortcut]] [tag[$:/tags/ImportPreview]] [tag[$:/tags/EditPreview]] [tag[$:/tags/TiddlyFlex/EditPreview]] [tag[$:/tags/EditorToolbar]] [tag[$:/tags/Actions]] :then[[$:/plugins/BTC/TiddlyFlex/ui/ViewTemplate/body/code]]"},"$:/config/TiddlyFlex/ViewTemplateBodyFilters/default":{"title":"$:/config/TiddlyFlex/ViewTemplateBodyFilters/default","tags":"$:/tags/TiddlyFlex/ViewTemplateBodyFilter","text":"[[$:/plugins/BTC/TiddlyFlex/ui/ViewTemplate/body/default]]"},"$:/config/TiddlyFlex/ViewTemplateBodyFilters/hide-body":{"title":"$:/config/TiddlyFlex/ViewTemplateBodyFilters/hide-body","tags":"$:/tags/TiddlyFlex/ViewTemplateBodyFilter","text":"[field:hide-body[yes]then[$:/plugins/BTC/TiddlyFlex/ui/ViewTemplate/body/blank]]"},"$:/config/TiddlyFlex/ViewTemplateBodyFilters/import":{"title":"$:/config/TiddlyFlex/ViewTemplateBodyFilters/import","tags":"$:/tags/TiddlyFlex/ViewTemplateBodyFilter","text":"[field:plugin-type[import]then[$:/plugins/BTC/TiddlyFlex/ui/ViewTemplate/body/import]]"},"$:/config/TiddlyFlex/ViewTemplateBodyFilters/plugin":{"title":"$:/config/TiddlyFlex/ViewTemplateBodyFilters/plugin","tags":"$:/tags/TiddlyFlex/ViewTemplateBodyFilter","text":"[has[plugin-type]then[$:/plugins/BTC/TiddlyFlex/ui/ViewTemplate/body/plugin]]"},"$:/config/TiddlyFlex/ViewTemplateBodyFilters/stylesheet":{"title":"$:/config/TiddlyFlex/ViewTemplateBodyFilters/stylesheet","tags":"$:/tags/TiddlyFlex/ViewTemplateBodyFilter","text":"[tag[$:/tags/Stylesheet]then[$:/plugins/BTC/TiddlyFlex/ui/ViewTemplate/body/rendered-plain-text]]"},"$:/config/TiddlyFlex/ViewTemplateBodyFilters/system":{"title":"$:/config/TiddlyFlex/ViewTemplateBodyFilters/system","tags":"$:/tags/TiddlyFlex/ViewTemplateBodyFilter","text":"[prefix[$:/boot/]] [prefix[$:/config/]] [prefix[$:/core/macros]] [prefix[$:/core/save/]] [prefix[$:/core/templates/]]  [prefix[$:/info/]] [prefix[$:/language/]] [prefix[$:/languages/]] [prefix[$:/snippets/]] [prefix[$:/state/]] [prefix[$:/status/]] [prefix[$:/info/]] [prefix[$:/temp/]] +[!is[image]limit[1]then[$:/plugins/BTC/TiddlyFlex/ui/ViewTemplate/body/code]]"},"$:/config/TiddlyFlex/ViewTemplateTitleFilters/default":{"title":"$:/config/TiddlyFlex/ViewTemplateTitleFilters/default","tags":"$:/tags/TiddlyFlex/ViewTemplateTitleFilter","text":"[[$:/plugins/BTC/TiddlyFlex/ui/ViewTemplate/title/default]]"},"$:/config/TiddlyFlex/ViewTemplateTitleFilters/system":{"title":"$:/config/TiddlyFlex/ViewTemplateTitleFilters/system","tags":"$:/tags/TiddlyFlex/ViewTemplateTitleFilter","text":"[prefix[$:/]then[$:/plugins/BTC/TiddlyFlex/ui/ViewTemplate/title/system]]"},"$:/config/ViewToolbarButtons/Visibility/$:/plugins/BTC/TiddlyFlex/ui/Buttons/fullscreen":{"title":"$:/config/ViewToolbarButtons/Visibility/$:/plugins/BTC/TiddlyFlex/ui/Buttons/fullscreen","text":"hide"},"$:/config/tiddlyflex/dragndrop/AnimationDuration":{"title":"$:/config/tiddlyflex/dragndrop/AnimationDuration","caption":"Drag&Drop animation duration","description":"The Duration in Milliseconds for the Drag&Drop Animations","settings-template":"$:/plugins/BTC/TiddlyFlex/ui/ControlPanel/Templates/input","text":"175"},"$:/config/tiddlyflex/navigation/edit-missing-tiddlers":{"title":"$:/config/tiddlyflex/navigation/edit-missing-tiddlers","caption":"Edit missing tiddlers","description":"Whether or not clicking a Link to a missing Tiddler should automatically open it for Editing","settings-template":"$:/plugins/BTC/TiddlyFlex/ui/ControlPanel/Templates/input-switch","text":"no"},"$:/config/tiddlyflex/sidebar/resizer":{"title":"$:/config/tiddlyflex/sidebar/resizer","caption":"Sidebar resizer","description":"Whether or not the Sidebar Resizer should be enabled","settings-template":"$:/plugins/BTC/TiddlyFlex/ui/ControlPanel/Templates/input-switch","text":"no"},"$:/config/tiddlyflex/sidebar/width":{"title":"$:/config/tiddlyflex/sidebar/width","caption":"Sidebar width","description":"The Width of the Sidebar in % or px","settings-template":"$:/plugins/BTC/TiddlyFlex/ui/ControlPanel/Templates/input","text":"25%"},"$:/config/tiddlyflex/story-river/animation-curve":{"title":"$:/config/tiddlyflex/story-river/animation-curve","caption":"Animation Curve","description":"Which Animation Curve should be used for UI animations","settings-template":"$:/plugins/BTC/TiddlyFlex/ui/ControlPanel/Templates/select","option-names":"Linear Ease Ease-In-Out Ease-In Ease-Out","option-values":"linear ease ease-in-out ease-in ease-out","text":"ease-in-out"},"$:/config/tiddlyflex/story-river/filter/fields":{"title":"$:/config/tiddlyflex/story-river/filter/fields","caption":"Story-River Filter Fields-Suffix","description":"The Fields Suffix used for the search operator when filtering the Story Rivers","settings-template":"$:/plugins/BTC/TiddlyFlex/ui/ControlPanel/Templates/input","text":"*"},"$:/config/tiddlyflex/story-river/filter/flags":{"title":"$:/config/tiddlyflex/story-river/filter/flags","caption":"Story-River Filter Flags-Suffix","description":"The Flags Suffix used for the search operator when filtering the Story Rivers","settings-template":"$:/plugins/BTC/TiddlyFlex/ui/ControlPanel/Templates/input","text":"words"},"$:/config/tiddlyflex/story-river/follow-current-column":{"title":"$:/config/tiddlyflex/story-river/follow-current-column","caption":"Follow Active Column","description":"Whether or not the Active Column follows where Tiddlers are moved to","settings-template":"$:/plugins/BTC/TiddlyFlex/ui/ControlPanel/Templates/input-switch","text":"yes"},"$:/config/tiddlyflex/story-river/horizontal":{"title":"$:/config/tiddlyflex/story-river/horizontal","text":"no"},"$:/config/tiddlyflex/story-river/min-width":{"title":"$:/config/tiddlyflex/story-river/min-width","caption":"Story-River Min-Width","description":"The Minimum Width for the Story Rivers","settings-template":"$:/plugins/BTC/TiddlyFlex/ui/ControlPanel/Templates/input","text":"300px"},"$:/config/tiddlyflex/story-river/padding":{"title":"$:/config/tiddlyflex/story-river/padding","caption":"Story-River Padding","description":"The Padding of the Story Rivers","settings-template":"$:/plugins/BTC/TiddlyFlex/ui/ControlPanel/Templates/input","text":"42px"},"$:/config/tiddlyflex/show-top-right-bar":{"title":"$:/config/tiddlyflex/show-top-right-bar","caption":"Show the Top Right Menu","description":"Whether or not the Top Right Menu should be shown","settings-template":"$:/plugins/BTC/TiddlyFlex/ui/ControlPanel/Templates/input-switch","text":"no"},"$:/config/TiddlyFlex/story-river/tiddler/ClassFilters/adding":{"title":"$:/config/TiddlyFlex/story-river/tiddler/ClassFilters/adding","tags":"$:/tags/ClassFilters/TiddlerTemplate","text":"[<..currentTiddler>addprefix[$:/state/tiddlyflex/adding/]!is[missing]get[direction]addprefix[tc-tiddlyflex-adding-from-]]"},"$:/config/TiddlyFlex/story-river/tiddler/ClassFilters/removing":{"title":"$:/config/TiddlyFlex/story-river/tiddler/ClassFilters/removing","tags":"$:/tags/ClassFilters/TiddlerTemplate","text":"[<..currentTiddler>addprefix[$:/state/tiddlyflex/removing/]!is[missing]get[direction]addprefix[tc-tiddlyflex-removing-to-]]"},"$:/config/TiddlyFlex/story-river/tiddler/EditTemplate/StoryTiddlerTemplateFilter":{"title":"$:/config/TiddlyFlex/story-river/tiddler/EditTemplate/StoryTiddlerTemplateFilter","tags":"$:/tags/StoryTiddlerTemplateFilter","list-before":"","text":"[is[draft]then{$:/layout}match[$:/plugins/BTC/TiddlyFlex/ui/Layout]then[$:/plugins/BTC/TiddlyFlex/ui/Templates/EditTemplate]]"},"$:/config/TiddlyFlex/story-river/tiddler/ViewTemplate/StoryTiddlerTemplateFilter":{"title":"$:/config/TiddlyFlex/story-river/tiddler/ViewTemplate/StoryTiddlerTemplateFilter","tags":"$:/tags/StoryTiddlerTemplateFilter","list-before":"","text":"[!is[draft]then{$:/layout}match[$:/plugins/BTC/TiddlyFlex/ui/Layout]then[$:/plugins/BTC/TiddlyFlex/ui/Templates/ViewTemplate]]"},"$:/config/tiddlyflex/story-river/tiddler/box-shadow-spread":{"title":"$:/config/tiddlyflex/story-river/tiddler/box-shadow-spread","caption":"Box-Shadow spread for Tiddlers","description":"The Box-Shadow spread for Tiddlers in the Story Rivers","settings-template":"$:/plugins/BTC/TiddlyFlex/ui/ControlPanel/Templates/input","text":"4px"},"$:/config/tiddlyflex/story-river/tiddler/controls-breakpoint-sidebar":{"title":"$:/config/tiddlyflex/story-river/tiddler/controls-breakpoint-sidebar","caption":"Menu Breakpoint when Sidebar is shown","description":"The Menu Breakpoint in columns (when the Sidebar is shown)","settings-template":"$:/plugins/BTC/TiddlyFlex/ui/ControlPanel/Templates/input","text":"3"},"$:/config/tiddlyflex/story-river/tiddler/controls-breakpoint":{"title":"$:/config/tiddlyflex/story-river/tiddler/controls-breakpoint","caption":"Menu Breakpoint","description":"The Menu Breakpoint in columns (when the Sidebar is hidden)","settings-template":"$:/plugins/BTC/TiddlyFlex/ui/ControlPanel/Templates/input","text":"4"},"$:/config/tiddlyflex/story-river/tiddler/margin-bottom":{"title":"$:/config/tiddlyflex/story-river/tiddler/margin-bottom","caption":"Tiddler Margin-Bottom","description":"The Bottom Margin for Tiddlers in the Story Rivers","settings-template":"$:/plugins/BTC/TiddlyFlex/ui/ControlPanel/Templates/input","text":"28px"},"$:/config/tiddlyflex/story-river/tiddler/show-controls-hover":{"title":"$:/config/tiddlyflex/story-river/tiddler/show-controls-hover","caption":"Show Controls on Hover","description":"Whether or not the tiddler controls should be only shown on hover","settings-template":"$:/plugins/BTC/TiddlyFlex/ui/ControlPanel/Templates/input-switch","text":"no"},"$:/plugins/BTC/TiddlyFlex/styles/base":{"title":"$:/plugins/BTC/TiddlyFlex/styles/base","tags":"$:/tags/Stylesheet","text":"<%if [tdff.tiddlyflex-layout[]] %>\n\n.tc-tiddlyflex-container {\n\tdisplay: flex;\n\tflex-flow: column;\n\tjustify-content: flex-start;\n\talign-items: stretch;\n\theight: 100vh;\n\tmax-height: 100vh;\n\twidth: 100vw;\n\tmax-width: 100vw;\n\toutline: none;\n\toverflow: clip;\n}\n\n.tc-tiddlyflex-main-wrapper {\n\tdisplay: flex;\n\tflex-direction: row;\n\tflex-grow: 1;\n}\n\n.tc-tiddlyflex-main {\n\tdisplay: flex;\n\tflex-direction: row;\n\tflex-grow: 0;\n\tflex-shrink: 1;\n\tflex-basis: 100%;\n\tmax-height: 100%;\n\tmax-width: 100%;\n\tposition: relative;\n}\n\n@media (min-width: 992px) {\n\n\t.tc-tiddlyflex-main {\n\t\t-webkit-transition: max-width {{$:/config/AnimationDuration}}ms {{$:/config/tiddlyflex/story-river/animation-curve}};\n\t\ttransition: max-width {{$:/config/AnimationDuration}}ms {{$:/config/tiddlyflex/story-river/animation-curve}};\n\t}\n\n}\n\n<% if [{$:/state/sidebar}match[no]] %>\n\n\t.tc-tiddlyflex-main {\n\t\t<!--max-width: calc(100% + ((100vw / 100) * {{{ [{$:/config/tiddlyflex/sidebar/width}removesuffix[%]] ~[{$:/config/tiddlyflex/sidebar/width}removesuffix[px]] }}}));-->\n\t\tmax-width: calc(100% + {{$:/config/tiddlyflex/sidebar/width}});\n\t}\n\n<% endif %>\n\n@media (min-width: 992px) {\n\n\t.tc-tiddlyflex-main {\n\t\toverflow-x: clip;\n\t}\n\n}\n\n.tc-tiddlyflex-header {\n\tflex-grow: 0;\n\tflex-shrink: 0;\n\tbox-shadow: 0 1px 5px -1px <<colour tiddlyflex-box-shadow>>;\n\tz-index: 999;\n\tbackground-color: <<colour page-background>>;\n}\n\n.tc-tiddlyflex-footer {\n\tflex-grow: 0;\n\tflex-shrink: 0;\n\tbox-shadow: 0 -1px 5px -1px <<colour tiddlyflex-box-shadow>>;\n\tz-index: 999;\n\tbackground-color: <<colour page-background>>;\n}\n\n.tc-tiddlyflex-leftbar {\n\tdisplay: flex;\n\tflex-grow: 0;\n\tflex-shrink: 0;\n\tbox-shadow: 1px 0 5px -1px <<colour tiddlyflex-box-shadow>>;;\n\tz-index: 998;\n\tbackground-color: <<colour page-background>>;\n}\n\n/***************/\n/* STORY RIVER */\n/***************/\n\n.tc-tiddlyflex-story-river-container {\n\tdisplay: flex;\n\tflex-direction: column;\n\talign-items: stretch;\n\tflex-grow: 1;\n\tflex-shrink: 0;\n\tflex-basis: 100%;\n\toverflow: hidden;\n\tmax-height: 100%;\n\tmax-width: 100%;\n}\n\n<%if [{$:/state/tiddlyflex/story-river/filter}match[yes]] %>\n\n\t.tc-tiddlyflex-story-river-container-inner {\n\t\tborder: 2px solid <<colour primary>>;\n\t}\n\n<% endif %>\n\n@media (min-width: 992px) {\n\n\t.tc-tiddlyflex-story-river-container {\n\t\t-webkit-transition: flex-basis {{$:/config/AnimationDuration}}ms {{$:/config/tiddlyflex/story-river/animation-curve}}, max-width {{$:/config/AnimationDuration}}ms {{$:/config/tiddlyflex/story-river/animation-curve}};\n\t\ttransition: flex-basis {{$:/config/AnimationDuration}}ms {{$:/config/tiddlyflex/story-river/animation-curve}}, max-width {{$:/config/AnimationDuration}}ms {{$:/config/tiddlyflex/story-river/animation-curve}};\n\t}\n\n}\n\n<%if [{$:/state/sidebar}!match[no]] %>\n\n\t.tc-tiddlyflex-story-river-container {\n\t\tflex-basis: calc(100% - {{$:/config/tiddlyflex/sidebar/width}});\n\t\tmax-width: calc(100% - {{$:/config/tiddlyflex/sidebar/width}});\n\t}\n\n<% endif %>\n\n<%if [[$:/state/sidebar/resizing]!is[missing]] %>\n\n\t.tc-tiddlyflex-story-river-container {\n\t\t-webkit-transition: none;\n\t\ttransition: none;\n\t}\n\n<% endif %>\n\n<%if [{$:/config/tiddlyflex/sidebar/resizer}match[yes]then[$:/state/sidebar/posx]!is[missing]] %>\n\n\t<%if [[$:/state/sidebar/resizing]!is[missing]] %>\n\n\t\t.tc-tiddlyflex-story-river-container {\n\t\t\tflex-basis: max(max(calc({{$:/state/sidebar/posx}}px + (({{$:/state/sidebar/posx!!selectednode-width}}px / 2) - {{$:/state/sidebar/posx!!drag-diff}}px)),calc({{{ [{$:/config/tiddlyflex/story-river/horizontal}!match[yes]] :then[subfilter<tdff.tiddlyflex-enlist-columns>count[]] ~1 }}} * {{$:/config/tiddlyflex/story-river/min-width}})),calc(100% - (100% - ({{$:/state/sidebar/posx}}px + (({{$:/state/sidebar/posx!!selectednode-width}}px / 2) - {{$:/state/sidebar/posx!!drag-diff}}px)))));\n\t\t}\n\n\t<% else %>\n\n\t\t.tc-tiddlyflex-story-river-container {\n\t\t\tflex-basis: max(max(calc({{$:/state/sidebar/posx}}px + (({{$:/state/sidebar/posx!!selectednode-width}}px / 2) - {{$:/state/sidebar/posx!!drag-diff}}px)),calc({{{ [{$:/config/tiddlyflex/story-river/horizontal}!match[yes]] :then[subfilter<tdff.tiddlyflex-enlist-columns>count[]] ~1 }}} * {{$:/config/tiddlyflex/story-river/min-width}})),calc(100% - (100% - ({{$:/state/sidebar/posx}}px + (({{$:/state/sidebar/posx!!selectednode-width}}px / 2) - {{$:/state/sidebar/posx!!drag-diff}}px)))));\n\t\t}\n\n\t<% endif %>\n\n<% endif %>\n\n<%if [{$:/state/sidebar}match[no]] %>\n\n\t.tc-tiddlyflex-story-river-container {\n\t\tflex-basis: 100%;\n\t}\n\n<% endif %>\n\n.tc-tiddlyflex-story-river-container-inner {\n\tdisplay: flex;\n\tflex-direction: row;\n\tjustify-content: flex-start;\n\talign-items: stretch;\n\tmax-height: 100%;\n\tflex-grow: 1;\n\tflex-shrink: 0;\n}\n\n@media (min-width: 992px) {\n\n\t.tc-tiddlyflex-story-river-container-inner {\n\t\toverflow: hidden;\n\t\tflex-basis: 0;\n\t}\n\n}\n\n.tc-tiddlyflex-story-river-wrapper {\n\tdisplay: flex;\n\tflex-direction: column;\n\tflex-shrink: 0;\n\tflex-grow: 1;\n\toverflow: hidden;\n\tz-index: 500;\n}\n\n@media (min-width: 992px) {\n\n\t.tc-tiddlyflex-story-river-wrapper {\n\t\tflex-basis: 0;\n\t}\n\n\t.tc-tiddlyflex-story-river-wrapper:not(:last-of-type) {\n\t\tborder-right: 1px solid <<colour very-muted-foreground>>;\n\t}\n\n}\n\n.tc-tiddlyflex-story-river-wrapper-inner {\n\tflex-grow: 1;\n\tflex-shrink: 1;\n\toverflow-y: auto;\n\tscroll-behavior: smooth;\n\tz-index: 600;\n}\n\n@media (min-width: 992px) {\n\n\t.tc-tiddlyflex-story-river-wrapper-inner {\n\t\tflex-basis: 0;\n\t}\n\n}\n\n.tc-tiddlyflex-story-river-wrapper .tc-tiddler-frame {\n\twidth: 100%;\n\tmargin-bottom: 0;\n\t-webkit-box-shadow: 0 0 {{$:/config/tiddlyflex/story-river/tiddler/box-shadow-spread}} <<colour tiddlyflex-box-shadow>>;\n\tbox-shadow: 0 0 {{$:/config/tiddlyflex/story-river/tiddler/box-shadow-spread}} <<colour tiddlyflex-box-shadow>>;\n}\n\n.tc-tiddlyflex-story-river-wrapper-inner .tc-tiddlyflex-story-river {\n\tpadding: {{$:/config/tiddlyflex/story-river/padding}};\n\tmin-height: 100%;\n}\n\n.tc-tiddlyflex-story-river-inner > .tc-tiddler-view-frame, .tc-tiddlyflex-story-river-inner > .tc-tiddler-edit-frame {\n\tmargin-bottom: {{$:/config/tiddlyflex/story-river/tiddler/margin-bottom}};\n}\n\n.tc-tiddlyflex-story-river .tc-navigating .tc-tiddler-frame {\n\toutline: 2px dashed <<colour primary>>;\n}\n\n/***********/\n/* SIDEBAR */\n/***********/\n\n.tc-tiddlyflex-sidebar {\n\tdisplay: flex;\n\tflex-direction: column;\n\talign-items: stretch;\n\tflex-grow: 0;\n\tflex-shrink: 0;\n\tmax-height: 100%;\n\tz-index: 998;\n\t-webkit-box-shadow: 0px 0px 5px 0px <<colour tiddlyflex-box-shadow>>;\n\tbox-shadow: 0px 0px 5px 0px <<colour tiddlyflex-box-shadow>>;\n}\n\n@media (min-width: 992px) {\n\n\t.tc-tiddlyflex-sidebar {\n\t\twidth: {{$:/config/tiddlyflex/sidebar/width}};\n\t\t-webkit-transition: box-shadow {{$:/config/AnimationDuration}}ms {{$:/config/tiddlyflex/story-river/animation-curve}};\n\t\ttransition: box-shadow {{$:/config/AnimationDuration}}ms {{$:/config/tiddlyflex/story-river/animation-curve}};\n\t}\n\n}\n\n<%if [{$:/config/tiddlyflex/sidebar/resizer}match[yes]then[$:/state/sidebar/posx]!is[missing]] %>\n\n\t<%if [[$:/state/sidebar/resizing]!is[missing]] %>\n\n\t\t.tc-tiddlyflex-sidebar {\n\t\t\twidth: max(min(max(calc(100% - ({{$:/state/sidebar/posx}}px + (({{$:/state/sidebar/posx!!selectednode-width}}px / 2) - {{$:/state/sidebar/posx!!drag-diff}}px))),{{$:/config/tiddlyflex/sidebar/width}}),calc(100% - ({{{ [{$:/config/tiddlyflex/story-river/horizontal}!match[yes]] :then[subfilter<tdff.tiddlyflex-enlist-columns>count[]] ~1 }}} * {{$:/config/tiddlyflex/story-river/min-width}}))),{{$:/config/tiddlyflex/sidebar/width}});\n\t\t}\n\n\t<% else %>\n\n\t\t.tc-tiddlyflex-sidebar {\n\t\t\twidth: max(min(max(calc(100% - ({{$:/state/sidebar/posx}}px + (({{$:/state/sidebar/posx!!selectednode-width}}px / 2) - {{$:/state/sidebar/posx!!drag-diff}}px))),{{$:/config/tiddlyflex/sidebar/width}}),calc(100% - ({{{ [{$:/config/tiddlyflex/story-river/horizontal}!match[yes]] :then[subfilter<tdff.tiddlyflex-enlist-columns>count[]] ~1 }}} * {{$:/config/tiddlyflex/story-river/min-width}}))),{{$:/config/tiddlyflex/sidebar/width}});\n\t\t}\n\n\t<% endif %>\n\n<% endif %>\n\n<%if [{$:/state/sidebar}match[no]] %>\n\n\t.tc-tiddlyflex-sidebar {\n\t\t-webkit-box-shadow: 0px 0px 0px 0px transparent;\n\t\tbox-shadow: 0px 0px 0px 0px transparent;\n\t}\n\n<% endif %>\n\n.tc-tiddlyflex-sidebar-container {\n\tdisplay: flex;\n\tflex-direction: column;\n\tjustify-content: flex-start;\n\talign-items: stretch;\n\tmax-height: 100%;\n\tflex-grow: 1;\n\tflex-shrink: 0;\n}\n\n.tc-tiddlyflex-sidebar-container-inner {\n\tdisplay: flex;\n\tflex-grow: 1;\n\tflex-shrink: 0;\n\toverflow-y: auto;\n\tscroll-behavior: smooth;\n\tflex-basis: 0;\n\tflex-direction: row;\n}\n\n.tc-tiddlyflex-sidebar-scrollable {\n\tpadding-top: 42px;\n\tpadding-left: 42px;\n\tmin-width: 100%;\n}\n\n.tc-tiddlyflex-sidebar-shown-eventcatcher {\n\t-webkit-tap-highlight-color: transparent;\n\t-webkit-touch-callout: none;\n\t-webkit-user-select: none;\n\t-khtml-user-select: none;\n\t-moz-user-select: none;\n\t-ms-user-select: none;\n\tuser-select: none;\n}\n\n.tc-tiddlyflex-sidebar-hide {\n\tposition: absolute;\n\ttop: 0;\n\tleft: 0;\n\tbottom: 0;\n\tright: 0;\n\twidth: 100vw;\n\theight: 100vh;\n\tbackground: 0 0;\n\tvisibility: hidden;\n\tz-index: 1000;\n\tcursor: pointer;\n\t-webkit-transition: background {{$:/config/AnimationDuration}}ms {{$:/config/AnimationDuration}}ms, visibility 0s calc(2 * {{$:/config/AnimationDuration}}ms);\n\ttransition: background {{$:/config/AnimationDuration}}ms {{$:/config/AnimationDuration}}ms, visibility 0s calc(2 * {{$:/config/AnimationDuration}}ms);\n}\n\n/******************/\n/* ACTIVE COLUMNS */\n/******************/\n\n<$refresh-blocker refresh-blocker=\"$:/state/sidebar/posx\" enabler=\"$:/state/sidebar/resizing\">\n\n.tc-tiddlyflex-story-river-active {\n\tbackground: repeating-linear-gradient(\n\t\tto right,\n\t\t<<colour page-background>>,\n\t\t<<colour page-background>> 10px,\n\t\t<<colour tiddler-background>> 10px,\n\t\t<<colour tiddler-background>> 20px\n\t);\n}\n\n.tc-tiddlyflex-activate-column {\n\tposition: absolute;\n\ttop: 0;\n\tleft: 0;\n\tright: 0;\n\theight: 100%;\n\tcursor: default;\n\tbackground-color: transparent;\n\t-webkit-tap-highlight-color: transparent;\n\t-webkit-touch-callout: none;\n\t-webkit-user-select: none;\n\t-khtml-user-select: none;\n\t-moz-user-select: none;\n\t-ms-user-select: none;\n\tuser-select: none;\n}\n\n/*************/\n/* DROPZONES */\n/*************/\n\ndiv[class^=\"tc-tiddlyflex-dropzone-\"] {\n\tmin-height: 100%;\n\tposition: relative;\n}\n\ndiv[class^=\"tc-tiddlyflex-dropzone-\"].tc-dragover:before {\n\tz-index: 999;\n\tdisplay: block;\n\tposition: sticky;\n\ttop: 0;\n\tleft: 0;\n\tright: 0;\n\tbackground: <<colour dropzone-background>>;\n\ttext-align: center;\n\tcontent: \"<<lingo DropMessage>>\";\n}\n\n</$refresh-blocker>\n\n<% endif %>"},"$:/plugins/BTC/TiddlyFlex/styles/current-tiddler":{"title":"$:/plugins/BTC/TiddlyFlex/styles/current-tiddler","tags":"$:/tags/Stylesheet","text":"<$refresh-blocker refresh-blocker=\"$:/state/sidebar/posx\" enabler=\"$:/state/sidebar/resizing\">\n\n<%if [tdff.tiddlyflex-layout[]] %>\n\n\t<$let currentColumn={{{ [subfilter<tdff.tiddlyflex-enlist-columns>] :intersection[{$:/columns!!current-column}] ~[subfilter<tdff.tiddlyflex-current-column-filtered>] }}} historyList={{{ [[$:/HistoryList-]addsuffix<currentColumn>!match[$:/HistoryList-]] ~[[$:/HistoryList-1]] }}}>\n\n\t\t<$set name=\"cssEscapedTitle\" value={{{ [<historyList>get[current-tiddler]escapecss[]] }}}>\n\n\t\t\t<<tiddlyflex-style-current-tiddler>>\n\n\t\t</$set>\n\n\t\t<$list filter=\"[subfilter<tdff.tiddlyflex-enlist-columns>] +[!match<currentColumn>]\" variable=\"column\">\n\n\t\t\t<$let historyList={{{ [[$:/HistoryList-]addsuffix<column>!match[$:/HistoryList-]] ~[[$:/HistoryList-1]] }}} cssEscapedTitle={{{ [<historyList>get[current-tiddler]escapecss[]] }}}>\n\n\t\t\t\t<<tiddlyflex-style-unfocused-tiddlers>>\n\n\t\t\t</$let>\n\n\t\t</$list>\n\n\t</$let>\n\n<% endif %>\n\n</$refresh-blocker>"},"$:/plugins/BTC/TiddlyFlex/styles/dragndrop":{"title":"$:/plugins/BTC/TiddlyFlex/styles/dragndrop","tags":"$:/tags/Stylesheet","text":"\\procedure tiddlyflex-tiddler-frame-transitions()\n\n.tc-tiddlyflex-story-river-inner > .tc-tiddler-view-frame > .tc-tiddler-frame, .tc-tiddlyflex-story-river-inner > .tc-tiddler-edit-frame > .tc-tiddler-frame {\n\ttransition: margin-top {{$:/config/tiddlyflex/dragndrop/AnimationDuration}}ms linear, margin-bottom {{$:/config/tiddlyflex/dragndrop/AnimationDuration}}ms linear;\n}\n\n\\end\n\n\\procedure tiddlyflex-position-start-tiddlers-no-copying()\n\\rules only filteredtranscludeinline transcludeinline macrodef macrocallinline macrocallblock whitespace\n\n.tc-tiddlyflex-story-river-{{{ [[$(currentRiver)$]substitute[]] }}} .tc-tiddlyflex-story-river-inner > [data-tiddler-title={{{ [[$(startingNextTiddlerCSSEscaped)$]substitute[]] }}}].tc-tiddler-view-frame > .tc-tiddler-frame, .tc-tiddlyflex-story-river-{{{ [[$(currentRiver)$]substitute[]] }}} .tc-tiddlyflex-story-river-inner > [data-tiddler-title={{{ [[$(startingNextTiddlerCSSEscaped)$]substitute[]] }}}].tc-tiddler-edit-frame > .tc-tiddler-frame {\n\ttransition: none;\n}\n\n.tc-tiddlyflex-story-river-{{{ [[$(currentRiver)$]substitute[]] }}} [data-tiddler-title={{{ [[$(startingNextTiddlerCSSEscaped)$]substitute[]] }}}] .tc-tiddler-frame {\n\tmargin-top: calc({{$:/state/dragging!!height}}px + (2 * {{$:/config/tiddlyflex/story-river/tiddler/margin-bottom}}) + 2px);\n}\n\n.tc-tiddlyflex-story-river-{{{ [[$(currentRiver)$]substitute[]] }}} [data-tiddler-title={{{ [[$(startingNextTiddlerCSSEscaped)$]substitute[]] }}}] .tc-tiddler-frame .tc-tiddlyflex-droppable-top-half {\n\theight: calc(50% + {{$:/config/tiddlyflex/story-river/tiddler/margin-bottom}} + {{$:/config/tiddlyflex/story-river/padding}} + {{$:/state/dragging!!height}}px + 2px);\n\ttop: calc(-{{$:/state/dragging!!height}}px - (2 * {{$:/config/tiddlyflex/story-river/tiddler/margin-bottom}}) - 2px);\n}\n\n\\end\n\n\\procedure tiddlyflex-position-start-tiddlers-no-copying-nth-0()\n\\rules only filteredtranscludeinline transcludeinline macrodef macrocallinline macrocallblock whitespace\n\n.tc-tiddlyflex-story-river-{{{ [[$(currentRiver)$]substitute[]] }}} [data-tiddler-title={{{ [[$(startingNextTiddlerCSSEscaped)$]substitute[]] }}}] .tc-tiddler-frame {\n\tmargin-top: calc({{$:/state/dragging!!height}}px + {{$:/config/tiddlyflex/story-river/tiddler/margin-bottom}} + 2px);\n}\n\n.tc-tiddlyflex-story-river-{{{ [[$(currentRiver)$]substitute[]] }}} [data-tiddler-title={{{ [[$(startingNextTiddlerCSSEscaped)$]substitute[]] }}}] .tc-tiddler-frame .tc-tiddlyflex-droppable-top-half {\n\theight: calc(50% + {{$:/config/tiddlyflex/story-river/tiddler/margin-bottom}} + {{$:/config/tiddlyflex/story-river/padding}} + {{$:/state/dragging!!height}}px + 2px);\n\ttop: calc(-{{$:/state/dragging!!height}}px - {{$:/config/tiddlyflex/story-river/tiddler/margin-bottom}} - {{$:/config/tiddlyflex/story-river/padding}} - 2px);\n}\n\n\\end\n\n\\procedure tiddlyflex-position-start-tiddlers-no-copying-last()\n\\rules only filteredtranscludeinline transcludeinline macrodef macrocallinline macrocallblock whitespace\n\n.tc-tiddlyflex-story-river-{{{ [[$(currentRiver)$]substitute[]] }}} [data-tiddler-title={{{ [[$(startingBeforeTiddlerCSSEscaped)$]substitute[]] }}}] .tc-tiddler-frame {\n\tmargin-bottom: calc({{$:/state/dragging!!height}}px + {{$:/config/tiddlyflex/story-river/tiddler/margin-bottom}} + 2px);\n}\n\n.tc-tiddlyflex-story-river-{{{ [[$(currentRiver)$]substitute[]] }}} [data-tiddler-title={{{ [[$(startingBeforeTiddlerCSSEscaped)$]substitute[]] }}}] .tc-tiddler-frame .tc-tiddlyflex-droppable-bottom-half {\n\theight: calc(50% + {{$:/config/tiddlyflex/story-river/tiddler/margin-bottom}} + {{$:/config/tiddlyflex/story-river/padding}} + {{$:/config/tiddlyflex/story-river/padding}} + {{$:/state/dragging!!height}}px + 2px);\n\tbottom: calc(-{{$:/state/dragging!!height}}px - {{$:/config/tiddlyflex/story-river/tiddler/margin-bottom}} - {{$:/config/tiddlyflex/story-river/padding}} - {{$:/config/tiddlyflex/story-river/padding}} - 2px);\n}\n\n\\end\n\n\\procedure tiddlyflex-position-start-tiddlers-copying()\n\\rules only filteredtranscludeinline transcludeinline macrodef macrocallinline macrocallblock whitespace\n\n.tc-tiddlyflex-story-river-{{{ [[$(currentRiver)$]substitute[]] }}} .tc-tiddlyflex-story-river-inner > [data-tiddler-title={{{ [[$(dragTiddlerCSSEscaped)$]substitute[]] }}}].tc-tiddler-view-frame > .tc-tiddler-frame, .tc-tiddlyflex-story-river-$(currentRiver)$ .tc-tiddlyflex-story-river-inner > [data-tiddler-title=\"$(dragTiddlerCSSEscaped)$\"].tc-tiddler-edit-frame > .tc-tiddler-frame {\n\ttransition: none;\n}\n\n.tc-tiddlyflex-story-river-{{{ [[$(currentRiver)$]substitute[]] }}} [data-tiddler-title={{{ [[$(dragTiddlerCSSEscaped)$]substitute[]] }}}] .tc-tiddler-frame {\n\tmargin-top: calc({{$:/state/dragging!!height}}px + (2 * {{$:/config/tiddlyflex/story-river/tiddler/margin-bottom}}) + 2px);\n}\n\n.tc-tiddlyflex-story-river-{{{ [[$(currentRiver)$]substitute[]] }}} [data-tiddler-title={{{ [[$(dragTiddlerCSSEscaped)$]substitute[]] }}}] .tc-tiddler-frame .tc-tiddlyflex-droppable-top-half {\n\theight: calc(50% + {{$:/config/tiddlyflex/story-river/tiddler/margin-bottom}} + {{$:/config/tiddlyflex/story-river/padding}} + {{$:/state/dragging!!height}}px + 2px);\n\ttop: calc(-{{$:/state/dragging!!height}}px - (2 * {{$:/config/tiddlyflex/story-river/tiddler/margin-bottom}}) - 2px);\n}\n\n\\end\n\n\\procedure tiddlyflex-position-start-tiddlers-copying-nth-0()\n\\rules only filteredtranscludeinline transcludeinline macrodef macrocallinline macrocallblock whitespace\n\n.tc-tiddlyflex-story-river-{{{ [[$(currentRiver)$]substitute[]] }}} [data-tiddler-title={{{ [[$(dragTiddlerCSSEscaped)$]substitute[]] }}}] .tc-tiddler-frame {\n\tmargin-top: calc({{$:/state/dragging!!height}}px + {{$:/config/tiddlyflex/story-river/tiddler/margin-bottom}} + 2px);\n}\n\n.tc-tiddlyflex-story-river-{{{ [[$(currentRiver)$]substitute[]] }}} [data-tiddler-title={{{ [[$(dragTiddlerCSSEscaped)$]substitute[]] }}}] .tc-tiddler-frame .tc-tiddlyflex-droppable-top-half {\n\theight: calc(50% + {{$:/config/tiddlyflex/story-river/tiddler/margin-bottom}} + {{$:/config/tiddlyflex/story-river/padding}} + {{$:/state/dragging!!height}}px + 2px);\n\ttop: calc(-{{$:/state/dragging!!height}}px - {{$:/config/tiddlyflex/story-river/tiddler/margin-bottom}} - {{$:/config/tiddlyflex/story-river/padding}} - 2px);\n}\n\n\\end\n\n\\procedure tiddlyflex-target-tiddler-margin()\n\\rules only filteredtranscludeinline transcludeinline macrodef macrocallinline macrocallblock whitespace\n\n.tc-tiddlyflex-story-river-{{{ [[$(currentRiver)$]substitute[]] }}} .tc-tiddler-view-frame:not([data-tiddler-title={{{ [[$(targetTiddlerCSSEscaped)$]substitute[]] }}}]) .tc-tiddler-frame, .tc-tiddlyflex-story-river-$(currentRiver)$ .tc-tiddler-edit-frame:not([data-tiddler-title={{{ [[$(targetTiddlerCSSEscaped)$]substitute[]] }}}]) .tc-tiddler-frame {\n\tmargin-top: calc( {{$:/config/tiddlyflex/story-river/tiddler/margin-bottom}} + 2px);\n}\n\n.tc-tiddlyflex-story-river-{{{ [[$(currentRiver)$]substitute[]] }}} .tc-tiddler-view-frame:first-of-type:not([data-tiddler-title={{{ [[$(targetTiddlerCSSEscaped)$]substitute[]] }}}]) .tc-tiddler-frame, .tc-tiddlyflex-story-river-$(currentRiver)$ .tc-tiddler-edit-frame:first-of-type:not([data-tiddler-title={{{ [[$(targetTiddlerCSSEscaped)$]substitute[]] }}}]) .tc-tiddler-frame {\n\tmargin-top: 0;\n}\n\n.tc-tiddlyflex-story-river-{{{ [[$(currentRiver)$]substitute[]] }}} [data-tiddler-title={{{ [[$(targetTiddlerCSSEscaped)$]substitute[]] }}}] .tc-tiddler-frame {\n\tmargin-top: calc({{$:/state/dragging!!height}}px + (2 * {{$:/config/tiddlyflex/story-river/tiddler/margin-bottom}}) + 2px);\n}\n\n\\end\n\n\\procedure tiddlyflex-target-tiddler-margin-nth-0()\n\\rules only filteredtranscludeinline transcludeinline macrodef macrocallinline macrocallblock whitespace\n\n.tc-tiddlyflex-story-river-{{{ [[$(currentRiver)$]substitute[]] }}} [data-tiddler-title={{{ [[$(targetTiddlerCSSEscaped)$]substitute[]] }}}] .tc-tiddler-frame {\n\tmargin-top: calc({{$:/state/dragging!!height}}px + {{$:/config/tiddlyflex/story-river/tiddler/margin-bottom}} + 2px);\n}\n\n\\end\n\n<$refresh-blocker refresh-blocker=\"$:/state/sidebar/posx\" enabler=\"$:/state/sidebar/resizing\">\n\n<%if [tdff.tiddlyflex-layout[]] %>\n\n\t<%if [{$:/state/dragging}match[yes]] %>\n\n\t\t.tc-tiddlyflex-droppable-top-half {\n\t\t\tposition: absolute;\n\t\t\ttop: calc( -{{$:/config/tiddlyflex/story-river/tiddler/margin-bottom}} - 2px);\n\t\t\tleft: calc( -{{$:/config/tiddlyflex/story-river/padding}} - 1px);\n\t\t\theight: calc(50% + {{$:/config/tiddlyflex/story-river/tiddler/margin-bottom}} + 2px);\n\t\t\twidth: calc(100% + (2 * {{$:/config/tiddlyflex/story-river/padding}}));\n\t\t\tdisplay: none;\n\t\t\tz-index: 501;\n\t\t}\n\n\t\t.tc-tiddler-view-frame:first-of-type .tc-tiddlyflex-droppable-top-half, .tc-tiddler-edit-frame:first-of-type .tc-tiddlyflex-droppable-top-half {\n\t\t\ttop: calc( -{{$:/config/tiddlyflex/story-river/padding}} - 2px);\n\t\t\theight: calc(50% + {{$:/config/tiddlyflex/story-river/padding}} + 2px);\n\t\t}\n\n\t\t.tc-tiddlyflex-droppable-bottom-half {\n\t\t\tposition: absolute;\n\t\t\ttop: 50%;\n\t\t\tleft: calc( -{{$:/config/tiddlyflex/story-river/padding}} - 1px);\n\t\t\theight: calc(50% + 2px);\n\t\t\twidth: calc(100% + (2 * {{$:/config/tiddlyflex/story-river/padding}}));\n\t\t\tz-index: 501;\n\t\t\tdisplay: none;\n\t\t}\n\n\t\t.tc-tiddlyflex-droppable-top-half.tc-dragover {\n\t\t\theight: calc(50% + (2 * {{$:/config/tiddlyflex/story-river/tiddler/margin-bottom}}) + {{$:/state/dragging!!height}}px + 2px);\n\t\t\ttop: calc(-{{$:/state/dragging!!height}}px - (2 * {{$:/config/tiddlyflex/story-river/tiddler/margin-bottom}}) - 2px);\n\t\t}\n\n\t\t.tc-tiddler-view-frame:first-of-type .tc-tiddlyflex-droppable-top-half.tc-dragover, .tc-tiddler-edit-frame:first-of-type .tc-tiddlyflex-droppable-top-half.tc-dragover {\n\t\t\theight: calc(50% + {{$:/config/tiddlyflex/story-river/tiddler/margin-bottom}} + {{$:/config/tiddlyflex/story-river/padding}} + {{$:/state/dragging!!height}}px + 2px);\n\t\t\ttop: calc(-{{$:/state/dragging!!height}}px - {{$:/config/tiddlyflex/story-river/tiddler/margin-bottom}} - {{$:/config/tiddlyflex/story-river/padding}} - 2px);\n\t\t}\n\n\t\t.tc-tiddlyflex-droppable-bottom-half.tc-dragover {\n\t\t\theight: calc(50% + {{$:/config/tiddlyflex/story-river/tiddler/margin-bottom}} + {{$:/state/dragging!!height}}px + 2px);\n\t\t}\n\n\t\t<%if [{$:/state/dragging}match[yes]] %>\n\n\t\t\t.tc-tiddlyflex-droppable-top-half, .tc-tiddlyflex-droppable-bottom-half {\n\t\t\t\tdisplay: block;\n\t\t\t}\n\n\t\t\t<$set name=\"dragTiddler\" value={{$:/state/dragging!!drag-tiddler}}>\n\n\t\t\t\t<$set name=\"dragTiddlerCSSEscaped\" value={{{ [<dragTiddler>escapecss[]] }}}>\n\n\t\t\t\t\t<<tiddlyflex-tiddler-frame-transitions>>\n\n\t\t\t\t</$set>\n\n\t\t\t</$set>\n\n\t\t<% endif %>\n\n\t\t<$let currentRiver={{$:/state/dragging!!river}} story={{{ [[$:/StoryList-]addsuffix<currentRiver>] }}} targetTiddler={{$:/state/dragging!!target}} nextTiddler={{{ [list<story>after<targetTiddler>] }}} margin={{$:/state/dragging!!margin}} targetTiddlerCSSEscaped={{{ [<margin>match[top]then<targetTiddler>escapecss[]] [<margin>match[bottom]then<nextTiddler>escapecss[]] }}}>\n\n\t\t\t<<tiddlyflex-target-tiddler-margin>>\n\n\t\t\t<%if [{$:/state/dragging!!nth}match[0]] %>\n\n\t\t\t\t<<tiddlyflex-target-tiddler-margin-nth-0>>\n\n\t\t\t<% endif %>\n\n\t\t</$let>\n\n\t\t.tc-tiddlyflex-below-story-river-droppable {\n\t\t\tposition: absolute;\n\t\t\twidth: calc(100% + {{$:/config/tiddlyflex/story-river/padding}});\n\t\t\theight: calc(100% + {{$:/config/tiddlyflex/story-river/padding}});\n\t\t\tleft: -{{$:/config/tiddlyflex/story-river/padding}};\n\t\t\ttop: -{{$:/config/tiddlyflex/story-river/padding}};\n\t\t}\n\n\t\t<$let currentRiver={{$:/state/dragging!!start-river}} dragTiddler={{$:/state/dragging!!drag-tiddler}} startingNextTiddler={{$:/state/dragging!!starting-next-tiddler}} startingNextTiddlerCSSEscaped={{{ [<startingNextTiddler>escapecss[]] }}} startingBeforeTiddler={{$:/state/dragging!!starting-before-tiddler}} startingBeforeTiddlerCSSEscaped={{{ [<startingBeforeTiddler>escapecss[]] }}} dragTiddlerCSSEscaped={{{ [<dragTiddler>escapecss[]] }}}>\n\n\t\t\t<%if [{$:/state/dragging!!copying}!match[yes]] %>\n\n\t\t\t\t<<tiddlyflex-position-start-tiddlers-no-copying>>\n\n\t\t\t\t<%if [{$:/state/dragging!!nth}match[0]] %>\n\n\t\t\t\t\t<<tiddlyflex-position-start-tiddlers-no-copying-nth-0>>\n\n\t\t\t\t<% endif %>\n\n\t\t\t\t<%if [<startingNextTiddler>is[blank]] :and[<startingBeforeTiddler>!is[blank]] %>\n\n\t\t\t\t\t<<tiddlyflex-position-start-tiddlers-no-copying-last>>\n\n\t\t\t\t<% endif %>\n\n\t\t\t<% else %>\n\n\t\t\t\t<<tiddlyflex-position-start-tiddlers-copying>>\n\n\t\t\t\t<%if [{$:/state/dragging!!nth}match[0]] %>\n\n\t\t\t\t\t<<tiddlyflex-position-start-tiddlers-copying-nth-0>>\n\n\t\t\t\t<% endif %>\n\n\t\t\t<% endif %>\n\n\t\t</$let>\n\n\t<% endif %>\n\n\t<%if [{$:/state/tiddlyflex/story-river/tiddler/drag-enabled}!match[no]] %>\n\n\t\t.tc-tiddler-frame img {\n\t\t\t-webkit-user-drag: none;\n\t\t\t-khtml-user-drag: none;\n\t\t\t-moz-user-drag: none;\n\t\t\t-o-user-drag: none;\n\t\t\tuser-drag: none;\n\t\t\t-webkit-user-select: none;\n\t\t\t-khtml-user-select: none;\n\t\t\t-moz-user-select: none;\n\t\t\t-o-user-select: none;\n\t\t\t-ms-user-select: none;\n\t\t\tuser-select: none;\n\t\t\ttouch-action: none;\n\t\t\tpointer-events: none;\n\t\t}\n\n\t<% endif %>\n\n<% endif %>\n\n</$refresh-blocker>"},"$:/plugins/BTC/TiddlyFlex/styles/fullscreen":{"title":"$:/plugins/BTC/TiddlyFlex/styles/fullscreen","tags":"$:/tags/Stylesheet","text":"\\procedure tiddlyflex-view-tiddler-full-screen()\n\\rules only filteredtranscludeinline transcludeinline macrodef macrocallinline macrocallblock whitespace\n\n.tc-tiddlyflex-story-river-{{{ [[$(column)$]substitute[]] }}} .tc-tiddlyflex-story-river-inner > [data-tiddler-title={{{ [[$(tiddlerTitleCSSEscaped)$]substitute[]] }}}]:not(.tc-navigating), .tc-tiddlyflex-story-river-{{{ [[$(column)$]substitute[]] }}} .tc-tiddlyflex-story-river-inner > [data-tiddler-title={{{ [[$(tiddlerTitleCSSEscaped)$]substitute[]] }}}].tc-navigating {\n\tposition: fixed;\n\tleft: 0;\n\ttop: 0;\n\theight: 100vh;\n\twidth: 100vw;\n\tz-index: 1004;\n\tborder: none;\n\tborder-radius: 0px;\n}\n\n.tc-tiddlyflex-story-river-{{{ [[$(column)$]substitute[]] }}} .tc-tiddlyflex-story-river-inner > [data-tiddler-title={{{ [[$(tiddlerTitleCSSEscaped)$]substitute[]] }}}]:not(.tc-navigating) > .tc-tiddler-frame, .tc-tiddlyflex-story-river-{{{ [[$(column)$]substitute[]] }}} .tc-tiddlyflex-story-river-inner > [data-tiddler-title={{{ [[$(tiddlerTitleCSSEscaped)$]substitute[]] }}}].tc-navigating > .tc-tiddler-frame {\n\tmin-height: 100%;\n\theight: 100%;\n\toverflow-y: auto;\n\tscroll-behavior: smooth;\n\tborder: none;\n\tborder-radius: 0px;\n}\n\n\\end\n\n\\procedure tiddlyflex-inherit-overflow-columns()\n\\rules only filteredtranscludeinline transcludeinline macrodef macrocallinline macrocallblock whitespace\n\n.tc-tiddlyflex-story-river-wrapper-inner.tc-tiddlyflex-story-river-$(column)$ {\n\toverflow-y: hidden;\n}\n\n\\end\n\n<$refresh-blocker refresh-blocker=\"$:/state/sidebar/posx\" enabler=\"$:/state/sidebar/resizing\">\n\n<%if [tdff.tiddlyflex-layout[]] %>\n\n\t<%if [[$:/state/sidebar/resizing]is[missing]] %>\n\n\t\t<$list filter=\"[all[tiddlers]prefix[$:/state/tiddlyflex/story-river/fullscreen/]]\" variable=\"fullScreenTiddler\">\n\n\t\t\t.tc-tiddlyflex-story-river-wrapper-inner, .tc-tiddlyflex-story-river-wrapper {\n\t\t\t\tz-index: initial;\n\t\t\t}\n\n\t\t\t<$vars column={{{ [<fullScreenTiddler>get[column]] }}} fullScreenTiddler={{{ [<fullScreenTiddler>removeprefix[$:/state/tiddlyflex/story-river/fullscreen/]] }}}>\n\n\t\t\t\t<$let tiddlerTitle=<<fullScreenTiddler>> tiddlerTitleCSSEscaped={{{ [<tiddlerTitle>escapecss[]] }}}>\n\n\t\t\t\t\t<<tiddlyflex-view-tiddler-full-screen>>\n\n\t\t\t\t</$let>\n\n\t\t\t</$vars>\n\n\t\t\t@media (max-width: 991.98px) {\n\n\t\t\t\t.tc-tiddlyflex-story-river-container-inner {\n\t\t\t\t\toverflow: hidden;\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\t<$list filter=\"[subfilter<tdff.tiddlyflex-enlist-columns>]\" variable=\"column\">\n\n\t\t\t\t<<tiddlyflex-inherit-overflow-columns>>\n\n\t\t\t</$list>\n\n\t\t</$list>\n\n\t<% endif %>\n\n<% endif %>\n\n</$refresh-blocker>"},"$:/plugins/BTC/TiddlyFlex/styles/icons":{"title":"$:/plugins/BTC/TiddlyFlex/styles/icons","tags":"$:/tags/Stylesheet","text":"<$refresh-blocker refresh-blocker=\"$:/state/sidebar/posx\" enabler=\"$:/state/sidebar/resizing\">\n\nsvg.lucide.lucide-layout-dashboard {\n\tstroke: <<colour foreground>>;\n\tstroke-width: 3;\n}\n\nsvg.lucide {\n\tstroke: <<colour muted-foreground>>;\n\tfill: none;\n}\n\n.tc-selected svg.lucide, .tc-btn-invisible:hover svg.lucide {\n\tstroke: <<colour foreground>>;\n\tfill: none;\n}\n\n.tc-selected svg.lucide.lucide-grip {\n\tstroke: <<colour primary>>;\n}\n\n</$refresh-blocker>"},"$:/plugins/BTC/TiddlyFlex/styles/menu":{"title":"$:/plugins/BTC/TiddlyFlex/styles/menu","tags":"$:/tags/Stylesheet","text":"<%if [tdff.tiddlyflex-layout[]] %>\n\n\t@media (min-width: 992px) {\n\n\t\t.tc-tiddlyflex-shown-when-narrow {\n\t\t\tdisplay: none;\n\t\t}\n\n\t\t<%if [[$:/state/sidebar/posx]is[missing]] %>\n\n\t\t\t.tc-tiddler-controls >  button:not(.tc-tiddlyflex-shown-when-narrow) {\n\t\t\t\tdisplay: inline;\n\t\t\t}\n\n\t\t\t.tc-tiddler-controls .tc-tiddlyflex-shown-when-narrow {\n\t\t\t\tdisplay: none;\n\t\t\t}\n\n\t\t<% endif %>\n\n\t\t<$refresh-blocker refresh-blocker=\"$:/state/sidebar/posx\" enabler=\"$:/state/sidebar/resizing\">\n\n\t\t<%if [{$:/config/tiddlyflex/story-river/horizontal}!match[yes]] %>\n\n\t\t\t<$list filter=\"[{$:/state/sidebar}match[no]] :then[subfilter<tdff.tiddlyflex-enlist-columns>count[]compare:number:gteq{$:/config/tiddlyflex/story-river/tiddler/controls-breakpoint}] :else[subfilter<tdff.tiddlyflex-enlist-columns>count[]compare:number:gteq{$:/config/tiddlyflex/story-river/tiddler/controls-breakpoint-sidebar}]\" variable=\"column\">\n\n\t\t\t\t.tc-tiddlyflex-column-<<column>> .tc-tiddler-controls >  button:not(.tc-tiddlyflex-shown-when-narrow) {\n\t\t\t\t\tdisplay: none;\n\t\t\t\t}\n\n\t\t\t\t.tc-tiddlyflex-column-<<column>> .tc-tiddler-controls .tc-tiddlyflex-shown-when-narrow {\n\t\t\t\t\tdisplay: block;\n\t\t\t\t}\n\n\t\t\t</$list>\n\n\t\t<% endif %>\n\n\t\t</$refresh-blocker>\n\n\t\t<%if [[$:/state/sidebar/posx]!is[missing]] %>\n\n\t\t\t<$vars sidebarWidthPixels={{{ [{$:/config/tiddlyflex/sidebar/width}removesuffix[px]] }}} sidebarWidthPercentage={{{ [{$:/config/tiddlyflex/sidebar/width}removesuffix[%]] }}} drag-diff={{$:/state/sidebar/posx!!drag-diff}} selectednodeWidth={{$:/state/sidebar/posx!!selectednode-width}} containerWidth={{$:/state/sidebar/posx!!widgetnode-width}} columnCount={{{ [{$:/config/tiddlyflex/story-river/horizontal}!match[yes]] :then[subfilter<tdff.tiddlyflex-enlist-columns>count[]] ~1 }}} minStoryWidth={{{ [{$:/config/tiddlyflex/story-river/min-width}removesuffix[px]] }}} leftbarWidth={{{ [all[shadows+tiddlers]tag[$:/tags/LeftToolbar]limit[1]] :then[{$:/state/sidebar/posx!!leftbar-width}] ~0 }}}>\n\n\t\t\t\t<%if [<sidebarWidthPixels>!is[blank]!match[]] %>\n\n\t\t\t\t\t<$let viewportWidth={{$:/state/DynaView/ViewportDimensions/Width}} containerWidth={{{ [<viewportWidth>!is[blank]subtract<leftbarWidth>] ~[<containerWidth>] }}}>\n\n\t\t\t\t\t\t<$let originalStoryContainerWidth={{{ [<containerWidth>subtract<sidebarWidthPixels>] }}} originalSingleColumnWidth={{{ [<originalStoryContainerWidth>divide<columnCount>] }}} sidebarResizerWidth={{{ [<selectednodeWidth>divide[2]] }}} gripDiff={{{ [<sidebarResizerWidth>subtract<drag-diff>] }}} minStoryContainerWidth={{{ [<minStoryWidth>multiply<columnCount>] }}} sidebarWidthMax={{{ [<containerWidth>subtract<minStoryContainerWidth>] }}} sidebarWidth={{{ [<containerWidth>subtract{$:/state/sidebar/posx}add<gripDiff>compare:number:lteq<sidebarWidthPixels>then<sidebarWidthPixels>] ~[<containerWidth>subtract{$:/state/sidebar/posx}add<gripDiff>compare:number:gteq<sidebarWidthMax>then<sidebarWidthMax>] ~[<containerWidth>subtract{$:/state/sidebar/posx}add<gripDiff>] }}} maxStoryContainerWidth={{{ [<containerWidth>subtract<sidebarWidthPixels>] }}} storyContainerWidth={{{ [<containerWidth>subtract<sidebarWidth>compare:number:gteq<minStoryContainerWidth>] ~[<minStoryContainerWidth>] }}} singleColumnWidth={{{ [<storyContainerWidth>divide<columnCount>compare:number:gt<minStoryWidth>] ~[<minStoryWidth>] }}} narrowWidthWhenSidebarShown={{{ [<originalStoryContainerWidth>divide{$:/config/tiddlyflex/story-river/tiddler/controls-breakpoint-sidebar}compare:number:gteq<minStoryWidth>] ~[<minStoryWidth>multiply{$:/config/tiddlyflex/story-river/tiddler/controls-breakpoint-sidebar}divide<columnCount>] }}}>\n\n\t\t\t\t\t\t\t<%if [<singleColumnWidth>compare:number:lteq<narrowWidthWhenSidebarShown>] %>\n\n\t\t\t\t\t\t\t\t.tc-tiddler-controls > button:not(.tc-tiddlyflex-shown-when-narrow) {\n\t\t\t\t\t\t\t\t\tdisplay: none;\n\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t.tc-tiddler-controls .tc-tiddlyflex-shown-when-narrow {\n\t\t\t\t\t\t\t\t\tdisplay: block;\n\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t<% endif %>\n\n\t\t\t\t\t\t</$let>\n\n\t\t\t\t\t</$let>\n\n\t\t\t\t<% elseif [<sidebarWidthPercentage>!is[blank]!match[]] %>\n\n\t\t\t\t\t<$let viewportWidth={{$:/state/DynaView/ViewportDimensions/Width}} containerWidth={{{ [<viewportWidth>!is[blank]subtract<leftbarWidth>] ~[<containerWidth>] }}}>\n\n\t\t\t\t\t\t<$set name=\"sidebarWidthPercentage\" value={{{ [<containerWidth>divide[100]multiply<sidebarWidthPercentage>] }}}>\n\n\t\t\t\t\t\t\t<$let originalStoryContainerWidth={{{ [<containerWidth>subtract<sidebarWidthPercentage>] }}} originalSingleColumnWidth={{{ [<originalStoryContainerWidth>divide<columnCount>] }}} sidebarResizerWidth={{{ [<selectednodeWidth>divide[2]] }}} gripDiff={{{ [<sidebarResizerWidth>subtract<drag-diff>] }}} minStoryContainerWidth={{{ [<minStoryWidth>multiply<columnCount>] }}} sidebarWidthMax={{{ [<containerWidth>subtract<minStoryContainerWidth>] }}} sidebarWidth={{{ [<containerWidth>subtract{$:/state/sidebar/posx}add<gripDiff>compare:number:lteq<sidebarWidthPercentage>then<sidebarWidthPercentage>] ~[<containerWidth>subtract{$:/state/sidebar/posx}add<gripDiff>compare:number:gteq<sidebarWidthMax>then<sidebarWidthMax>] ~[<containerWidth>subtract{$:/state/sidebar/posx}add<gripDiff>] }}} maxStoryContainerWidth={{{ [<containerWidth>subtract<sidebarWidthPercentage>] }}} storyContainerWidth={{{ [<containerWidth>subtract<sidebarWidth>compare:number:gteq<minStoryContainerWidth>] ~[<minStoryContainerWidth>] }}} singleColumnWidth={{{ [<storyContainerWidth>divide<columnCount>compare:number:gt<minStoryWidth>] ~[<minStoryWidth>] }}} narrowWidthWhenSidebarShown={{{ [<originalStoryContainerWidth>divide{$:/config/tiddlyflex/story-river/tiddler/controls-breakpoint-sidebar}compare:number:gteq<minStoryWidth>] ~[<minStoryWidth>multiply{$:/config/tiddlyflex/story-river/tiddler/controls-breakpoint-sidebar}divide<columnCount>] }}}>\n\n\t\t\t\t\t\t\t\t<%if [<singleColumnWidth>compare:number:lteq<narrowWidthWhenSidebarShown>] %>\n\n\t\t\t\t\t\t\t\t\t.tc-tiddler-controls > button:not(.tc-tiddlyflex-shown-when-narrow) {\n\t\t\t\t\t\t\t\t\t\tdisplay: none;\n\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\t.tc-tiddler-controls .tc-tiddlyflex-shown-when-narrow {\n\t\t\t\t\t\t\t\t\t\tdisplay: block;\n\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t<% endif %>\n\n\t\t\t\t\t\t\t</$let>\n\n\t\t\t\t\t\t</$set>\n\n\t\t\t\t\t</$let>\n\n\t\t\t\t<% endif %>\n\n\t\t\t</$vars>\n\n\t\t<% endif %>\n\n\t}\n\n\t@media (max-width: 991.98px) {\n\n\t\t.tc-tiddler-controls >  button:not(.tc-tiddlyflex-shown-when-narrow) {\n\t\t\tdisplay: none;\n\t\t}\n\n\t\t.tc-tiddler-controls .tc-tiddlyflex-shown-when-narrow {\n\t\t\tdisplay: block;\n\t\t}\n\n\t}\n\n<% else %>\n\n\t.tc-tiddler-controls .tc-tiddlyflex-shown-when-narrow {\n\t\tdisplay: none;\n\t}\n\n<% endif %>"},"$:/plugins/BTC/TiddlyFlex/styles/misc":{"title":"$:/plugins/BTC/TiddlyFlex/styles/misc","tags":"$:/tags/Stylesheet","text":"<$refresh-blocker refresh-blocker=\"$:/state/sidebar/posx\" enabler=\"$:/state/sidebar/resizing\">\n\n<%if [tdff.tiddlyflex-layout[]] %>\n\n\t.tc-tiddlyflex-sidebar .tc-sidebar-header {\n\t\ttransition: none;\n\t}\n\n\t.tc-tiddlyflex-top-toolbar .tc-show-sidebar-btn svg.tc-image-chevron-left, .tc-tiddlyflex-top-toolbar .tc-hide-sidebar-btn svg.tc-image-chevron-right {\n\t\ttransform: none;\n\t}\n\n\t.tc-modal-wrapper {\n\t\tz-index: 999;\n\t}\n\n\t.tc-plugin-reload-warning {\n\t\tposition: relative;\n\t\tpadding-top: 15px;\n\t\tpadding-bottom: 15px;\n\t}\n\n\t.tc-plugin-reload-warning p {\n\t\tmargin: 0;\n\t}\n\n\t.tc-drafts-list.tc-tiddlyflex-drafts-list {\n\t\tz-index: 997;\n\t\tposition: absolute;\n\t\tfont-size: 0.8em;\n\t\tleft: 0;\n\t\tbottom: 0;\n\t}\n\n\t<%if [{$:/config/tiddlyflex/story-river/tiddler/show-controls-hover}match[yes]] %>\n\n\t\t@media (min-width: 992px) {\n\n\t\t\t.tc-tiddler-frame .tc-tiddler-controls {\n\t\t\t\tdisplay: none;\n\t\t\t\tpadding: 0;\n\t\t\t}\n\n\t\t\t.tc-tiddler-frame:hover .tc-tiddler-controls {\n\t\t\t\tdisplay: block;\n\t\t\t}\n\n\t\t}\n\n\t<% endif %>\n\n<% endif %>\n\n</$refresh-blocker>"},"$:/plugins/BTC/TiddlyFlex/styles/narrow":{"title":"$:/plugins/BTC/TiddlyFlex/styles/narrow","tags":"$:/tags/Stylesheet","text":"\\procedure story-river-width-sidebar() calc(100% - (100% - {{{ [[$(sidebarPosX)$]substitute[]addsuffix[px]] }}}))\n\\procedure story-river-width() calc(100% - {{{ [[$(sidebarWidth)$]substitute[]addsuffix[px]] }}})\n\n<$refresh-blocker refresh-blocker=\"$:/state/sidebar/posx\" enabler=\"$:/state/sidebar/resizing\">\n\n<%if [tdff.tiddlyflex-layout[]] %>\n\n\t@media (max-width: 991.98px) {\n\n\t\t<<tiddlyflex-css-horizontal-view>>\n\n\t\t.tc-tiddlyflex-sidebar {\n\t\t\twidth: 90%;\n\t\t}\n\n\t}\n\n\t@media (min-width: 992px) {\n\n\t\t<%if [{$:/config/tiddlyflex/story-river/horizontal}match[yes]] %>\n\n\t\t\t.tc-tiddlyflex-main-wrapper {\n\t\t\t\toverflow-x: auto;\n\t\t\t}\n\n\t\t\t.tc-tiddlyflex-main {\n\t\t\t\toverflow-x: clip;\n\t\t\t}\n\n\t\t\t.tc-tiddlyflex-story-river-container-inner {\n\t\t\t\toverflow-x: auto;\n\t\t\t\twidth: 100%;\n\t\t\t\tmax-width: 100%;\n\t\t\t\tscroll-behavior: smooth;\n\t\t\t\tscroll-snap-type: x mandatory;\n\t\t\t\tz-index: 1;\n\t\t\t}\n\n\t\t\t.tc-tiddlyflex-story-river-wrapper {\n\t\t\t\tflex-basis: 100%;\n\t\t\t\tmax-width: 100%;\n\t\t\t\tscroll-snap-align: start;\n\t\t\t\toverflow: clip;\n\t\t\t}\n\n\t\t<% endif %>\n\n\t}\n\n\t@media (max-width: 767.98px) {\n\t\t\n\t\t.tc-tiddlyflex-top-toolbar .tc-sidebar-lists .tc-search input {\n\t\t\twidth: 150px;\n\t\t}\n\n\t}\n\n\t@media (max-width: 575.98px) {\n\t\t\n\t\t.tc-tiddlyflex-top-toolbar .tc-sidebar-lists .tc-search input {\n\t\t\twidth: 100px;\n\t\t}\n\n\t\t.tc-tiddlyflex-top-toolbar .tc-sidebar-lists .tc-search .tc-image-down-arrow + em {\n\t\t\tdisplay: none;\n\t\t}\n\n\t}\n\n<% endif %>\n\n</$refresh-blocker>"},"$:/plugins/BTC/TiddlyFlex/styles/scroll-margins":{"title":"$:/plugins/BTC/TiddlyFlex/styles/scroll-margins","tags":"$:/tags/Stylesheet","text":"\\procedure tiddlyflex-scroll-margin-top-story-river-padding()\n\\rules only filteredtranscludeinline transcludeinline macrodef macrocallinline macrocallblock whitespace\n\n.tc-tiddlyflex-story-river-{{{ [[$(tiddlyFlexColumn)$]substitute[]] }}} .tc-tiddlyflex-story-river-inner > [data-tiddler-title={{{ [[$(cssEscapedTitle)$]substitute[]addprefix[\"]addsuffix[\"]] }}}].tc-tiddler-view-frame, .tc-tiddlyflex-story-river-{{{ [[$(tiddlyFlexColumn)$]substitute[]] }}} .tc-tiddlyflex-story-river-inner > [data-tiddler-title={{{ [[$(cssEscapedTitle)$]substitute[]addprefix[\"]addsuffix[\"]] }}}].tc-tiddler-edit-frame {\n\tscroll-margin-top: {{$:/config/tiddlyflex/story-river/padding}};\n\tscroll-margin-left: {{$:/config/tiddlyflex/story-river/padding}};\n}\n\n\\end\n\n\\procedure tiddlyflex-scroll-margin-top()\n\\rules only filteredtranscludeinline transcludeinline macrodef macrocallinline macrocallblock whitespace\n\n.tc-tiddlyflex-story-river-{{{ [[$(tiddlyFlexColumn)$]substitute[]] }}} .tc-tiddlyflex-story-river-inner > [data-tiddler-title={{{ [[$(cssEscapedTitle)$]substitute[]addprefix[\"]addsuffix[\"]] }}}].tc-tiddler-view-frame, .tc-tiddlyflex-story-river-{{{ [[$(tiddlyFlexColumn)$]substitute[]] }}} .tc-tiddlyflex-story-river-inner > [data-tiddler-title={{{ [[$(cssEscapedTitle)$]substitute[]addprefix[\"]addsuffix[\"]] }}}].tc-tiddler-edit-frame {\n\tscroll-margin-top: {{{ [{$:/config/tiddlyflex/story-river/tiddler/margin-bottom}compare:number:lteq{$:/config/tiddlyflex/story-river/padding}] ~[{$:/config/tiddlyflex/story-river/padding}] }}};\n\tscroll-margin-left: {{$:/config/tiddlyflex/story-river/padding}};\n}\n\n\\end\n\n<$refresh-blocker refresh-blocker=\"$:/state/sidebar/posx\" enabler=\"$:/state/sidebar/resizing\">\n\n<%if [tdff.tiddlyflex-layout[]] %>\n\n\t<%if [[$:/state/sidebar/resizing]is[missing]] %>\n\n\t\t<$list filter=\"[subfilter<tdff.tiddlyflex-enlist-columns>]\" variable=\"tiddlyFlexColumn\">\n\n\t\t\t<$set name=\"tv-story-list\" value={{{ [[$:/StoryList-]addsuffix<tiddlyFlexColumn>] }}}>\n\n\t\t\t\t<$list filter=\"[subfilter<tdff.tiddlyflex-story-river-filter>] +[nth[1]]\" variable=\"tiddler\">\n\n\t\t\t\t\t<$set name=\"cssEscapedTitle\" value={{{ [<tiddler>escapecss[]] }}}>\n\n\t\t\t\t\t\t<<tiddlyflex-scroll-margin-top-story-river-padding>>\n\n\t\t\t\t\t</$set>\n\n\t\t\t\t</$list>\n\n\t\t\t\t<$list filter=\"[subfilter<tdff.tiddlyflex-story-river-filter>] -[subfilter<tdff.tiddlyflex-story-river-filter>nth[1]]\" variable=\"tiddler\">\n\n\t\t\t\t\t<$set name=\"cssEscapedTitle\" value={{{ [<tiddler>escapecss[]] }}}>\n\n\t\t\t\t\t\t<<tiddlyflex-scroll-margin-top>>\n\n\t\t\t\t\t</$set>\n\n\t\t\t\t</$list>\n\n\t\t\t</$set>\n\n\t\t</$list>\n\n\t<% endif %>\n\n<% endif %>\n\n</$refresh-blocker>"},"$:/plugins/BTC/TiddlyFlex/styles/settings":{"title":"$:/plugins/BTC/TiddlyFlex/styles/settings","tags":"$:/tags/Stylesheet","text":"<$refresh-blocker refresh-blocker=\"$:/state/sidebar/posx\" enabler=\"$:/state/sidebar/resizing\">\n\n/** checkbox switches start **/\n/** https://www.w3schools.com/howto/howto_css_switch.asp **/\n/* The switch - the box around the slider */\nlabel.tc-tiddlyflex-ui-form-switch {\n\tposition: relative;\n\tdisplay: inline-block;\n\twidth: 36px;\n\theight: 12px;\n}\n\n/* Hide default HTML checkbox */\nlabel.tc-tiddlyflex-ui-form-switch input {\n\topacity: 0;\n\twidth: 0;\n\theight: 0;\n}\n\n/* The slider */\nlabel.tc-tiddlyflex-ui-form-switch span {\n\tposition: absolute;\n\tcursor: pointer;\n\ttop: 0;\n\tleft: 0;\n\tright: 0;\n\tbottom: 0;\n\tbackground-color: <<color tiddler-controls-foreground>>;\n\t-webkit-transition: .2s;\n\ttransition: .2s;\n}\n\nlabel.tc-tiddlyflex-ui-form-switch span:before {\n\tposition: absolute;\n\tcontent: \"\";\n\theight: 20px;\n\twidth: 20px;\n\tleft: -1px;\n\ttop: -4px;\n\tbottom: 4px;\n\tbackground-color: <<color background>>;\n\t-webkit-transition: .2s;\n\ttransition: .2s;\n\tbox-shadow: 0 1px 3px 0 rgba(0,0,0,0.7);\n}\n\nlabel.tc-tiddlyflex-ui-form-switch input:checked + span {\n\tbackground-color: rgba(26,115,232,0.5);\n}\n\nlabel.tc-tiddlyflex-ui-form-switch input:checked + span:before {\n\tbackground-color: rgb(26,115,232);\n\topacity: 1;\n}\n\nlabel.tc-tiddlyflex-ui-form-switch input:focus + span {\n\tbox-shadow: 0 0 1px #2196F3;\n}\n\nlabel.tc-tiddlyflex-ui-form-switch input:checked + span:before {\n\t-webkit-transform: translateX(17px);\n\t-ms-transform: translateX(17px);\n\ttransform: translateX(17px);\n}\n\nlabel.tc-tiddlyflex-ui-form-switch span {\n\tborder-radius: 12px;\n}\n\nlabel.tc-tiddlyflex-ui-form-switch span:before {\n\tborder-radius: 50%;\n}\n\ndiv.tc-tiddlyflex-ui-form-label {\n\t\n}\n\n/*** checkbox switches end ***/\n\n/** form select elements **/\n.tc-tiddlyflex-ui-form-select {\n\tappearance: none;\n\tbackground: url(\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='24' height='12' fill='%235F6368'%3E%3Cpath d='M0 0h24L12 12z'/%3E%3C/svg%3E\") calc(100% - 8px) center no-repeat;\n\tbackground-color: rgb(241,243,244);\n\tbackground-size: 10px;\n\tborder: none;\n\tborder-radius: 4px;\n\tcolor: rgb(32,33,36);\n\tcursor: pointer;\n\tmax-width: 100%;\n\toutline: none;\n\tpadding: 6px 21px 6px 8px;\n/*\twidth: 200px;*/\n}\n\ninput.tc-tiddlyflex-ui-form-input {\n\tborder: 1px solid <<color tiddler-controls-foreground>>;\n\tborder-radius: 3px;\n\tbackground-color: <<colour background>>;\n\tpadding: 6px;\n\tcolor: <<colour foreground>>;\n}\n\ninput.tc-tiddlyflex-ui-form-input:focus {\n\toutline-color: #ccc;\n}\n\n\n.tc-tiddlyflex-list-group {\n\tdisplay: flex;\n\tflex-direction: column;\n\tpadding-left: 0;\n\tmargin-bottom: 0;\n\tbox-sizing: border-box;\n}\n\n.tc-tiddlyflex-list-group-box-shadow {\n\tbox-shadow:1px 1px 5px rgba(0, 0, 0, 0.3);\t\n\tborder-bottom-left-radius: .25rem;\n\tborder-bottom-right-radius: .25rem;\n\tborder-top-left-radius: .25rem;\n\tborder-top-right-radius: .25rem;\t\t\n}\n\t\n.tc-tiddlyflex-list-group-item {\n\tposition: relative;\n\tdisplay: block;\n\tpadding: 0.75rem 1.25rem;\n\tbackground-color:  <<color background>>;\n\tborder: 1px solid rgba(0,0,0,.125);\n\twidth: 100%;\n\tcolor: #495057;\n\ttext-align:\tinherit;\t\n\tdisplay: flex;\n\tflex-direction: row;\n\tjustify-content: space-between!important;\n\talign-items: center!important;\n\tword-spacing: 0.1em;\n}\n\n\n.tc-tiddlyflex-list-group-item+.tc-tiddlyflex-list-group-item {\n\tborder-top-width: 0;\n}\n\n.tc-tiddlyflex-list-group-item:first-child {\n\tborder-top-left-radius: .25rem;\n\tborder-top-right-radius: .25rem;\n}\n\n.tc-tiddlyflex-list-group-item:last-child {\n\tborder-bottom-left-radius: .25rem;\n\tborder-bottom-right-radius: .25rem;\n}\n\n.tc-tiddlyflex-list-settings {\n\tfont-size: 90%;\n}\n\ninput.tc-tiddlyflex-search-input {\n    display: block;\n    width: 100%;\n    height: calc(1.5em + .75rem + 2px);\n    padding: .375rem .75rem;\n    font-size: 0.8rem;\n    font-weight: 400;\n    line-height: 1.5;\n    color: #495057;\n    background-color:  <<color background>>;\n    background-clip: padding-box;\n    border: 1px solid #ced4da;\n    border-radius: .25rem;\n    transition: border-color .15s ease-in-out,box-shadow .15s ease-in-out;\n    margin-bottom: 0.75em;\n}\n\ninput.tc-tiddlyflex-search-input:focus {\ncolor: #495057;\n    background-color:  <<color background>>;\n    border-color: #80bdff;\n    outline: 0;\n    box-shadow: 0 0 0 0.2rem rgba(0,123,255,.25);\n}\n\n</$refresh-blocker>"},"$:/plugins/BTC/TiddlyFlex/styles/sidebar-resizer":{"title":"$:/plugins/BTC/TiddlyFlex/styles/sidebar-resizer","tags":"$:/tags/Stylesheet","text":"<%if [tdff.tiddlyflex-layout[]] %>\n\n\t@media (min-width: 992px) {\n\n\t\t<%if [{$:/config/tiddlyflex/sidebar/resizer}match[yes]] %>\n\n\t\t\t.tc-tiddlyflex-pointerdown-eventcatcher {\n\t\t\t\tposition: absolute;\n\t\t\t\ttop: 0;\n\t\t\t\tleft: 0;\n\t\t\t\theight: 100%;\n\t\t\t\twidth: 100%;\n\t\t\t}\n\n\t\t\t<%if [[$:/state/sidebar/resizing]!is[missing]] %>\n\n\t\t\t\t.tc-tiddlyflex-pointerdown-eventcatcher {\n\t\t\t\t\tz-index: 1001;\n\t\t\t\t}\n\n\t\t\t<% endif %>\n\n\t\t\t.tc-tiddlyflex-pointermove-eventcatcher {\n\t\t\t\tposition: absolute;\n\t\t\t\ttop: 0;\n\t\t\t\tleft: 0;\n\t\t\t\theight: 100%;\n\t\t\t\twidth: 100%;\n\t\t\t\tz-index: 1003;\n\t\t\t}\n\n\t\t\t.tc-tiddlyflex-pointermove {\n\t\t\t\tposition: fixed;\n\t\t\t\ttop: 0;\n\t\t\t\tleft: 0;\n\t\t\t\theight: 100vh;\n\t\t\t\twidth: 100vw;\n\t\t\t\tz-index: 1003;\n\t\t\t}\n\n\t\t\t.tc-tiddlyflex-sidebar-resizer {\n\t\t\t\tposition: absolute;\n\t\t\t\ttop: calc(50% - 26px);\n\t\t\t\tleft: calc(100% - 39px);\n\t\t\t\theight: 26px;\n\t\t\t\twidth: 52px;\n\t\t\t\tborder-radius: 26px 26px 0 0;\n\t\t\t\ttransform: rotate(-90deg);\n\t\t\t\tbackground-color: <<colour tiddlyflex-sidebar-resizer>>;\n\t\t\t\tz-index: 1002;\n\t\t\t\ttransition: left {{$:/config/AnimationDuration}}ms {{$:/config/tiddlyflex/story-river/animation-curve}}, visibility {{$:/config/AnimationDuration}}ms {{$:/config/tiddlyflex/story-river/animation-curve}};\n\t\t\t\tvisibility: hidden;\n\t\t\t}\n\n\t\t\t<%if [{$:/state/sidebar}!match[no]then[$:/state/sidebar/resizing]!is[missing]] %>\n\n\t\t\t\t.tc-tiddlyflex-sidebar-resizer {\n\t\t\t\t\ttransition: none;\n\t\t\t\t}\n\n\t\t\t<% endif %>\n\n\t\t\t<%if [{$:/state/sidebar}!match[no]] %>\n\n\t\t\t\t.tc-tiddlyflex-sidebar-resizer {\n\t\t\t\t\tleft: calc(100% - {{$:/config/tiddlyflex/sidebar/width}} - 39px);\n\t\t\t\t\tvisibility: visible;\n\t\t\t\t}\n\n\t\t\t<% endif %>\n\n\t\t\t<%if [[$:/state/sidebar/posx]!is[missing]then{$:/state/sidebar}!match[no]] %>\n\n\t\t\t\t<%if [[$:/state/sidebar/resizing]!is[missing]] %>\n\n\t\t\t\t\t.tc-tiddlyflex-sidebar-resizer {\n\t\t\t\t\t\tleft: min(max(min(calc(100% - {{$:/config/tiddlyflex/sidebar/width}} - 39px),calc({{$:/state/sidebar/posx}}px + (({{$:/state/sidebar/posx!!selectednode-width}}px / 2) - {{$:/state/sidebar/posx!!drag-diff}}px) - 39px)),calc(({{{ [{$:/config/tiddlyflex/story-river/horizontal}!match[yes]] :then[subfilter<tdff.tiddlyflex-enlist-columns>count[]] ~1 }}} * {{$:/config/tiddlyflex/story-river/min-width}}) - 39px)),calc(100% - {{$:/config/tiddlyflex/sidebar/width}} - 39px));\n\t\t\t\t\t}\n\n\t\t\t\t<% else %>\n\n\t\t\t\t\t.tc-tiddlyflex-sidebar-resizer {\n\t\t\t\t\t\tleft: min(max(min(calc(100% - {{$:/config/tiddlyflex/sidebar/width}} - 39px),calc({{$:/state/sidebar/posx}}px + (({{$:/state/sidebar/posx!!selectednode-width}}px / 2) - {{$:/state/sidebar/posx!!drag-diff}}px) - 39px)),calc(({{{ [{$:/config/tiddlyflex/story-river/horizontal}!match[yes]] :then[subfilter<tdff.tiddlyflex-enlist-columns>count[]] ~1 }}} * {{$:/config/tiddlyflex/story-river/min-width}}) - 39px)),calc(100% - {{$:/config/tiddlyflex/sidebar/width}} - 39px));\n\t\t\t\t\t}\n\n\t\t\t\t<% endif %>\n\n\t\t\t<% endif %>\n\n\t\t<% else %>\n\n\t\t\t.tc-tiddlyflex-pointerdown-eventcatcher {\n\t\t\t\tdisplay: none;\n\t\t\t}\n\n\t\t<% endif %>\n\n\t}\n\n\t@media (max-width: 991.98px) {\n\n\t\t.tc-tiddlyflex-pointerdown-eventcatcher {\n\t\t\tdisplay: none;\n\t\t}\n\n\t}\n\n<% endif %>"},"$:/plugins/BTC/TiddlyFlex/styles/tiddler-animations":{"title":"$:/plugins/BTC/TiddlyFlex/styles/tiddler-animations","tags":"$:/tags/Stylesheet","text":"\\procedure tiddlyflex-dont-display-tiddler()\n\\rules only filteredtranscludeinline transcludeinline macrodef macrocallinline macrocallblock whitespace\n\n.tc-tiddlyflex-story-river-{{{ [[$(column)$]substitute[]] }}} .tc-tiddlyflex-story-river-inner > [data-tiddler-title={{{ [[$(tiddlerTitleCSSEscaped)$]substitute[]] }}}].tc-tiddler-view-frame > .tc-tiddler-frame, .tc-tiddlyflex-story-river-{{{ [[$(column)$]substitute[]] }}} .tc-tiddlyflex-story-river-inner > [data-tiddler-title={{{ [[$(tiddlerTitleCSSEscaped)$]substitute[]] }}}].tc-tiddler-edit-frame > .tc-tiddler-frame {\n\tvisibility: hidden;\n}\n\n\\end\n\n\\procedure tiddlyflex-remove-tiddler-animation()\n\\rules only filteredtranscludeinline transcludeinline macrodef macrocallinline macrocallblock whitespace\n\n@keyframes margin-top-remove-{{{ [[$(column)$]substitute[]] }}}-{{{ [[$(tiddlerTitleCSSEscaped)$]substitute[]] }}} {\n\tfrom {\n\t\tmargin-top: 0%;\n\t}\n\tto {\n\t\tmargin-top: calc( -{{$:/config/tiddlyflex/story-river/tiddler/margin-bottom}} - {{{ [[$(tiddlerHeight)$]substitute[]] }}}px);\n\t}\n}\n\n.tc-tiddlyflex-story-river-{{{ [[$(column)$]substitute[]] }}} .tc-tiddlyflex-story-river-inner > [data-tiddler-title={{{ [[$(tiddlerTitleCSSEscaped)$]substitute[]] }}}].tc-tiddler-view-frame > .tc-tiddler-frame, .tc-tiddlyflex-story-river-{{{ [[$(column)$]substitute[]] }}} .tc-tiddlyflex-story-river-inner > [data-tiddler-title={{{ [[$(tiddlerTitleCSSEscaped)$]substitute[]] }}}].tc-tiddler-edit-frame > .tc-tiddler-frame {\n\tvisibility: visible;\n\t-webkit-animation: slide-out-{{{ [[$(direction)$]substitute[]] }}} {{$:/config/AnimationDuration}}ms linear;\n\t-moz-animation: slide-out-{{{ [[$(direction)$]substitute[]] }}} {{$:/config/AnimationDuration}}ms linear;\n\tanimation: slide-out-{{{ [[$(direction)$]substitute[]] }}} {{$:/config/AnimationDuration}}ms linear;\n\tborder: 1px solid <<colour tiddlyflex-current-tiddler>>;\n}\n\n.tc-tiddlyflex-story-river-{{{ [[$(column)$]substitute[]] }}} .tc-tiddlyflex-story-river-inner > [data-tiddler-title={{{ [[$(tiddlerTitleCSSEscaped)$]substitute[]] }}}].tc-tiddler-view-frame, .tc-tiddlyflex-story-river-{{{ [[$(column)$]substitute[]] }}} .tc-tiddlyflex-story-river-inner > [data-tiddler-title={{{ [[$(tiddlerTitleCSSEscaped)$]substitute[]] }}}].tc-tiddler-edit-frame {\n\tz-index: 999;\n}\n\n.tc-tiddlyflex-story-river-{{{ [[$(column)$]substitute[]] }}} .tc-tiddlyflex-story-river-inner > [data-tiddler-title={{{ [[$(tiddlerTitleCSSEscaped)$]substitute[]] }}}].tc-tiddler-view-frame + .tc-tiddler-view-frame, .tc-tiddlyflex-story-river-{{{ [[$(column)$]substitute[]] }}} .tc-tiddlyflex-story-river-inner > [data-tiddler-title={{{ [[$(tiddlerTitleCSSEscaped)$]substitute[]] }}}].tc-tiddler-view-frame + .tc-tiddler-edit-frame, .tc-tiddlyflex-story-river-{{{ [[$(column)$]substitute[]] }}} .tc-tiddlyflex-story-river-inner > [data-tiddler-title={{{ [[$(tiddlerTitleCSSEscaped)$]substitute[]] }}}].tc-tiddler-edit-frame + .tc-tiddler-view-frame, .tc-tiddlyflex-story-river-{{{ [[$(column)$]substitute[]] }}} .tc-tiddlyflex-story-river-inner > [data-tiddler-title={{{ [[$(tiddlerTitleCSSEscaped)$]substitute[]] }}}].tc-tiddler-edit-frame + .tc-tiddler-edit-frame {\n\t-webkit-animation: margin-top-remove-{{{ [[$(column)$]substitute[]] }}}-{{{ [[$(tiddlerTitleCSSEscaped)$]substitute[]] }}} {{$:/config/AnimationDuration}}ms linear;\n\t-moz-animation: margin-top-remove-{{{ [[$(column)$]substitute[]] }}}-{{{ [[$(tiddlerTitleCSSEscaped)$]substitute[]] }}} {{$:/config/AnimationDuration}}ms linear;\n\tanimation: margin-top-remove-{{{ [[$(column)$]substitute[]] }}}-{{{ [[$(tiddlerTitleCSSEscaped)$]substitute[]] }}} {{$:/config/AnimationDuration}}ms linear;\n}\n\n\\end\n\n\\procedure tiddlyflex-add-tiddler-animation()\n\\rules only filteredtranscludeinline transcludeinline macrodef macrocallinline macrocallblock whitespace\n\n@keyframes margin-top-add-{{{ [[$(column)$]substitute[]] }}}-{{{ [[$(tiddlerTitleCSSEscaped)$]substitute[]] }}} {\n\tfrom {\n\t\tmargin-top: calc( -{{$:/config/tiddlyflex/story-river/tiddler/margin-bottom}} - {{{ [[$(tiddlerHeight)$]substitute[]] }}}px);\n\t}\n\tto {\n\t\tmargin-top: 0%;\n\t}\n}\n\n.tc-tiddlyflex-story-river-{{{ [[$(column)$]substitute[]] }}} .tc-tiddlyflex-story-river-inner > [data-tiddler-title={{{ [[$(tiddlerTitleCSSEscaped)$]substitute[]] }}}].tc-tiddler-view-frame > .tc-tiddler-frame, .tc-tiddlyflex-story-river-{{{ [[$(column)$]substitute[]] }}} .tc-tiddlyflex-story-river-inner > [data-tiddler-title={{{ [[$(tiddlerTitleCSSEscaped)$]substitute[]] }}}].tc-tiddler-edit-frame > .tc-tiddler-frame {\n\tvisibility: visible;\n\t-webkit-animation: slide-in-{{{ [[$(direction)$]substitute[]] }}} {{$:/config/AnimationDuration}}ms linear;\n\t-moz-animation: slide-in-{{{ [[$(direction)$]substitute[]] }}} {{$:/config/AnimationDuration}}ms linear;\n\tanimation: slide-in-{{{ [[$(direction)$]substitute[]] }}} {{$:/config/AnimationDuration}}ms linear;\n}\n\n<%if [{$:/config/tiddlyflex/story-river/follow-current-column}match[yes]] %>\n\n.tc-tiddlyflex-story-river-{{{ [[$(column)$]substitute[]] }}} .tc-tiddlyflex-story-river-inner > [data-tiddler-title={{{ [[$(tiddlerTitleCSSEscaped)$]substitute[]] }}}].tc-tiddler-view-frame > .tc-tiddler-frame, .tc-tiddlyflex-story-river-{{{ [[$(column)$]substitute[]] }}} .tc-tiddlyflex-story-river-inner > [data-tiddler-title={{{ [[$(tiddlerTitleCSSEscaped)$]substitute[]] }}}].tc-tiddler-edit-frame > .tc-tiddler-frame {\n\tborder: 1px solid <<colour tiddlyflex-current-tiddler>>;\n}\n\n<% endif %>\n\n.tc-tiddlyflex-story-river-{{{ [[$(column)$]substitute[]] }}} .tc-tiddlyflex-story-river-inner > [data-tiddler-title={{{ [[$(tiddlerTitleCSSEscaped)$]substitute[]] }}}].tc-tiddler-view-frame, .tc-tiddlyflex-story-river-{{{ [[$(column)$]substitute[]] }}} .tc-tiddlyflex-story-river-inner > [data-tiddler-title={{{ [[$(tiddlerTitleCSSEscaped)$]substitute[]] }}}].tc-tiddler-edit-frame {\n\tz-index: 999;\n}\n\n.tc-tiddlyflex-story-river-{{{ [[$(column)$]substitute[]] }}} .tc-tiddlyflex-story-river-inner > [data-tiddler-title={{{ [[$(tiddlerTitleCSSEscaped)$]substitute[]] }}}].tc-tiddler-view-frame + .tc-tiddler-view-frame, .tc-tiddlyflex-story-river-{{{ [[$(column)$]substitute[]] }}} .tc-tiddlyflex-story-river-inner > [data-tiddler-title={{{ [[$(tiddlerTitleCSSEscaped)$]substitute[]] }}}].tc-tiddler-view-frame + .tc-tiddler-edit-frame, .tc-tiddlyflex-story-river-{{{ [[$(column)$]substitute[]] }}} .tc-tiddlyflex-story-river-inner > [data-tiddler-title={{{ [[$(tiddlerTitleCSSEscaped)$]substitute[]] }}}].tc-tiddler-edit-frame + .tc-tiddler-view-frame, .tc-tiddlyflex-story-river-{{{ [[$(column)$]substitute[]] }}} .tc-tiddlyflex-story-river-inner > [data-tiddler-title={{{ [[$(tiddlerTitleCSSEscaped)$]substitute[]] }}}].tc-tiddler-edit-frame + .tc-tiddler-edit-frame {\n\t-webkit-animation: margin-top-add-{{{ [[$(column)$]substitute[]] }}}-{{{ [[$(tiddlerTitleCSSEscaped)$]substitute[]] }}} {{$:/config/AnimationDuration}}ms linear;\n\t-moz-animation: margin-top-add-{{{ [[$(column)$]substitute[]] }}}-{{{ [[$(tiddlerTitleCSSEscaped)$]substitute[]] }}} {{$:/config/AnimationDuration}}ms linear;\n\tanimation: margin-top-add-{{{ [[$(column)$]substitute[]] }}}-{{{ [[$(tiddlerTitleCSSEscaped)$]substitute[]] }}} {{$:/config/AnimationDuration}}ms linear;\n}\n\n\\end\n\n<$refresh-blocker refresh-blocker=\"$:/state/sidebar/posx\" enabler=\"$:/state/sidebar/resizing\">\n\n<%if [tdff.tiddlyflex-layout[]] %>\n\n\t<%if [[$:/state/sidebar/resizing]is[missing]] %>\n\n\t\t<%if [{$:/config/AnimationDuration}!is[blank]!match[0]] %>\n\n\t\t\t@keyframes slide-out-left {\n\t\t\t\tfrom {\n\t\t\t\t\ttransform: translateX(0%);\n\t\t\t\t}\n\t\t\t\tto {\n\t\t\t\t\ttransform: translateX(calc(-100% - (2 * {{$:/config/tiddlyflex/story-river/padding}})));\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t@keyframes slide-out-right {\n\t\t\t\tfrom {\n\t\t\t\t\ttransform: translateX(0%);\n\t\t\t\t}\n\t\t\t\tto {\n\t\t\t\t\ttransform: translateX(calc(100% + (2 * {{$:/config/tiddlyflex/story-river/padding}})));\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t@keyframes slide-in-left {\n\t\t\t\tfrom {\n\t\t\t\t\ttransform: translateX(calc( -100% - (2 * {{$:/config/tiddlyflex/story-river/padding}})));\n\t\t\t\t}\n\t\t\t\tto {\n\t\t\t\t\ttransform: translateX(0%);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t@keyframes slide-in-right {\n\t\t\t\tfrom {\n\t\t\t\t\ttransform: translateX(calc(100% + (2 * {{$:/config/tiddlyflex/story-river/padding}})));\n\t\t\t\t}\n\t\t\t\tto {\n\t\t\t\t\ttransform: translateX(0%);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t<$list filter=\"[all[tiddlers]prefix[$:/state/tiddlyflex/removing/]]\" variable=\"stateTiddler\">\n\t\t\t\t<$let tiddlerTitle={{{ [<stateTiddler>removeprefix[$:/state/tiddlyflex/removing/]] }}} tiddlerTitleCSSEscaped={{{ [<tiddlerTitle>escapecss[]] }}} column={{{ [<stateTiddler>get[column]] }}}>\n\n\t\t\t\t\t<<tiddlyflex-dont-display-tiddler>>\n\n\t\t\t\t\t<%if [<stateTiddler>has[height]] %>\n\t\t\t\t\t\t<$let direction={{{ [<stateTiddler>get[direction]] }}} tiddlerHeight={{{ [<stateTiddler>get[height]] }}}>\n\n\t\t\t\t\t\t\t<<tiddlyflex-remove-tiddler-animation>>\n\n\t\t\t\t\t\t\t.tc-tiddlyflex-story-river {\n\t\t\t\t\t\t\t\toverflow-x: clip;\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t</$let>\n\t\t\t\t\t<% endif %>\n\t\t\t\t</$let>\n\t\t\t</$list>\n\t\t\t<$list filter=\"[all[tiddlers]prefix[$:/state/tiddlyflex/adding/]]\" variable=\"stateTiddler\">\n\t\t\t\t<$let tiddlerTitle={{{ [<stateTiddler>removeprefix[$:/state/tiddlyflex/adding/]] }}} tiddlerTitleCSSEscaped={{{ [<tiddlerTitle>escapecss[]] }}} column={{{ [<stateTiddler>get[column]] }}}>\n\n\t\t\t\t\t<<tiddlyflex-dont-display-tiddler>>\n\n\t\t\t\t\t<%if [<stateTiddler>has[height]] %>\n\t\t\t\t\t\t<$let direction={{{ [<stateTiddler>get[direction]] }}} tiddlerHeight={{{ [<stateTiddler>get[height]] }}}>\n\n\t\t\t\t\t\t\t<<tiddlyflex-add-tiddler-animation>>\n\n\t\t\t\t\t\t\t.tc-tiddlyflex-story-river {\n\t\t\t\t\t\t\t\toverflow-x: clip;\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t</$let>\n\t\t\t\t\t<% endif %>\n\t\t\t\t</$let>\n\t\t\t</$list>\n\n\t\t<% endif %>\n\n\t\t.tc-tiddlyflex-adding-from-left, .tc-tiddlyflex-adding-from-right, .tc-tiddlyflex-removing-to-left, .tc-tiddlyflex-removing-to-right {\n\t\t\tvisibility: hidden;\n\t\t}\n\n\t<% endif %>\n\n<% endif %>\n\n</$refresh-blocker>"},"$:/plugins/BTC/TiddlyFlex/styles/toolbars":{"title":"$:/plugins/BTC/TiddlyFlex/styles/toolbars","tags":"$:/tags/Stylesheet","text":"<$refresh-blocker refresh-blocker=\"$:/state/sidebar/posx\" enabler=\"$:/state/sidebar/resizing\">\n\n<%if [tdff.tiddlyflex-layout[]] %>\n\n\t.tc-tiddlyflex-top-toolbar {\n\t\tdisplay: flex;\n\t\talign-items: stretch;\n\t\tline-height: 2em;\n\t}\n\n\t.tc-tiddlyflex-top-toolbar .tc-sidebar-lists.tc-sidebar-search {\n\t\tline-height: {{$:/themes/tiddlywiki/vanilla/metrics/lineheight}};\n\t}\n\n\t.tc-tiddlyflex-top-toolbar .tc-sidebar-lists.tc-sidebar-search .tc-block-dropdown {\n\t\tcolor: <<colour muted-foreground>>;\n\t}\n\n\t.tc-tiddlyflex-top-toolbar .tc-sidebar-lists.tc-sidebar-search .tc-search > .tc-reveal {\n\t\tfont-size: 0.75rem;\n\t}\n\n\t.tc-tiddlyflex-top-toolbar p {\n\t\tmargin: 0;\n\t}\n\n\t.tc-tiddlyflex-top-toolbar-left, .tc-tiddlyflex-top-toolbar-right {\n\t\tflex-grow: 0;\n\t}\n\n\t.tc-tiddlyflex-top-toolbar-center {\n\t\tflex-grow: 1;\n\t}\n\n\t.tc-tiddlyflex-top-toolbar-left {\n\t\tmargin-top: 5px;\n\t\tmargin-bottom: 5px;\n\t}\n\n\t.tc-tiddlyflex-top-toolbar-left > div:first-of-type {\n\t\tmargin-left: {{$:/config/tiddlyflex/story-river/padding}};\n\t}\n\n\t.tc-tiddlyflex-top-toolbar-right button {\n\t\tmargin-right: 0.5em;\n\t\tvertical-align: bottom;\n\t}\n\n\t.tc-tiddlyflex-top-toolbar-right .tc-btn-invisible svg:not(.lucide) {\n\t\tfill: <<colour muted-foreground>>;\n\t\tfont-size: 1rem;\n\t\theight: 1rem;\n\t\twidth: 1rem;\n\t}\n\n\t.tc-tiddlyflex-top-toolbar-right .tc-btn-invisible:hover svg:not(.lucide), .tc-tiddlyflex-top-toolbar-right .tc-btn-invisible.tc-selected svg:not(.lucide) {\n\t\tfill: <<colour foreground>>;\n\t}\n\n\t.tc-tiddlyflex-top-toolbar-right .tc-btn-invisible.tc-selected {\n\t\t-webkit-filter: drop-shadow(0px -1px 2px rgba(0,0,0,0.25));\n\t\t-moz-filter: drop-shadow(0px -1px 2px rgba(0,0,0,0.25));\n\t\tfilter: drop-shadow(0px -1px 2px rgba(0,0,0,0.25));\n\t}\n\n<% endif %>\n\n</$refresh-blocker>"},"$:/plugins/BTC/TiddlyFlex/styles/z-indexes":{"title":"$:/plugins/BTC/TiddlyFlex/styles/z-indexes","tags":"$:/tags/Stylesheet","text":"\\procedure tiddlyflex-tiddler-z-indexes-inner()\n\n<$list filter=\"[range<storyListCount>]\">\n`.tc-tiddlyflex-story-river-`{{{ [[$(tiddlyFlexColumn)$]substitute[]] }}} `.tc-tiddlyflex-story-river-inner > .tc-tiddler-view-frame:nth-child(100n+`<$text text=<<currentTiddler>>/>`) > .tc-tiddler-frame`,\n`.tc-tiddlyflex-story-river-`{{{ [[$(tiddlyFlexColumn)$]substitute[]] }}} `.tc-tiddlyflex-story-river-inner > .tc-tiddler-edit-frame:nth-child(100n+`<$text text=<<currentTiddler>>/>`) > .tc-tiddler-frame {\nz-index: `<$text text={{{ [<storyListCount>add[501]subtract<currentTiddler>] }}}/>`;\n}\n`\n</$list>\n\n\\end\n\n\\procedure tiddlyflex-tiddler-z-indexes()\n\n<$set name=\"storyListCount\" value={{{ [subfilter<tdff.tiddlyflex-story-river-filter>] +[count[]] }}}>\n\n\t<<tiddlyflex-tiddler-z-indexes-inner>>\n\n</$set>\n\n\\end\n\n<$refresh-blocker refresh-blocker=\"$:/state/sidebar/posx\" enabler=\"$:/state/sidebar/resizing\">\n\n<%if [tdff.tiddlyflex-layout[]] %>\n\n\t<%if [{$:/themes/tiddlywiki/vanilla/options/stickytitles}match[yes]] %>\n\n\t\t<$list filter=\"[subfilter<tdff.tiddlyflex-enlist-columns>]\" variable=\"tiddlyFlexColumn\">\n\n\t\t\t<$set name=\"tv-story-list\" value={{{ [[$:/StoryList-]addsuffix<tiddlyFlexColumn>] }}}>\n\n\t\t\t\t<<tiddlyflex-tiddler-z-indexes>>\n\n\t\t\t</$set>\n\n\t\t</$list>\n\n\t<% endif %>\n\n<% endif %>\n\n</$refresh-blocker>"},"$:/plugins/BTC/TiddlyFlex/modules/startup/tiddlyflex-hooks.js":{"text":"!function(){\"use strict\";exports.name=\"tiddlyflex-hooks\",exports.platforms=[\"browser\"],exports.after=[\"startup\"],exports.synchronous=!0,exports.startup=function(){$tw.hooks.addHook(\"th-navigating\",function(t){return!t.navigateTo&&t.event&&t.event.navigateTo?(t.navigateFromTitle&&!t.event.navigateFromTitle&&(t.event.navigateFromTitle=t.navigateFromTitle),t.event):t})}}();","type":"application/javascript","title":"$:/plugins/BTC/TiddlyFlex/modules/startup/tiddlyflex-hooks.js","module-type":"startup"},"$:/plugins/BTC/TiddlyFlex/modules/utils/utils.js":{"text":"!function(){\"use strict\";exports.error=function(e){var t=$tw.language==undefined?\"Internal JavaScript Error\":$tw.language.getString(\"InternalJavaScriptError/Title\"),r=$tw.language==undefined?\"Well, this is embarrassing. It is recommended that you restart TiddlyWiki by refreshing your browser\":$tw.language.getString(\"InternalJavaScriptError/Hint\");if(console.error($tw.node?\"\u001b[1;31m\"+e+\"\u001b[0m\":e),$tw.browser&&!$tw.node&&\"ResizeObserver loop completed with undelivered notifications.\"!==e){var n=$tw.utils.domMaker,i=n(\"h1\",{text:t}),o=n(\"div\",{text:r,\"class\":\"tc-error-prompt\"}),a=n(\"div\",{text:e,\"class\":\"tc-error-message\"}),d=n(\"div\",{children:[n(\"button\",{text:$tw.language==undefined?\"close\":$tw.language.getString(\"Buttons/Close/Caption\")})],\"class\":\"tc-error-prompt\"}),l=n(\"div\",{children:[n(\"button\",{text:$tw.language==undefined?\"download tiddlers\":$tw.language.getString(\"Buttons/EmergencyDownload/Caption\")})],\"class\":\"tc-error-prompt\"}),s=n(\"form\",{children:[i,o,l,a,d],\"class\":\"tc-error-form\"});return document.body.insertBefore(s,document.body.firstChild),l.addEventListener(\"click\",function(e){if($tw&&$tw.wiki){var t=[];$tw.wiki.each(function(e,r){t.push(e.fields)});var r=n(\"a\"),i=JSON.stringify(t);if(Blob!==undefined){var o=new Blob([i],{type:\"text/html\"});r.setAttribute(\"href\",URL.createObjectURL(o))}else r.setAttribute(\"href\",\"data:text/html,\"+encodeURIComponent(i));r.setAttribute(\"download\",\"emergency-tiddlers-\"+new Date+\".json\"),document.body.appendChild(r),r.click(),document.body.removeChild(r)}else alert(\"Emergency tiddler download is not available\");return e.preventDefault(),!1},!0),s.addEventListener(\"submit\",function(e){return document.body.removeChild(s),e.preventDefault(),!1},!0),null}$tw.browser||process.exit(1)}}();","type":"application/javascript","title":"$:/plugins/BTC/TiddlyFlex/modules/utils/utils.js","module-type":"utils"},"$:/core/modules/utils/dom/scroller.js":{"text":"!function(){\"use strict\";var t=function(){this.idRequestFrame=null,this.requestAnimationFrame=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||function(t){return window.setTimeout(t,1e3/60)},this.cancelAnimationFrame=window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.webkitCancelRequestAnimationFrame||window.mozCancelAnimationFrame||window.mozCancelRequestAnimationFrame||function(t){window.clearTimeout(t)}};t.prototype.isScrolling=function(){return null!==this.idRequestFrame},t.prototype.cancelScroll=function(t){this.idRequestFrame&&(this.cancelAnimationFrame.call(t,this.idRequestFrame),this.idRequestFrame=null)},t.prototype.handleEvent=function(t){if(\"tm-scroll\"===t.type){var e={};return $tw.utils.hop(t.paramObject,\"animationDuration\")&&(e.animationDuration=t.paramObject.animationDuration),t.paramObject&&t.paramObject.selector?this.scrollSelectorIntoView(null,t.paramObject.selector,null,e):this.scrollIntoView(t.target,null,e),!1}return!0},t.prototype.scrollIntoView=function(t,e,i){var n=$tw.utils.hop(i,\"animationDuration\")?parseInt(i.animationDuration):$tw.utils.getAnimationDuration(),o=t?t.ownerDocument.defaultView:window;this.idRequestFrame=this.requestAnimationFrame.call(o,function(){t.scrollIntoView({block:\"start\",inline:\"start\"})}),$tw.utils.addClass(t,\"tc-navigating\"),setTimeout(function(){$tw.utils.removeClass(t,\"tc-navigating\")},n)},t.prototype.scrollSelectorIntoView=function(t,e,i,n){t=t||document;var o=$tw.utils.querySelectorSafe(e,t);o&&this.scrollIntoView(o,i,n)},exports.PageScroller=t}();","type":"application/javascript","title":"$:/core/modules/utils/dom/scroller.js","module-type":"utils"},"$:/plugins/BTC/TiddlyFlex/modules/storyviews/tiddlyflex.js":{"text":"!function(){\"use strict\";var t,i,e=\"cubic-bezier(0.645, 0.045, 0.355, 1)\",d=function(t){this.listWidget=t};d.prototype.navigateTo=function(t){var i=$tw.utils.getAnimationDuration(),e=this.listWidget.findListItem(0,t.title);if(e!==undefined){var d=this.listWidget.children[e].findFirstDomNode();d&&d.nodeType!==Node.TEXT_NODE&&(i?this.listWidget.dispatchEvent({type:\"tm-scroll\",target:d}):d.scrollIntoView())}},d.prototype.insert=function(i){var d=$tw.utils.getAnimationDuration(),o=i.parseTreeNode.itemTitle;if(!d||i.wiki.tiddlerExists(\"$:/state/dragging\")||i.wiki.tiddlerExists(\"$:/state/tiddlyflex/adding/\"+o)||i.wiki.tiddlerExists(\"$:/state/tiddlyflex/story-river/fullscreen/\"+o))if(d&&!i.wiki.tiddlerExists(\"$:/state/dragging\")&&i.wiki.tiddlerExists(\"$:/state/tiddlyflex/adding/\"+o)){s=i.findFirstDomNode();i.wiki.setText(\"$:/state/tiddlyflex/adding/\"+o,\"height\",undefined,s.offsetHeight),clearTimeout(t),t=setTimeout(function(){i.wiki.deleteTiddler(\"$:/state/tiddlyflex/adding/\"+o)},d)}else clearTimeout(t),t=setTimeout(function(){i.wiki.deleteTiddler(\"$:/state/tiddlyflex/adding/\"+o)},d);else{var s;if(!(s=i.findFirstDomNode())||s.nodeType===Node.TEXT_NODE)return;var r=window.getComputedStyle(s),n=parseInt(r.marginBottom,10),l=parseInt(r.marginTop,10),a=s.offsetHeight+l;clearTimeout(t),t=setTimeout(function(){i.wiki.deleteTiddler(\"$:/state/tiddlyflex/adding/\"+o)},d),setTimeout(function(){$tw.utils.setStyle(s,[{transition:\"none\"},{marginBottom:\"\"}])},d),$tw.utils.setStyle(s,[{transition:\"none\"},{marginBottom:-a+\"px\"},{opacity:\"0.0\"}]),$tw.utils.forceLayout(s),$tw.utils.setStyle(s,[{transition:\"opacity \"+d+\"ms \"+e+\", margin-bottom \"+d+\"ms \"+e},{marginBottom:n+\"px\"},{opacity:\"1.0\"}])}$tw.wiki.tiddlerExists(\"$:/state/dragging\")&&i.wiki.deleteTiddler(\"$:/state/dragging\")},d.prototype.remove=function(t){var d=$tw.utils.getAnimationDuration(),o=t.parseTreeNode.itemTitle;if(!d||t.wiki.tiddlerExists(\"$:/state/dragging\")||t.wiki.tiddlerExists(\"$:/state/tiddlyflex/removing/\"+o)||t.wiki.tiddlerExists(\"$:/state/tiddlyflex/story-river/fullscreen/\"+o))if(d&&!t.wiki.tiddlerExists(\"$:/state/dragging\")&&t.wiki.tiddlerExists(\"$:/state/tiddlyflex/removing/\"+o)){s=t.findFirstDomNode(),r=function(){t.removeChildDomNodes()};t.wiki.setText(\"$:/state/tiddlyflex/removing/\"+o,\"height\",undefined,s.offsetHeight),clearTimeout(i),i=setTimeout(function(){t.wiki.deleteTiddler(\"$:/state/tiddlyflex/removing/\"+o)},d),setTimeout(r,d)}else t.removeChildDomNodes(),clearTimeout(i),i=setTimeout(function(){t.wiki.deleteTiddler(\"$:/state/tiddlyflex/removing/\"+o)},d);else{var s,r=function(){t.removeChildDomNodes(),t.wiki.deleteTiddler(\"$:/state/tiddlyflex/removing/\"+o)};if(!(s=t.findFirstDomNode())||s.nodeType===Node.TEXT_NODE)return void r();var n=s.offsetWidth,l=window.getComputedStyle(s),a=parseInt(l.marginBottom,10),m=parseInt(l.marginTop,10),f=s.offsetHeight+m;clearTimeout(i),i=setTimeout(function(){t.wiki.deleteTiddler(\"$:/state/tiddlyflex/removing/\"+o)},d),setTimeout(r,d),$tw.utils.setStyle(s,[{transition:\"none\"},{transform:\"translateX(0px)\"},{marginBottom:a+\"px\"},{opacity:\"1.0\"}]),$tw.utils.forceLayout(s),$tw.utils.setStyle(s,[{transition:$tw.utils.roundTripPropertyName(\"transform\")+\" \"+d+\"ms \"+e+\", opacity \"+d+\"ms \"+e+\", margin-bottom \"+d+\"ms \"+e},{transform:\"translateX(-\"+n+\"px)\"},{marginBottom:-f+\"px\"},{opacity:\"0.0\"}])}},exports.tiddlyflex=d}();","type":"application/javascript","title":"$:/plugins/BTC/TiddlyFlex/modules/storyviews/tiddlyflex.js","module-type":"storyview"},"$:/plugins/BTC/TiddlyFlex/modules/storyviews/tiddlypop.js":{"text":"!function(){\"use strict\";var t=function(t){this.listWidget=t};t.prototype.navigateTo=function(t){var e=this.listWidget.findListItem(0,t.title);if(e!==undefined){var o=this.listWidget.children[e].findFirstDomNode();o&&(o.nodeType,Node.TEXT_NODE)}},t.prototype.insert=function(t){var e=t.findFirstDomNode(),o=$tw.utils.getAnimationDuration();e&&e.nodeType!==Node.TEXT_NODE&&(setTimeout(function(){$tw.utils.setStyle(e,[{transition:\"none\"},{transform:\"none\"}]),$tw.utils.setStyle(t.document.body,[{\"overflow-x\":\"\"}])},o),$tw.utils.setStyle(t.document.body,[{\"overflow-x\":\"hidden\"}]),$tw.utils.setStyle(e,[{transition:\"none\"},{transform:\"scale(2)\"},{opacity:\"0.0\"}]),$tw.utils.forceLayout(e),$tw.utils.setStyle(e,[{transition:$tw.utils.roundTripPropertyName(\"transform\")+\" \"+o+\"ms ease-in-out, opacity \"+o+\"ms ease-in-out\"},{transform:\"scale(1)\"},{opacity:\"1.0\"}]))},t.prototype.remove=function(t){var e=t.findFirstDomNode(),o=$tw.utils.getAnimationDuration(),i=function(){e&&e.parentNode&&t.removeChildDomNodes()};e&&e.nodeType!==Node.TEXT_NODE?(setTimeout(i,o),$tw.utils.setStyle(e,[{transition:\"none\"},{transform:\"scale(1)\"},{opacity:\"1.0\"}]),$tw.utils.forceLayout(e),$tw.utils.setStyle(e,[{transition:$tw.utils.roundTripPropertyName(\"transform\")+\" \"+o+\"ms ease-in-out, opacity \"+o+\"ms ease-in-out\"},{transform:\"scale(0.1)\"},{opacity:\"0.0\"}])):i()},exports.tiddlypop=t}();","type":"application/javascript","title":"$:/plugins/BTC/TiddlyFlex/modules/storyviews/tiddlypop.js","module-type":"storyview"},"$:/core/modules/startup/story.js":{"text":"!function(){\"use strict\";exports.name=\"story\",exports.after=[\"startup\"],exports.synchronous=!0;var t=\"$:/StoryList\",i=\"$:/HistoryList\",e=\"$:/DefaultTiddlers\";function o(o){o=o||{};var d=null,a=null;if($tw.locationHash.length>1){var r=$tw.locationHash.substr(1),n=r.indexOf(\":\");-1===n?d=$tw.utils.decodeURIComponentSafe(r.trim()):(d=$tw.utils.decodeURIComponentSafe(r.substr(0,n).trim()),a=$tw.utils.decodeURIComponentSafe(r.substr(n+1).trim()))}if(null===a)if(o.defaultToCurrentStory){var l=$tw.wiki.getTiddlerList(\"$:/plugins/BTC/TiddlyFlex/ui/Layout\"===$tw.wiki.getTiddlerText(\"$:/layout\")?\"$:/StoryList-1\":t);a=$tw.utils.stringifyList(l)}else a=d&&\"\"!==d?\"\":$tw.wiki.getTiddlerText(e);var s=$tw.wiki.filterTiddlers(a);s=$tw.hooks.invokeHook(\"th-opening-default-tiddlers-list\",s),d&&-1===s.indexOf(d)&&s.unshift(d),$tw.wiki.addTiddler({title:\"$:/plugins/BTC/TiddlyFlex/ui/Layout\"===$tw.wiki.getTiddlerText(\"$:/layout\")?\"$:/StoryList-1\":t,text:\"\",list:s},$tw.wiki.getModificationFields());var w=new $tw.Story({wiki:$tw.wiki,storyTitle:\"$:/plugins/BTC/TiddlyFlex/ui/Layout\"===$tw.wiki.getTiddlerText(\"$:/layout\")?\"$:/StoryList-1\":t,historyTitle:\"$:/plugins/BTC/TiddlyFlex/ui/Layout\"===$tw.wiki.getTiddlerText(\"$:/layout\")?\"$:/HistoryList-1\":i});o.disableHistory||(d&&\"\"!==d?(0===d.indexOf(\"[[\")&&\"]]\"===d.substr(-2)&&(d=d.substr(2,d.length-4)),\"$:/plugins/BTC/TiddlyFlex/ui/Layout\"!==$tw.wiki.getTiddlerText(\"$:/layout\")&&w.addToHistory(d)):s.length>0&&\"$:/plugins/BTC/TiddlyFlex/ui/Layout\"!==$tw.wiki.getTiddlerText(\"$:/layout\")&&w.addToHistory(s[0]))}function d(e){var o=$tw.wiki.getTiddlerList(\"$:/plugins/BTC/TiddlyFlex/ui/Layout\"===$tw.wiki.getTiddlerText(\"$:/layout\")?\"$:/StoryList-1\":t),d=$tw.wiki.getTiddlerData(\"$:/plugins/BTC/TiddlyFlex/ui/Layout\"===$tw.wiki.getTiddlerText(\"$:/layout\")?\"$:/HistoryList-1\":i,[]),a=\"\";switch(e.targetTiddler?a=e.targetTiddler:(d.length>0&&(a=d[d.length-1].title),-1===o.indexOf(a)&&(a=\"\")),e.updateAddressBar){case\"permalink\":$tw.locationHash=\"#\"+encodeURIComponent(a);break;case\"permaview\":$tw.locationHash=\"#\"+encodeURIComponent(a)+\":\"+encodeURIComponent($tw.utils.stringifyList(o))}switch(e.copyToClipboard){case\"permalink\":$tw.utils.copyToClipboard($tw.utils.getLocationPath()+\"#\"+encodeURIComponent(a));break;case\"permaview\":$tw.utils.copyToClipboard($tw.utils.getLocationPath()+\"#\"+encodeURIComponent(a)+\":\"+encodeURIComponent($tw.utils.stringifyList(o)))}$tw.utils.getLocationHash()!==$tw.locationHash&&(\"yes\"===e.updateHistory?window.location.hash=$tw.locationHash:window.location.replace(window.location.toString().split(\"#\")[0]+$tw.locationHash))}exports.startup=function(){o({disableHistory:$tw.boot.disableStartupNavigation}),$tw.browser&&($tw.wiki.addEventListener(\"change\",function(e){($tw.utils.hop(e,\"$:/plugins/BTC/TiddlyFlex/ui/Layout\"===$tw.wiki.getTiddlerText(\"$:/layout\")?\"$:/StoryList-1\":t)||$tw.utils.hop(e,\"$:/plugins/BTC/TiddlyFlex/ui/Layout\"===$tw.wiki.getTiddlerText(\"$:/layout\")?\"$:/HistoryList-1\":i))&&d({updateAddressBar:$tw.wiki.getTiddlerText(\"$:/config/Navigation/UpdateAddressBar\",\"permaview\").trim(),updateHistory:$tw.wiki.getTiddlerText(\"$:/config/Navigation/UpdateHistory\",\"no\").trim()})}),window.addEventListener(\"hashchange\",function(){var t=$tw.utils.getLocationHash();t!==$tw.locationHash&&($tw.locationHash=t,\"#\"!==t&&o({defaultToCurrentStory:!0}))},!1),$tw.rootWidget.addEventListener(\"tm-browser-refresh\",function(t){window.location.reload(!0)}),$tw.rootWidget.addEventListener(\"tm-open-external-window\",function(t){var i=t.paramObject||{},e=t.param||\"http://tiddlywiki.com/#WidgetMessage%3A%20tm-open-external-window\",o=i.windowName,d=i.windowFeatures;window.open(e,o,d)}),$tw.rootWidget.addEventListener(\"tm-print\",function(t){(t.event.view||window).print()}),$tw.rootWidget.addEventListener(\"tm-home\",function(i){window.location.hash=\"\";var o=$tw.wiki.getTiddlerText(e),d=$tw.wiki.filterTiddlers(o);d=$tw.hooks.invokeHook(\"th-opening-default-tiddlers-list\",d),$tw.wiki.addTiddler({title:\"$:/plugins/BTC/TiddlyFlex/ui/Layout\"===$tw.wiki.getTiddlerText(\"$:/layout\")?\"$:/StoryList-1\":t,text:\"\",list:d},$tw.wiki.getModificationFields()),d[0]&&$tw.wiki.addToHistory(d[0])}),$tw.rootWidget.addEventListener(\"tm-permalink\",function(t){d({updateAddressBar:\"yes\"===$tw.wiki.getTiddlerText(\"$:/config/Navigation/Permalinkview/UpdateAddressBar\",\"yes\").trim()?\"permalink\":\"none\",updateHistory:$tw.wiki.getTiddlerText(\"$:/config/Navigation/UpdateHistory\",\"no\").trim(),targetTiddler:t.param||t.tiddlerTitle,copyToClipboard:\"yes\"===$tw.wiki.getTiddlerText(\"$:/config/Navigation/Permalinkview/CopyToClipboard\",\"yes\").trim()?\"permalink\":\"none\"})}),$tw.rootWidget.addEventListener(\"tm-permaview\",function(t){d({updateAddressBar:\"yes\"===$tw.wiki.getTiddlerText(\"$:/config/Navigation/Permalinkview/UpdateAddressBar\",\"yes\").trim()?\"permaview\":\"none\",updateHistory:$tw.wiki.getTiddlerText(\"$:/config/Navigation/UpdateHistory\",\"no\").trim(),targetTiddler:t.param||t.tiddlerTitle,copyToClipboard:\"yes\"===$tw.wiki.getTiddlerText(\"$:/config/Navigation/Permalinkview/CopyToClipboard\",\"yes\").trim()?\"permaview\":\"none\"})}))}}();","type":"application/javascript","title":"$:/core/modules/startup/story.js","module-type":"startup"},"$:/plugins/BTC/TiddlyFlex/modules/utils/dom/tiddlyflex-utils.js":{"text":"!function(){\"use strict\";exports.makeTiddlyFlexDraggable=function(e){var t,r=e.dragImageType||\"dom\",i=e.domNode;e.remove;e.selector||\"a\"===(i.tagName||\"\").toLowerCase()||i.setAttribute(\"draggable\",\"true\");var d=function(d){if(d.dataTransfer===undefined)return!1;var a,n=e.dragTiddlerFn&&e.dragTiddlerFn(),l=e.dragFilterFn&&e.dragFilterFn(),s=n?[n]:[],g=e.startActions;l&&s.push.apply(s,e.widget.wiki.filterTiddlers(l,e.widget));var o=$tw.utils.stringifyList(s);if(s.length>0&&(e.selector&&$tw.utils.domMatchesSelector(d.target,e.selector)||d.target===i)){$tw.dragInProgress=i,$tw.utils.addClass(i,\"tc-dragging\"),g!==undefined&&((a=$tw.utils.collectDOMVariables(i,null,d)).modifier=$tw.keyboardManager.getEventModifierKeyDescriptor(d),a.actionTiddler=o,e.widget.invokeActionString(g,e.widget,d,a)),(t=e.widget.document.createElement(\"div\")).className=\"tc-tiddler-dragger\";var c=e.widget.document.createElement(\"div\");c.className=\"tc-tiddler-dragger-inner\",c.appendChild(e.widget.document.createTextNode(1===s.length?s[0]:s.length+\" tiddlers\")),t.appendChild(c),e.widget.document.body.appendChild(t);var w=d.dataTransfer;if(w.effectAllowed=\"all\",w.setDragImage)if(\"pill\"===r)w.setDragImage(t.firstChild,-16,-16);else if(\"blank\"===r)t.removeChild(t.firstChild),w.setDragImage(t,0,0);else{var u=i.getBoundingClientRect();w.setDragImage(i,d.clientX-u.left,d.clientY-u.top)}w.clearData&&w.clearData();var f=[];s.length>1?(s.forEach(function(t){f.push(e.widget.wiki.getTiddlerAsJson(t))}),f=\"[\"+f.join(\",\")+\"]\"):f=e.widget.wiki.getTiddlerAsJson(s[0]),$tw.browser.isIE||(w.setData(\"text/vnd.tiddler\",f),w.setData(\"text/plain\",o),w.setData(\"text/x-moz-url\",\"data:text/vnd.tiddler,\"+encodeURIComponent(f))),$tw.browser.isMobileChrome||w.setData(\"URL\",\"data:text/vnd.tiddler,\"+encodeURIComponent(f)),w.setData(\"Text\",o),d.stopPropagation()}return!1},a=function(r){if(e.selector&&$tw.utils.domMatchesSelector(r.target,e.selector)||r.target===i){var d,a=e.dragTiddlerFn&&e.dragTiddlerFn(),n=e.dragFilterFn&&e.dragFilterFn(),l=a?[a]:[],s=e.endActions;n&&l.push.apply(l,e.widget.wiki.filterTiddlers(n,e.widget));var g=$tw.utils.stringifyList(l);$tw.dragInProgress=null,s!==undefined&&((d=$tw.utils.collectDOMVariables(i,null,r)).modifier=$tw.keyboardManager.getEventModifierKeyDescriptor(r),d.actionTiddler=g,e.widget.invokeActionString(s,e.widget,r,d)),$tw.utils.removeClass(i,\"tc-dragging\"),t&&(t.parentNode.removeChild(t),t=null)}return!1};e.widget.dragStartListenerReference=d,e.widget.dragEndListenerReference=a,$tw.utils.addEventListeners(i,[{name:\"dragstart\",handlerFunction:d},{name:\"dragend\",handlerFunction:a}])}}();","type":"application/javascript","title":"$:/plugins/BTC/TiddlyFlex/modules/utils/dom/tiddlyflex-utils.js","module-type":"utils"},"$:/plugins/BTC/TiddlyFlex/modules/widgets/tiddlyflex-draggable.js":{"text":"!function(){\"use strict\";var t=require(\"$:/core/modules/widgets/widget.js\").widget,e=function(t,e){this.initialise(t,e)};(e.prototype=new t).render=function(t,e){var s,i,a=[];this.parentDomNode=t,this.computeAttributes(),this.execute(),s=this.draggableTag,-1!==$tw.config.htmlUnsafeElements.indexOf(s)&&(s=\"div\"),i=this.document.createElement(s),this.draggableClasses&&a.push(this.draggableClasses),!this.dragHandleSelector&&this.dragEnable&&a.push(\"tc-draggable\"),i.setAttribute(\"class\",a.join(\" \")),this.assignAttributes(i,{sourcePrefix:\"data-\",destPrefix:\"data-\"}),t.insertBefore(i,e),this.renderChildren(i,null),this.makeDraggable(i),this.domNodes.push(i)},e.prototype.makeDraggable=function(t){var e=this;this.dragEnable?$tw.utils.makeTiddlyFlexDraggable({domNode:t,remove:!1,dragTiddlerFn:function(){return e.getAttribute(\"tiddler\")},dragFilterFn:function(){return e.getAttribute(\"filter\")},startActions:e.startActions,endActions:e.endActions,dragImageType:e.dragImageType,widget:this,selector:e.dragHandleSelector}):this.dragStartListenerReference&&this.dragEndListenerReference&&(t.removeEventListener(\"dragstart\",this.dragStartListenerReference,!1),t.removeEventListener(\"dragend\",this.dragEndListenerReference,!1),t.removeAttribute(\"draggable\"))},e.prototype.execute=function(){this.draggableTag=this.getAttribute(\"tag\",\"div\"),this.draggableClasses=this.getAttribute(\"class\"),this.startActions=this.getAttribute(\"startactions\"),this.endActions=this.getAttribute(\"endactions\"),this.dragImageType=this.getAttribute(\"dragimagetype\"),this.dragHandleSelector=this.getAttribute(\"selector\"),this.dragEnable=\"yes\"===this.getAttribute(\"enable\",\"yes\"),this.makeChildWidgets()},e.prototype.updateDomNodeClasses=function(){var t=this.domNodes[0].className.split(\" \"),e=this.draggableClasses.split(\" \");this.draggableClasses=this.getAttribute(\"class\"),$tw.utils.each(e,function(e){var s=t.indexOf(e);-1!==s&&t.splice(s,1)}),$tw.utils.pushTop(t,this.draggableClasses),this.domNodes[0].setAttribute(\"class\",t.join(\" \"))},e.prototype.refresh=function(t){var e=this.computeAttributes();return e.tag||e.selector||e.dragimagetype||e.startactions||e.endactions?(this.refreshSelf(),!0):(e.enable&&(this.dragEnable=\"yes\"===this.getAttribute(\"enable\",\"yes\"),this.makeDraggable(this.domNodes[0]),this.dragHandleSelector||!this.dragEnable||this.domNodes[0].classList.contains(\"tc-draggable\")?this.dragHandleSelector||this.dragEnable||!this.domNodes[0].classList.contains(\"tc-draggable\")||this.domNodes[0].classList.remove(\"tc-draggable\"):this.domNodes[0].classList.add(\"tc-draggable\")),e[\"class\"]&&this.updateDomNodeClasses(),this.assignAttributes(this.domNodes[0],{changedAttributes:e,sourcePrefix:\"data-\",destPrefix:\"data-\"}),this.refreshChildren(t))},exports[\"tiddlyflex-draggable\"]=e}();","type":"application/javascript","title":"$:/plugins/BTC/TiddlyFlex/modules/widgets/tiddlyflex-draggable.js","module-type":"widget"},"$:/plugins/BTC/TiddlyFlex/modules/widgets/refresh-blocker.js":{"text":"!function(){\"use strict\";var e=require(\"$:/core/modules/widgets/widget.js\").widget,r=function(e,r){this.initialise(e,r)};(r.prototype=new e).render=function(e,r){this.parentDomNode=e,this.computeAttributes(),this.execute(),this.renderChildren(e,null)},r.prototype.execute=function(){this.refreshBlockerTiddler=this.getAttribute(\"refresh-blocker\"),this.refreshBlockerEnabler=this.getAttribute(\"enabler\"),this.makeChildWidgets()},r.prototype.refresh=function(e){var r=this.computeAttributes();return r.refreshBlockerTiddler||r.refreshBlockerEnabler?(this.refreshSelf(),!0):!(this.refreshBlockerTiddler&&this.refreshBlockerEnabler&&e[this.refreshBlockerTiddler]&&$tw.wiki.tiddlerExists(this.refreshBlockerEnabler))&&this.refreshChildren(e)},exports[\"refresh-blocker\"]=r}();","type":"application/javascript","title":"$:/plugins/BTC/TiddlyFlex/modules/widgets/refresh-blocker.js","module-type":"widget"},"$:/plugins/BTC/TiddlyFlex/modules/widgets/subclasses/droppable.js":{"text":"!function(){\"use strict\";exports.baseClass=\"droppable\",exports.constructor=function(t,e){this.initialise(t,e)},exports.prototype={},exports.prototype.render=function(t,e){var r,i=this.parseTreeNode.isBlock?\"div\":\"span\";this.parentDomNode=t,this.computeAttributes(),this.execute(),this.droppableTag&&-1===$tw.config.htmlUnsafeElements.indexOf(this.droppableTag)&&(i=this.droppableTag),r=this.document.createElement(i),this.domNode=r,this.assignDomNodeClasses(),this.droppableEnable?$tw.utils.addEventListeners(r,[{name:\"dragenter\",handlerObject:this,handlerMethod:\"handleDragEnterEvent\"},{name:\"dragover\",handlerObject:this,handlerMethod:\"handleDragOverEvent\"},{name:\"dragleave\",handlerObject:this,handlerMethod:\"handleDragLeaveEvent\"},{name:\"drop\",handlerObject:this,handlerMethod:\"handleDropEvent\"},{name:\"dragend\",handlerObject:this,handlerMethod:\"handleDragEndEvent\"}]):$tw.utils.addClass(this.domNode,this.disabledClass),t.insertBefore(r,e),this.renderChildren(r,null),this.domNodes.push(r),this.currentlyEntered=[]},exports.prototype.handleEvent=function(t){\"dragenter\"===t.type?t.target&&t.target!==this.domNode&&!$tw.utils.domContains(this.domNode,t.target)&&this.resetState(null,t):\"dragleave\"===t.type&&(null===t.relatedTarget||t.relatedTarget&&\"HTML\"===t.relatedTarget.nodeName)&&this.resetState(null,t)},exports.prototype.resetState=function(t,e){if(t=t||{},this.domNodes[0]&&$tw.utils.removeClass(this.domNodes[0],\"tc-dragover\"),this.currentlyEntered=[],this.document.body.removeEventListener(\"dragenter\",this,!0),this.document.body.removeEventListener(\"dragleave\",this,!0),t.performDragLeaveActions&&this.dragLeaveActions){var r=$tw.keyboardManager.getEventModifierKeyDescriptor(e);this.invokeActionString(this.dragLeaveActions,this,e,{modifier:r})}if(t.performDragEndActions&&this.dragEndActions){r=$tw.keyboardManager.getEventModifierKeyDescriptor(e);this.invokeActionString(this.dragEndActions,this,e,{modifier:r})}},exports.prototype.enterDrag=function(t){if(-1===this.currentlyEntered.indexOf(t.target)&&this.currentlyEntered.push(t.target),$tw.utils.addClass(this.domNodes[0],\"tc-dragover\"),this.document.body.addEventListener(\"dragenter\",this,!0),this.document.body.addEventListener(\"dragleave\",this,!0),this.dragEnterActions){var e=$tw.keyboardManager.getEventModifierKeyDescriptor(t);this.invokeActionString(this.dragEnterActions,this,t,{modifier:e})}},exports.prototype.leaveDrag=function(t){var e=this.currentlyEntered.indexOf(t.target);-1!==e&&this.currentlyEntered.splice(e,1),0===this.currentlyEntered.length&&this.resetState({performDragLeaveActions:!0},t)},exports.prototype.handleDragEnterEvent=function(t){return this.enterDrag(t),t.preventDefault(),t.stopPropagation(),!1},exports.prototype.handleDragOverEvent=function(t){return-1===[\"TEXTAREA\",\"INPUT\"].indexOf(t.target.tagName)&&(t.preventDefault(),t.dataTransfer.dropEffect=this.droppableEffect,!1)},exports.prototype.handleDragLeaveEvent=function(t){return this.leaveDrag(t),!1},exports.prototype.handleDragEndEvent=function(t){this.resetState({performDragEndActions:!0})},exports.prototype.handleDropEvent=function(t){var e=this;if(this.leaveDrag(t),-1!==[\"TEXTAREA\",\"INPUT\"].indexOf(t.target.tagName))return!1;var r=t.dataTransfer;return this.resetState(null,t),$tw.utils.importDataTransfer(r,null,function(r){r.forEach(function(r){e.performActions(r.title||r.text,t)})}),t.preventDefault(),t.stopPropagation(),!1},exports.prototype.performActions=function(t,e){if(this.droppableActions){var r=$tw.keyboardManager.getEventModifierKeyDescriptor(e);this.invokeActionString(this.droppableActions,this,e,{actionTiddler:t,modifier:r})}},exports.prototype.execute=function(){this.droppableActions=this.getAttribute(\"actions\"),this.droppableEffect=this.getAttribute(\"effect\",\"copy\"),this.droppableTag=this.getAttribute(\"tag\"),this.droppableEnable=\"yes\"===(this.getAttribute(\"enable\")||\"yes\"),this.disabledClass=this.getAttribute(\"disabledClass\",\"\"),this.dragEnterActions=this.getAttribute(\"dragenteractions\"),this.dragLeaveActions=this.getAttribute(\"dragleaveactions\"),this.dragEndActions=this.getAttribute(\"dragendactions\"),this.makeChildWidgets()},exports.prototype.refresh=function(t){var e=this.computeAttributes();return e.tag||e.enable||e.disabledClass||e.actions||e.effect||e.dragenteractions||e.dragleaveactions||e.dragendactions?(this.refreshSelf(),!0):(e[\"class\"]&&this.assignDomNodeClasses(),this.refreshChildren(t))}}();","type":"application/javascript","title":"$:/plugins/BTC/TiddlyFlex/modules/widgets/subclasses/droppable.js","module-type":"widget-subclass"},"$:/plugins/BTC/TiddlyFlex/globals/css":{"title":"$:/plugins/BTC/TiddlyFlex/globals/css","tags":"$:/tags/Global","text":"\\define tiddlyflex-style-current-tiddler()\n\\rules only filteredtranscludeinline transcludeinline macrodef macrocallinline macrocallblock whitespace\n\n.tc-tiddlyflex-story-river-{{{ [[$(currentColumn)$]substitute[]] }}} .tc-tiddlyflex-story-river-inner > [data-tiddler-title={{{ [[$(cssEscapedTitle)$]substitute[]addprefix[\"]addsuffix[\"]] }}}]:not(.tc-navigating) > .tc-tiddler-frame {\n\toutline: 1px solid <<colour tiddlyflex-current-tiddler>>;\n}\n\n\\end\n\n\\define tiddlyflex-style-unfocused-tiddlers()\n\\rules only filteredtranscludeinline transcludeinline macrodef macrocallinline macrocallblock whitespace\n\n.tc-tiddlyflex-story-river-{{{ [[$(column)$]substitute[]] }}} .tc-tiddlyflex-story-river-inner >  [data-tiddler-title={{{ [[$(cssEscapedTitle)$]substitute[]addprefix[\"]addsuffix[\"]] }}}]:not(.tc-navigating) > .tc-tiddler-frame {\n\toutline: 1px solid <<colour tiddlyflex-current-tiddler-muted>>;\n}\n\n\\end\n\n\\procedure tiddlyflex-css-horizontal-view()\n\n.tc-tiddlyflex-main-wrapper {\n\toverflow-x: auto;\n}\n\n.tc-tiddlyflex-main {\n\toverflow-x: clip;\n}\n\n.tc-tiddlyflex-sidebar {\n\tposition: fixed;\n\ttop:0;\n\tright: 0;\n\tbottom: 0;\n\tz-index: 1001;\n\tbackground-color: <<colour page-background>>;\n\ttransform: translate3d(0,0,0);\n\t-webkit-transition: transform {{$:/config/AnimationDuration}}ms linear, box-shadow {{$:/config/AnimationDuration}}ms linear;\n\ttransition: transform {{$:/config/AnimationDuration}}ms linear, box-shadow {{$:/config/AnimationDuration}}ms linear;\n}\n\n<%if [{$:/state/sidebar}match[no]] %>\n\n\t.tc-tiddlyflex-sidebar {\n\t\ttransform: translate3d(100%,0,0);\n\t}\n\n<% endif %>\n\n.tc-tiddlyflex-leftbar {\n\tdisplay: none;\n}\n\n.tc-tiddlyflex-story-river-container {\n\tflex-basis: 100%;\n\tmax-width: 100%;\n}\n\n.tc-tiddlyflex-story-river-container-inner {\n\toverflow-x: auto;\n\twidth: 100vw;\n\tscroll-behavior: smooth;\n\tscroll-snap-type: x mandatory;\n}\n\n.tc-tiddlyflex-story-river-wrapper {\n\twidth: 100vw;\n\tflex-basis: 100vw;\n\tscroll-snap-align: start;\n\toverflow: hidden;\n}\n\n.tc-tiddlyflex-sidebar-hide.tc-tiddlyflex-sidebar-shown {\n\tvisibility: visible;\n\tbackground: rgba(0,0,0,.6);\n\t-webkit-transition: background {{$:/config/AnimationDuration}}ms 0s;\n\ttransition: background {{$:/config/AnimationDuration}}ms 0s;\n}\n\n\\end"},"$:/plugins/BTC/TiddlyFlex/globals/dragndrop":{"title":"$:/plugins/BTC/TiddlyFlex/globals/dragndrop","tags":"$:/tags/Global","text":"\\procedure tiddlyflex-top-dragenter-actions()\n<$action-setfield $tiddler=\"$:/state/dragging\" drag-count={{{ [[$:/state/dragging]get[drag-count]add[1]] }}}/>\n<%if [[$:/state/dragging]has[dragenter-count]] %>\n \t<$action-setfield $tiddler=\"$:/state/dragging\" starting-next-tiddler=\"\" copying=\"\" target=<<currentTiddler>> margin=\"top\" nth={{{ [list<tv-story-list>allbefore<currentTiddler>count[]] }}} river=<<tiddlyFlexColumn>> next-tiddler=\"\" from-index={{{ [list<tv-story-list>allbefore<currentTiddler>count[]] }}} from-story=<<tv-story-list>> dragenter-count={{{ [[$:/state/dragging]get[dragenter-count]add[1]] }}}/>\n<% else %>\n\t<$action-setfield $tiddler=\"$:/state/dragging\" dragenter-count=\"1\"/>\n<% endif %>\n\\end\n\\procedure tiddlyflex-bottom-dragenter-actions()\n<$action-setfield $tiddler=\"$:/state/dragging\" drag-count={{{ [[$:/state/dragging]get[drag-count]add[1]] }}}/>\n<%if [[$:/state/dragging]has[dragenter-count]] %>\n\t<$action-setfield $tiddler=\"$:/state/dragging\" starting-next-tiddler=\"\" copying=\"\" target=<<currentTiddler>> margin=\"bottom\" nth={{{ [list<tv-story-list>allbefore<currentTiddler>count[]add[1]] }}} river=<<tiddlyFlexColumn>> next-tiddler=\"\" from-index={{{ [list<tv-story-list>allbefore<currentTiddler>count[]add[1]] }}} from-story=<<tv-story-list>> dragenter-count={{{ [[$:/state/dragging]get[dragenter-count]add[1]] }}}/>\n<% else %>\n\t<$action-setfield $tiddler=\"$:/state/dragging\" dragenter-count=\"1\"/>\n<% endif %>\n\\end\n\\procedure tiddlyflex-top-drop-actions-inner()\n<%if [<actionTiddler>!match<currentTiddler>] %>\n\t<$action-listops $tiddler=<<tv-story-list>> $subfilter=\"+[insertbefore<actionTiddler>,<currentTiddler>]\"/>\n\t<%if [<tv-history-list>get[current-tiddler]match[]] [<tv-history-list>!has[current-tiddler]] +[limit[1]] %>\n\t\t<$action-setfield $tiddler=<<tv-history-list>> current-tiddler=<<actionTiddler>>/>\n\t<% endif %>\n<% else %>\n\t<$action-deletetiddler $tiddler=\"$:/state/drag-handled\"/><$action-deletetiddler $tiddler=\"$:/state/dragging\"/>\n<% endif %>\n<$vars fromStoryList={{$:/state/dragging!!starting-from-story}} fromHistoryList={{$:/state/dragging!!from-history}}>\n\t<%if [<fromStoryList>!match<tv-story-list>] %>\n\t\t<%if [{$:/state/dragging!!is-focused-tiddler}match[TRUE]] %>\n\t\t\t<$action-setfield $tiddler=<<fromHistoryList>> current-tiddler={{{ [list<fromStoryList>zth{$:/state/dragging!!starting-from-index}] }}}/>\n\t\t<% endif %>\n\t<% endif %>\n</$vars>\n\\end\n\\procedure tiddlyflex-top-drop-actions()\n<$action-setfield $tiddler=\"$:/state/drag-handled\" text=\"yes\"/>\n<$vars prefix=\"[[\" suffix=\"]]\">\n\t<%if [<actionTiddler>removeprefix<prefix>removesuffix<suffix>] %>\n\t\t<$set name=\"actionTiddler\" value={{{ [<actionTiddler>removeprefix<prefix>removesuffix<suffix>] }}}>\n\t\t\t<<tiddlyflex-top-drop-actions-inner>>\n\t\t</$set>\n\t<% else %>\n\t\t<<tiddlyflex-top-drop-actions-inner>>\n\t<% endif %>\n</$vars>\n\\end\n\\procedure tiddlyflex-bottom-drop-actions-inner()\n<$set name=\"nextTiddler\" value={{{ [list<tv-story-list>after<currentTiddler>] }}}>\n\t<%if [<nextTiddler>match[]] %>\n\t\t<$action-listops $tiddler=<<tv-story-list>> $subfilter=\"[<actionTiddler>]\"/>\n\t\t<$list filter=\"[<tv-history-list>get[current-tiddler]match[]] [<tv-history-list>!has[current-tiddler]] +[limit[1]]\" variable=\"ignore\">\n\t\t\t<$action-setfield $tiddler=<<tv-history-list>> current-tiddler=<<actionTiddler>>/>\n\t\t</$list>\n\t<% else %>\n\t\t<%if [<actionTiddler>!match<nextTiddler>] %>\n\t\t\t<$action-listops $tiddler=<<tv-story-list>> $subfilter=\"+[insertbefore<actionTiddler>,<nextTiddler>]\"/>\n\t\t\t<$list filter=\"[<tv-history-list>get[current-tiddler]match[]] [<tv-history-list>!has[current-tiddler]] +[limit[1]]\" variable=\"ignore\">\n\t\t\t\t<$action-setfield $tiddler=<<tv-history-list>> current-tiddler=<<actionTiddler>>/>\n\t\t\t</$list>\n\t\t<% else %>\n\t\t\t<$action-deletetiddler $tiddler=\"$:/state/drag-handled\"/><$action-deletetiddler $tiddler=\"$:/state/dragging\"/>\n\t\t<% endif %>\n\t<% endif %>\n</$set>\n<$vars fromStoryList={{$:/state/dragging!!starting-from-story}} fromHistoryList={{$:/state/dragging!!from-history}}>\n\t<%if [<fromStoryList>!match<tv-story-list>] %>\n\t\t<%if [{$:/state/dragging!!is-focused-tiddler}match[TRUE]] %>\n\t\t\t<$action-setfield $tiddler=<<fromHistoryList>> current-tiddler={{{ [list<fromStoryList>zth{$:/state/dragging!!starting-from-index}] }}}/>\n\t\t<% endif %>\n\t<% endif %>\n</$vars>\n\\end\n\\procedure tiddlyflex-bottom-drop-actions()\n<$action-setfield $tiddler=\"$:/state/drag-handled\" text=\"yes\"/>\n<$vars prefix=\"[[\" suffix=\"]]\">\n\t<%if [<actionTiddler>removeprefix<prefix>removesuffix<suffix>] %>\n\t\t<$set name=\"actionTiddler\" value={{{ [<actionTiddler>removeprefix<prefix>removesuffix<suffix>] }}}>\n\t\t\t<<tiddlyflex-bottom-drop-actions-inner>>\n\t\t</$set>\n\t<% else %>\n\t\t<<tiddlyflex-bottom-drop-actions-inner>>\n\t<% endif %>\n</$vars>\n\\end\n\\procedure tiddlyflex-drag-start-actions()\n<$let nth={{{ [list<tv-story-list>allbefore<currentTiddler>count[]] }}} storyListLength={{{ [list<tv-story-list>count[]subtract[1]] }}}>\n\t<%if [<nth>match<storyListLength>] %>\n\t\t<$action-setfield $tiddler=\"$:/state/dragging\" starting-before-tiddler={{{ [list<tv-story-list>before<currentTiddler>] }}}/>\n\t<% endif %>\n\t<$action-setfield $tiddler=\"$:/state/dragging\"\n\t\tdrag-count=\"0\"\n\t\tnth=<<nth>>\n\t\theight=<<tv-selectednode-height>>\n\t\twidth=<<tv-selectednode-width>>\n\t\tstart-river=<<tiddlyFlexColumn>>\n\t\tstarting-next-tiddler={{{ [list<tv-story-list>after<currentTiddler>] }}}\n\t\tstarting-from-index={{{ [list<tv-story-list>allbefore<currentTiddler>count[]] }}}\n\t\tstarting-from-story=<<tv-story-list>>\n\t/>\n\t<$action-setfield $tiddler=\"$:/state/dragging\"\n\t\tdrag-tiddler=<<currentTiddler>>\n\t\tnext-tiddler={{{ [list<tv-story-list>after<currentTiddler>] }}}\n\t\tfrom-index={{{ [list<tv-story-list>allbefore<currentTiddler>count[]] }}}\n\t\tfrom-story=<<tv-story-list>>\n\t\tfrom-history=<<tv-history-list>>\n\t\tis-focused-tiddler={{{ [<tv-history-list>get[current-tiddler]match<currentTiddler>then[TRUE]] ~[[FALSE]] }}}\n\t\ttarget={{{ [list<tv-story-list>after<currentTiddler>] }}}\n\t/>\n\t<$action-setfield $tiddler=\"$:/state/dragging\" text=\"yes\"/>\n\t<%if [<modifier>!match[ctrl]] %>\n\t\t<$action-listops $tiddler=<<tv-story-list>> $subfilter=\"-[<currentTiddler>]\"/>\n\t<% else %>\n\t\t<$action-setfield $tiddler=\"$:/state/dragging\" copying=\"yes\"/>\n\t<% endif %>\n</$let>\n\\end\n\\procedure tiddlyflex-drag-end-actions()\n<%if [[$:/state/drag-handled]is[missing]] %>\n\t<$let fromStoryList={{$:/state/dragging!!starting-from-story}} fromIndex={{$:/state/dragging!!starting-from-index}} listBeforeTiddler={{{ [list<fromStoryList>zth<fromIndex>] }}} prefix=\"[[\" suffix=\"]]\" actionTiddler={{{ [<actionTiddler>removeprefix<prefix>removesuffix<suffix>] :else[<actionTiddler>] }}}>\n\t\t<%if [<listBeforeTiddler>!is[blank]] %>\n\t\t\t<$action-listops $tiddler=<<fromStoryList>> $subfilter=\"+[insertbefore<actionTiddler>,<listBeforeTiddler>]\"/>\n\t\t<% else %>\n\t\t\t<$action-listops $tiddler=<<fromStoryList>> $subfilter=\"[<actionTiddler>]\"/>\n\t\t<% endif %>\n\t\t<$action-deletetiddler $tiddler=\"$:/state/drag-handled\"/>\n\t\t<$action-deletetiddler $tiddler=\"$:/state/dragging\"/>\n\t</$let>\n<% else %>\n\t<$action-deletetiddler $tiddler=\"$:/state/drag-handled\"/>\n<% endif %>\n\\end\n\\procedure tiddlyflex-story-droppable-drop-actions()\n<$action-setfield $tiddler=\"$:/state/drag-handled\" text=\"yes\"/>\n<$vars prefix=\"[[\" suffix=\"]]\">\n\t<%if [<actionTiddler>removeprefix<prefix>removesuffix<suffix>] %>\n\t\t<$set name=\"actionTiddler\" value={{{ [<actionTiddler>removeprefix<prefix>removesuffix<suffix>] }}}>\n\t\t\t<%if [{$:/state/tiddlyflex/story-river/filter}match[yes]] +[subfilter<tdff.tiddlyflex-story-river-filter>then[no]else[yes]!match[no]] %>\n\t\t\t\t<$set name=\"firstStoryTiddler\" value={{{ [list<tv-story-list>nth[1]] }}}>\n\t\t\t\t\t<$action-listops $tiddler=<<tv-story-list>> $subfilter=\"+[insertbefore<actionTiddler>,<firstStoryTiddler>]\"/>\n\t\t\t\t</$set>\n\t\t\t<% elseif [{$:/state/tiddlyflex/story-river/filter}match[yes]] %>\n\t\t\t\t<$let lastShownTiddler={{{ [subfilter<tdff.tiddlyflex-story-river-filter>] +[last[]] }}} insertBeforeTiddler={{{ [list<tv-story-list>after<lastShownTiddler>] }}}>\n\t\t\t\t\t<$action-listops $tiddler=<<tv-story-list>> $subfilter=\"+[insertbefore<actionTiddler>,<insertBeforeTiddler>]\"/>\n\t\t\t\t</$let>\n\t\t\t<% else %>\n\t\t\t\t<$action-listops $tiddler=<<tv-story-list>> $subfilter=\"[<actionTiddler>]\"/>\n\t\t\t<% endif %>\n\t\t</$set>\n\t<% else %>\n\t\t<%if [{$:/state/tiddlyflex/story-river/filter}match[yes]subfilter<tdff.tiddlyflex-story-river-filter>then[no]else[yes]!match[no]] %>\n\t\t\t<$set name=\"firstStoryTiddler\" value={{{ [list<tv-story-list>nth[1]] }}}>\n\t\t\t\t<$action-listops $tiddler=<<tv-story-list>> $subfilter=\"+[insertbefore<actionTiddler>,<firstStoryTiddler>]\"/>\n\t\t\t</$set>\n\t\t<% elseif [{$:/state/tiddlyflex/story-river/filter}match[yes]] %>\n\t\t\t<$let lastShownTiddler={{{ [subfilter<tdff.tiddlyflex-story-river-filter>] +[last[]] }}} insertBeforeTiddler={{{ [list<tv-story-list>after<lastShownTiddler>] }}}>\n\t\t\t\t<$action-listops $tiddler=<<tv-story-list>> $subfilter=\"+[insertbefore<actionTiddler>,<insertBeforeTiddler>]\"/>\n\t\t\t</$let>\n\t\t<% else %>\n\t\t\t<$action-listops $tiddler=<<tv-story-list>> $subfilter=\"[<actionTiddler>]\"/>\n\t\t<% endif %>\n\t<% endif %>\n</$vars>\n\\end\n\\procedure tiddlyflex-story-droppable-dragenter-actions()\n<%if [[$:/state/dragging]get[dragenter-count]] %>\n\t<$action-setfield $tiddler=\"$:/state/dragging\" target=\"\" starting-next-tiddler=\"\" copying=\"\"/>\n<% else %>\n\t<$action-setfield $tiddler=\"$:/state/dragging\" dragenter-count=\"1\"/>\n<% endif %>\n\\end"},"$:/plugins/BTC/TiddlyFlex/globals/interaction":{"title":"$:/plugins/BTC/TiddlyFlex/globals/interaction","tags":"$:/tags/Global","text":"\\procedure tiddlyflex-tm-message-navigator(actions)\n<$navigator story=<<tv-story-list>> history=<<tv-history-list>> openLinkFromInsideRiver={{$:/config/Navigation/openLinkFromInsideRiver}} openLinkFromOutsideRiver={{$:/config/Navigation/openLinkFromInsideRiver}} relinkOnRename={{$:/config/RelinkOnRename}}>\n\t<<actions>>\n</$navigator>\n\\end\n\\procedure tiddlyflex-tm-message-navigator-outside(actions)\n<$navigator story={{{ [subfilter<tdff.tiddlyflex-enlist-columns>] :intersection[{$:/columns!!current-column}] ~[subfilter<tdff.tiddlyflex-current-column-filtered>] :map[addprefix[$:/StoryList-]] }}} history={{{ [subfilter<tdff.tiddlyflex-enlist-columns>] :intersection[{$:/columns!!current-column}] ~[subfilter<tdff.tiddlyflex-current-column-filtered>] :map[addprefix[$:/HistoryList-]] }}} openLinkFromInsideRiver={{$:/config/Navigation/openLinkFromInsideRiver}} openLinkFromOutsideRiver={{$:/config/Navigation/openLinkFromInsideRiver}} relinkOnRename={{$:/config/RelinkOnRename}}>\n\t<<actions>>\n</$navigator>\n\\end\n\\procedure tiddlyflex-tm-message-actions(message,exclude)\n<$set name=\"storyTiddler\" value=<<event-navigateFromTitle>>>\n\t<$action-sendmessage\n\t\t$message=<<event-type>>\n\t\t$param={{{ [<event-param>!is[blank]!match[]] ~[<event-type>!match[tm-new-tiddler]then<event-tiddlerTitle>] }}}\n\t\t$navigateTo=<<event-navigateTo>>\n\t\t$navigateFromTitle=<<event-navigateFromTitle>>\n\t\t$navigateFromClientRect=<<event-navigateFromClientRect>>\n\t\t$navigateFromClientTop=<<event-navigateFromClientTop>>\n\t\t$navigateFromClientLeft=<<event-navigateFromClientLeft>>\n\t\t$navigateFromClientWidth=<<event-navigateFromClientWidth>>\n\t\t$navigateFromClientRight=<<event-navigateFromClientRight>>\n\t\t$navigateFromClientBottom=<<event-navigateFromClientBottom>>\n\t\t$navigateFromClientHeight=<<event-navigateFromClientHeight>>\n\t\t$navigateSuppressNavigation=<<event-navigateSuppressNavigation>>\n\t\t$names=\"[<list-event-paramObject>enlist-input[]]\"\n\t\t$values=\"[<list-event-paramObject>enlist-input[]] :map:flat[addprefix[event-paramObject-]getvariable[]]\"/>\n</$set>\n\\end\n\n\\procedure tiddlyflex-tm-cancel-tiddler-actions()\n\\procedure actions() <<tiddlyflex-tm-message-actions tm-cancel-tiddler \"param\">>\n<%if [tdff.tiddlyflex-fullscreen[]!is[blank]] %>\n\t<$vars from={{{ [<event-param>!is[blank]] ~[<event-tiddlerTitle>] }}} to={{{ [<event-param>!is[blank]get[draft.of]] ~[<event-tiddlerTitle>get[draft.of]]  }}}>\n\t\t<$action-sendmessage $message=\"tm-rename-tiddler\" from={{{ [[$:/state/tiddlyflex/story-river/fullscreen/]addsuffix<from>] }}} to={{{ [[$:/state/tiddlyflex/story-river/fullscreen/]addsuffix<to>] }}}/>\n\t</$vars>\n<% endif %>\n<$macrocall $name=\"tiddlyflex-tm-message-navigator\" actions=<<actions>>/>\n\\end\n\\procedure tiddlyflex-tm-close-all-tiddlers-actions()\n\\procedure actions() <<tiddlyflex-tm-message-actions tm-close-all-tiddlers \"param\">>\n<$macrocall $name=\"tiddlyflex-tm-message-navigator\" actions=<<actions>>/>\n\\end\n\\procedure tiddlyflex-tm-close-other-tiddlers-actions()\n\\procedure actions() <<tiddlyflex-tm-message-actions tm-close-other-tiddlers \"param\">>\n<$macrocall $name=\"tiddlyflex-tm-message-navigator\" actions=<<actions>>/>\n\\end\n\\procedure tiddlyflex-tm-close-tiddler-actions()\n\\procedure actions() <<tiddlyflex-tm-message-actions tm-close-tiddler \"param\">>\n<%if [tdff.tiddlyflex-fullscreen[]!is[blank]] %>\n\t<$action-deletetiddler $tiddler={{{ [<event-param>!is[blank]addprefix[$:/state/tiddlyflex/story-river/fullscreen/]] ~[<event-tiddlerTitle>addprefix[$:/state/tiddlyflex/story-river/fullscreen/]] }}}/>\n<% endif %>\n<$macrocall $name=\"tiddlyflex-tm-message-navigator\" actions=<<actions>>/>\n\\end\n\\procedure tiddlyflex-tm-delete-tiddler-actions()\n\\procedure actions() <<tiddlyflex-tm-message-actions tm-delete-tiddler \"param\">>\n<%if [tdff.tiddlyflex-fullscreen[]!is[blank]] %>\n\t<$action-deletetiddler $filter=\"[all[tiddlers]prefix[$:/state/tiddlyflex/story-river/fullscreen/]]\"/>\n<% endif %>\n<$macrocall $name=\"tiddlyflex-tm-message-navigator\" actions=<<actions>>/>\n\\end\n\\procedure tiddlyflex-tm-edit-tiddler-actions()\n\\procedure actions() <<tiddlyflex-tm-message-actions tm-edit-tiddler \"param\">>\n<%if [tdff.tiddlyflex-fullscreen[]!is[blank]] %>\n\t<$vars from={{{ [<event-param>!is[blank]] ~[<event-tiddlerTitle>] }}} to={{{ [<event-param>!is[blank]addprefix[Draft of ']addsuffix[']] ~[<event-tiddlerTitle>addprefix[Draft of ']addsuffix[']]  }}}>\n\t\t<$action-sendmessage $message=\"tm-rename-tiddler\" from={{{ [[$:/state/tiddlyflex/story-river/fullscreen/]addsuffix<from>] }}} to={{{ [[$:/state/tiddlyflex/story-river/fullscreen/]addsuffix<to>] }}}/>\n\t</$vars>\n<% endif %>\n<$macrocall $name=\"tiddlyflex-tm-message-navigator\" actions=<<actions>>/>\n\\end\n\\procedure tiddlyflex-tm-fold-all-tiddlers-actions()\n\\procedure actions() <<tiddlyflex-tm-message-actions tm-fold-all-tiddlers \"param\">>\n<$macrocall $name=\"tiddlyflex-tm-message-navigator\" actions=<<actions>>/>\n\\end\n\\procedure tiddlyflex-tm-fold-other-tiddlers-actions()\n\\procedure actions() <<tiddlyflex-tm-message-actions tm-fold-other-tiddlers \"param\">>\n<$macrocall $name=\"tiddlyflex-tm-message-navigator\" actions=<<actions>>/>\n\\end\n\\procedure tiddlyflex-tm-fold-tiddler-actions()\n\\procedure actions() <<tiddlyflex-tm-message-actions tm-fold-tiddler \"param\">>\n<$macrocall $name=\"tiddlyflex-tm-message-navigator\" actions=<<actions>>/>\n\\end\n\\procedure tiddlyflex-tm-home-actions()\n\\procedure actions() <$action-log/>\n<$macrocall $name=\"tiddlyflex-tm-message-navigator\" actions=<<actions>>/>\n\\end\n\\procedure tiddlyflex-tm-navigate-actions()\n<%if [tdff.tiddlyflex-fullscreen[]!is[blank]] %>\n\t<$action-deletetiddler $filter=\"[all[tiddlers]prefix[$:/state/tiddlyflex/story-river/fullscreen/]]\"/>\n<% endif %>\n<<tiddlyflex-navigate-story-river-actions>>\n\\end\n\\procedure tiddlyflex-tm-import-tiddlers-actions()\n\\procedure actions() <<tiddlyflex-tm-message-actions tm-import-tiddlers \"param\">>\n<$macrocall $name=\"tiddlyflex-tm-message-navigator\" actions=<<actions>>/>\n\\end\n\\procedure tiddlyflex-tm-new-tiddler-actions()\n\\procedure actions() <<tiddlyflex-tm-message-actions tm-new-tiddler \"tiddlerTitle type param\">>\n<%if [tdff.tiddlyflex-fullscreen[]!is[blank]] %>\n\t<$action-deletetiddler $filter=\"[all[tiddlers]prefix[$:/state/tiddlyflex/story-river/fullscreen/]]\"/>\n<% endif %>\n<$macrocall $name=\"tiddlyflex-tm-message-navigator\" actions=<<actions>>/>\n\\end\n\\procedure tiddlyflex-tm-perform-import-actions()\n\\procedure actions() <<tiddlyflex-tm-message-actions tm-perform-import \"param\">>\n<$macrocall $name=\"tiddlyflex-tm-message-navigator\" actions=<<actions>>/>\n\\end\n\\procedure tiddlyflex-tm-save-tiddler-actions()\n\\procedure actions() <<tiddlyflex-tm-message-actions tm-save-tiddler \"param\">>\n<%if [tdff.tiddlyflex-fullscreen[]!is[blank]] %>\n\t<$vars from={{{ [<event-param>!is[blank]] ~[<event-tiddlerTitle>] }}} to={{{ [<event-param>!is[blank]get[draft.title]] ~[<event-tiddlerTitle>get[draft.title]]  }}}>\n\t\t<$action-sendmessage $message=\"tm-rename-tiddler\" from={{{ [[$:/state/tiddlyflex/story-river/fullscreen/]addsuffix<from>] }}} to={{{ [[$:/state/tiddlyflex/story-river/fullscreen/]addsuffix<to>] }}}/>\n\t</$vars>\t\n<% endif %>\n<$macrocall $name=\"tiddlyflex-tm-message-navigator\" actions=<<actions>>/>\n\\end\n\\procedure tiddlyflex-tm-unfold-all-tiddlers-actions()\n\\procedure actions() <<tiddlyflex-tm-message-actions tm-unfold-all-tiddlers \"param\">>\n<$macrocall $name=\"tiddlyflex-tm-message-navigator\" actions=<<actions>>/>\n\\end\n\n\\procedure tiddlyflex-tm-cancel-tiddler-actions-outside()\n\\procedure actions() <<tiddlyflex-tm-message-actions tm-cancel-tiddler \"param\">>\n<$macrocall $name=\"tiddlyflex-tm-message-navigator-outside\" actions=<<actions>>/>\n\\end\n\\procedure tiddlyflex-tm-close-all-tiddlers-actions-outside()\n\\procedure actions() <<tiddlyflex-tm-message-actions tm-close-all-tiddlers \"param\">>\n<$macrocall $name=\"tiddlyflex-tm-message-navigator-outside\" actions=<<actions>>/>\n\\end\n\\procedure tiddlyflex-tm-close-other-tiddlers-actions-outside()\n\\procedure actions() <<tiddlyflex-tm-message-actions tm-close-other-tiddlers \"param\">>\n<$macrocall $name=\"tiddlyflex-tm-message-navigator-outside\" actions=<<actions>>/>\n\\end\n\\procedure tiddlyflex-tm-close-tiddler-actions-outside()\n\\procedure actions() <<tiddlyflex-tm-message-actions tm-close-tiddler \"param\">>\n<$macrocall $name=\"tiddlyflex-tm-message-navigator-outside\" actions=<<actions>>/>\n\\end\n\\procedure tiddlyflex-tm-delete-tiddler-actions-outside()\n\\procedure actions() <<tiddlyflex-tm-message-actions tm-delete-tiddler \"param\">>\n<$macrocall $name=\"tiddlyflex-tm-message-navigator-outside\" actions=<<actions>>/>\n\\end\n\\procedure tiddlyflex-tm-edit-tiddler-actions-outside()\n\\procedure actions() <<tiddlyflex-tm-message-actions tm-edit-tiddler \"param\">>\n<$macrocall $name=\"tiddlyflex-tm-message-navigator-outside\" actions=<<actions>>/>\n\\end\n\\procedure tiddlyflex-tm-fold-all-tiddlers-actions-outside()\n\\procedure actions() <<tiddlyflex-tm-message-actions tm-fold-all-tiddlers \"param\">>\n<$macrocall $name=\"tiddlyflex-tm-message-navigator-outside\" actions=<<actions>>/>\n\\end\n\\procedure tiddlyflex-tm-fold-other-tiddlers-actions-outside()\n\\procedure actions() <<tiddlyflex-tm-message-actions tm-fold-other-tiddlers \"param\">>\n<$macrocall $name=\"tiddlyflex-tm-message-navigator-outside\" actions=<<actions>>/>\n\\end\n\\procedure tiddlyflex-tm-fold-tiddler-actions-outside()\n\\procedure actions() <<tiddlyflex-tm-message-actions tm-fold-tiddler \"param\">>\n<$macrocall $name=\"tiddlyflex-tm-message-navigator-outside\" actions=<<actions>>/>\n\\end\n\\procedure tiddlyflex-tm-home-actions-outside()\n\\procedure actions() <$action-log/>\n<$macrocall $name=\"tiddlyflex-tm-message-navigator-outside\" actions=<<actions>>/>\n\\end\n\\procedure tiddlyflex-tm-navigate-actions-outside()\n<$set name=\"tiddlyFlexColumn\" value={{{ [subfilter<tdff.tiddlyflex-enlist-columns>] :intersection[{$:/columns!!current-column}] ~[subfilter<tdff.tiddlyflex-current-column-filtered>] }}}>\n\t<<tiddlyflex-navigate-story-river-actions>>\n</$set>\n\\end\n\\procedure tiddlyflex-tm-import-tiddlers-actions-outside()\n\\procedure actions() <<tiddlyflex-tm-message-actions tm-import-tiddlers \"param\">>\n<$macrocall $name=\"tiddlyflex-tm-message-navigator-outside\" actions=<<actions>>/>\n\\end\n\\procedure tiddlyflex-tm-new-tiddler-actions-outside()\n\\procedure actions() <<tiddlyflex-tm-message-actions tm-new-tiddler \"tiddlerTitle type param\">>\n<$macrocall $name=\"tiddlyflex-tm-message-navigator-outside\" actions=<<actions>>/>\n\\end\n\\procedure tiddlyflex-tm-perform-import-actions-outside()\n\\procedure actions() <<tiddlyflex-tm-message-actions tm-perform-import \"param\">>\n<$macrocall $name=\"tiddlyflex-tm-message-navigator-outside\" actions=<<actions>>/>\n\\end\n\\procedure tiddlyflex-tm-save-tiddler-actions-outside()\n\\procedure actions() <<tiddlyflex-tm-message-actions tm-save-tiddler \"param\">>\n<$macrocall $name=\"tiddlyflex-tm-message-navigator-outside\" actions=<<actions>>/>\n\\end\n\\procedure tiddlyflex-tm-unfold-all-tiddlers-actions-outside()\n\\procedure actions() <<tiddlyflex-tm-message-actions tm-unfold-all-tiddlers \"param\">>\n<$macrocall $name=\"tiddlyflex-tm-message-navigator-outside\" actions=<<actions>>/>\n\\end"},"$:/plugins/BTC/TiddlyFlex/globals/ensemble":{"title":"$:/plugins/BTC/TiddlyFlex/globals/ensemble","tags":"$:/tags/Global","text":"\\function tdff.tiddlyflex-ensemble-tiddler-not-contains-value-in-field() [[$(ensembleTiddler)$]substitute[]addprefix[$(tiddlyFlexPrefix)$]substitute[]addprefix[$(tiddlyFlexPrefix)$]substitute[]addsuffix[$(tiddlyFlexSuffix)$]substitute[]addsuffix[!contains:]] ${$(field)$}$ +[substitute[]] +[join[]] +[addsuffix[$(tiddlyFlexPrefix)$]substitute[]addsuffix[$(value)$]substitute[]addsuffix[$(tiddlyFlexSuffix)$]substitute[]addsuffix[$(tiddlyFlexSuffix)$]substitute[]]\n\n\\define tiddlyflex-get-ensemble-overwrite-message()\nThe ensemble \"$(ensembleTitle)$\" already exists.\n\nDo you want to overwrite it?\n\\end\n\n\\procedure tiddlyflex-set-ensemble-configuration(tiddler,field:\"text\",value)\n\\whitespace trim\n<$action-setfield $tiddler=<<tiddler>> $field=<<field>> $value=<<value>>/>\n\\end\n\n\\procedure tiddlyflex-save-ensemble-actions-inner(ensembleTitle)\n\\whitespace trim\n<$set name=\"ensembleTiddler\" value={{{ [[$:/Ensemble/]addsuffix<ensembleTitle>] }}}>\n\t<$macrocall $name=\"tiddlyflex-set-ensemble-configuration\" tiddler=<<ensembleTiddler>> field=\"layout\" value={{$:/layout}}/>\n\t<$macrocall $name=\"tiddlyflex-set-ensemble-configuration\" tiddler=<<ensembleTiddler>> field=\"view\" value={{$:/view}}/>\n\t<$macrocall $name=\"tiddlyflex-set-ensemble-configuration\" tiddler=<<ensembleTiddler>> field=\"horizontal\" value={{$:/config/tiddlyflex/story-river/horizontal}}/>\n\t<$macrocall $name=\"tiddlyflex-set-ensemble-configuration\" tiddler=<<ensembleTiddler>> field=\"sidebar-state\" value={{$:/state/sidebar}}/>\n\t<$macrocall $name=\"tiddlyflex-set-ensemble-configuration\" tiddler=<<ensembleTiddler>> field=\"columns\" value={{$:/columns!!list}}/>\n\t<$macrocall $name=\"tiddlyflex-set-ensemble-configuration\" tiddler=<<ensembleTiddler>> field=\"current-column\" value={{$:/columns!!current-column}}/>\n\t<$macrocall $name=\"tiddlyflex-set-ensemble-configuration\" tiddler=<<ensembleTiddler>> field=\"sidebar-width\" value={{$:/config/tiddlyflex/sidebar/width}}/>\n\t<$macrocall $name=\"tiddlyflex-set-ensemble-configuration\" tiddler=<<ensembleTiddler>> field=\"drag-drop-animation-duration\" value={{$:/config/tiddlyflex/dragndrop/AnimationDuration}}/>\n\t<$macrocall $name=\"tiddlyflex-set-ensemble-configuration\" tiddler=<<ensembleTiddler>> field=\"edit-missing-tiddlers\" value={{$:/config/tiddlyflex/navigation/edit-missing-tiddlers}}/>\n\t<$macrocall $name=\"tiddlyflex-set-ensemble-configuration\" tiddler=<<ensembleTiddler>> field=\"sidebar-resizer\" value={{$:/config/tiddlyflex/sidebar/resizer}}/>\n\t<$macrocall $name=\"tiddlyflex-set-ensemble-configuration\" tiddler=<<ensembleTiddler>> field=\"story-river-min-width\" value={{$:/config/tiddlyflex/story-river/min-width}}/>\n\t<$macrocall $name=\"tiddlyflex-set-ensemble-configuration\" tiddler=<<ensembleTiddler>> field=\"box-shadow-spread\" value={{$:/config/tiddlyflex/story-river/tiddler/box-shadow-spread}}/>\n\t<$macrocall $name=\"tiddlyflex-set-ensemble-configuration\" tiddler=<<ensembleTiddler>> field=\"tiddler-controls-breakpoint\" value={{$:/config/tiddlyflex/story-river/tiddler/controls-breakpoint}}/>\n\t<$macrocall $name=\"tiddlyflex-set-ensemble-configuration\" tiddler=<<ensembleTiddler>> field=\"tiddler-controls-breakpoint-sidebar\" value={{$:/config/tiddlyflex/story-river/tiddler/controls-breakpoint-sidebar}}/>\n\t<$macrocall $name=\"tiddlyflex-set-ensemble-configuration\" tiddler=<<ensembleTiddler>> field=\"follow-current-column\" value={{{ [{$:/config/tiddlyflex/story-river/follow-current-column}match[no]] ~yes }}}/>\n\t<$macrocall $name=\"tiddlyflex-set-ensemble-configuration\" tiddler=<<ensembleTiddler>> field=\"show-edit-preview-per-tiddler\" value={{$:/config/ShowEditPreview/PerTiddler}}/>\n\t<$macrocall $name=\"tiddlyflex-set-ensemble-configuration\" tiddler=<<ensembleTiddler>> field=\"show-controls-hover\" value={{$:/config/tiddlyflex/story-river/tiddler/show-controls-hover}}/>\n\t<$macrocall $name=\"tiddlyflex-set-ensemble-configuration\" tiddler=<<ensembleTiddler>> field=\"animation-curve\" value={{$:/config/tiddlyflex/story-river/animation-curve}}/>\n\t<$macrocall $name=\"tiddlyflex-set-ensemble-configuration\" tiddler=<<ensembleTiddler>> field=\"story-river-padding\" value={{{ [[$:/config/tiddlyflex/story-river/padding]get[text]] ~[[]] }}}/>\n\t<$macrocall $name=\"tiddlyflex-set-ensemble-configuration\" tiddler=<<ensembleTiddler>> field=\"tiddler-margin-bottom\" value={{{ [[$:/config/tiddlyflex/story-river/tiddler/margin-bottom]get[text]] ~[[]] }}}/>\n\t<$macrocall $name=\"tiddlyflex-set-ensemble-configuration\" tiddler=<<ensembleTiddler>> field=\"palette\" value={{$:/palette}}/>\n\t<$macrocall $name=\"tiddlyflex-set-ensemble-configuration\" tiddler=<<ensembleTiddler>> field=\"show-top-right-bar\" value={{$:/config/tiddlyflex/show-top-right-bar}}/>\n\t<$list filter=\"[list[$:/columns]]\" variable=\"column\">\n\t\t<$macrocall $name=\"tiddlyflex-set-ensemble-configuration\" tiddler=<<ensembleTiddler>> field={{{ [[story-list-]addsuffix<column>] }}} value={{{ [[$:/StoryList-]addsuffix<column>get[list]] ~[[]] }}}/>\n\t</$list>\n\t<$list filter=\"[all[shadows+tiddlers]tag[$:/tags/TopToolbar]!is[draft]]\" variable=\"topToolbarTiddler\">\n\t\t<$action-listops $tiddler=<<ensembleTiddler>> $field=\"top-toolbar-tiddler\" $subfilter=\"+[<topToolbarTiddler>]\"/>\n\t</$list>\n\t<$list filter=\"[all[shadows+tiddlers]tag[$:/tags/BottomToolbar]!is[draft]]\" variable=\"bottomToolbarTiddler\">\n\t\t<$action-listops $tiddler=<<ensembleTiddler>> $field=\"bottom-toolbar-tiddler\" $subfilter=\"+[<bottomToolbarTiddler>]\"/>\n\t</$list>\n\t<$list filter=\"[all[shadows+tiddlers]tag[$:/tags/LeftToolbar]!is[draft]]\" variable=\"leftToolbarTiddler\">\n\t\t<$action-listops $tiddler=<<ensembleTiddler>> $field=\"left-toolbar-tiddler\" $subfilter=\"+[<leftToolbarTiddler>]\"/>\n\t</$list>\n\t<$list filter=\"[all[shadows+tiddlers]tags[]prefix[$:/tags/AboveStoryHeader-]]\" variable=\"aboveStoryHeaderTag\">\n\t\t<$set name=\"index\" value={{{ [<aboveStoryHeaderTag>removeprefix[$:/tags/AboveStoryHeader-]] }}}>\n\t\t\t<$list filter=\"[all[shadows+tiddlers]tag<aboveStoryHeaderTag>!is[draft]]\" variable=\"aboveStoryHeaderTiddler\">\n\t\t\t\t<$vars field={{{ [[above-story-header-tiddler-]addsuffix<index>] }}} value=<<aboveStoryHeaderTiddler>>>\n\t\t\t\t\t<$action-listops $tiddler=<<ensembleTiddler>> $field=<<field>> $subfilter=\"+[<value>]\"/>\n\t\t\t\t</$vars>\n\t\t\t</$list>\n\t\t</$set>\n\t</$list>\n\t<$list filter=\"[all[shadows+tiddlers]tags[]prefix[$:/tags/BelowStoryFooter-]]\" variable=\"belowStoryFooterTag\">\n\t\t<$set name=\"index\" value={{{ [<belowStoryFooterTag>removeprefix[$:/tags/BelowStoryFooter-]] }}}>\n\t\t\t<$list filter=\"[all[shadows+tiddlers]tag<belowStoryFooterTag>!is[draft]]\" variable=\"belowStoryFooterTiddler\">\n\t\t\t\t<$vars field={{{ [[below-story-footer-tiddler-]addsuffix<index>] }}} value=<<belowStoryFooterTiddler>>>\n\t\t\t\t\t<$action-listops $tiddler=<<ensembleTiddler>> $field=<<field>> $subfilter=\"+[<value>]\"/>\n\t\t\t\t</$vars>\n\t\t\t</$list>\n\t\t</$set>\n\t</$list>\n\t<$action-sendmessage $message=\"tm-auto-save-wiki\"/>\n</$set>\n\\end\n\n\\procedure tiddlyflex-empty-ensemble-title-message()\n\\whitespace trim\n<$action-sendmessage $message=\"tm-notify\" $param=\"$:/plugins/BTC/tiddlyflex/ui/Notifications/Ensemble/EmptyNotification\"/>\n\\end\n\n\\procedure tiddlyflex-overwrite-ensemble-message()\n\\whitespace trim\n<$action-confirm $message=<<tiddlyflex-get-ensemble-overwrite-message>>>\n\t<$action-deletetiddler $tiddler={{{ [[$:/Ensemble/]addsuffix<ensembleTitle>] }}}/>\n\t<$action-setfield $tiddler={{{ [[$:/Ensemble/]addsuffix<ensembleTitle>] }}} icon=<<icon>>/>\n\t<$macrocall $name=\"tiddlyflex-save-ensemble-actions-inner\" ensembleTitle=<<ensembleTitle>>/>\n</$action-confirm>\n\\end\n\n\\procedure tiddlyflex-save-ensemble-actions(ensembleTitle,icon)\n\\whitespace trim\n<%if [<ensembleTitle>!is[blank]!match[]] %>\n\t<%if [[$:/Ensemble/]addsuffix<ensembleTitle>is[missing]] %>\n\t\t<$action-setfield $tiddler={{{ [[$:/Ensemble/]addsuffix<ensembleTitle>] }}} icon=<<icon>>/>\n\t\t<$macrocall $name=\"tiddlyflex-save-ensemble-actions-inner\" ensembleTitle=<<ensembleTitle>>/>\n\t<% else %>\n\t\t<<tiddlyflex-overwrite-ensemble-message>>\n\t<% endif %>\n<% else %>\n\t<<tiddlyflex-empty-ensemble-title-message>>\n<% endif %>\n\\end\n\n\\procedure tiddlyflex-load-ensemble-actions()\n\\whitespace trim\n<%if [<ensembleTiddler>!is[missing]] %>\n\t<$list filter=\"[all[tiddlers+shadows]prefix[$:/StoryList-]]\" variable=\"storyList\">\n\t\t<$action-deletetiddler $tiddler=<<storyList>>/>\n\t</$list>\n\t<$macrocall $name=\"tiddlyflex-set-ensemble-configuration\" tiddler=\"$:/layout\" value={{{ [<ensembleTiddler>get[layout]] ~$:/plugins/BTC/TiddlyFlex/ui/Layout }}}/>\n\t<$macrocall $name=\"tiddlyflex-set-ensemble-configuration\" tiddler=\"$:/view\" value={{{ [<ensembleTiddler>get[view]] ~tiddlyflex }}}/>\n\t<$macrocall $name=\"tiddlyflex-set-ensemble-configuration\" tiddler=\"$:/state/sidebar\" value={{{ [<ensembleTiddler>get[sidebar-state]] ~yes }}}/>\n\t<$macrocall $name=\"tiddlyflex-set-ensemble-configuration\" tiddler=\"$:/columns\" field=\"list\" value={{{ [<ensembleTiddler>get[columns]] ~1 }}}/>\n\t<$macrocall $name=\"tiddlyflex-set-ensemble-configuration\" tiddler=\"$:/columns\" field=\"current-column\" value={{{ [<ensembleTiddler>get[current-column]] ~1 }}}/>\n\t<$macrocall $name=\"tiddlyflex-set-ensemble-configuration\" tiddler=\"$:/config/tiddlyflex/story-river/horizontal\" value={{{ [<ensembleTiddler>get[horizontal]] ~no }}}/>\n\t<$macrocall $name=\"tiddlyflex-set-ensemble-configuration\" tiddler=\"$:/config/ShowEditPreview/PerTiddler\" value={{{ [<ensembleTiddler>get[show-edit-preview-per-tiddler]] ~yes }}}/>\n\t<$macrocall $name=\"tiddlyflex-set-ensemble-configuration\" tiddler=\"$:/config/tiddlyflex/story-river/tiddler/show-controls-hover\" value={{{ [<ensembleTiddler>get[show-controls-hover]] ~no }}}/>\n\t<$macrocall $name=\"tiddlyflex-set-ensemble-configuration\" tiddler=\"$:/config/tiddlyflex/story-river/animation-curve\" value={{{ [<ensembleTiddler>get[animation-curve]] ~linear }}}/>\n\t<$macrocall $name=\"tiddlyflex-set-ensemble-configuration\" tiddler=\"$:/config/tiddlyflex/story-river/padding\" value={{{ [<ensembleTiddler>get[story-river-padding]] ~42px }}}/>\n\t<$macrocall $name=\"tiddlyflex-set-ensemble-configuration\" tiddler=\"$:/config/tiddlyflex/sidebar/width\" value={{{ [<ensembleTiddler>get[sidebar-width]] ~15% }}}/>\n\t<$macrocall $name=\"tiddlyflex-set-ensemble-configuration\" tiddler=\"$:/config/tiddlyflex/dragndrop/AnimationDuration\" value={{{ [<ensembleTiddler>get[drag-drop-animation-duration]] ~175 }}}/>\n\t<$macrocall $name=\"tiddlyflex-set-ensemble-configuration\" tiddler=\"$:/config/tiddlyflex/navigation/edit-missing-tiddlers\" value={{{ [<ensembleTiddler>get[edit-missing-tiddlers]] ~no }}}/>\n\t<$macrocall $name=\"tiddlyflex-set-ensemble-configuration\" tiddler=\"$:/config/tiddlyflex/sidebar/resizer\" value={{{ [<ensembleTiddler>get[sidebar-resizer]] ~no }}}/>\n\t<$macrocall $name=\"tiddlyflex-set-ensemble-configuration\" tiddler=\"$:/config/tiddlyflex/story-river/min-width\" value={{{ [<ensembleTiddler>get[story-river-min-width]] ~300px }}}/>\n\t<$macrocall $name=\"tiddlyflex-set-ensemble-configuration\" tiddler=\"$:/config/tiddlyflex/story-river/tiddler/box-shadow-spread\" value={{{ [<ensembleTiddler>get[box-shadow-spread]] ~4px }}}/>\n\t<$macrocall $name=\"tiddlyflex-set-ensemble-configuration\" tiddler=\"$:/config/tiddlyflex/story-river/tiddler/controls-breakpoint\" value={{{ [<ensembleTiddler>get[tiddler-controls-breakpoint]] ~4 }}}/>\n\t<$macrocall $name=\"tiddlyflex-set-ensemble-configuration\" tiddler=\"$:/config/tiddlyflex/story-river/tiddler/controls-breakpoint-sidebar\" value={{{ [<ensembleTiddler>get[tiddler-controls-breakpoint-sidebar]] ~3 }}}/>\n\t<$macrocall $name=\"tiddlyflex-set-ensemble-configuration\" tiddler=\"$:/config/tiddlyflex/story-river/tiddler/margin-bottom\" value={{{ [<ensembleTiddler>get[tiddler-margin-bottom]] ~28px }}}/>\n\t<$macrocall $name=\"tiddlyflex-set-ensemble-configuration\" tiddler=\"$:/config/tiddlyflex/story-river/follow-current-column\" value={{{ [<ensembleTiddler>get[follow-current-column]] ~yes }}}/>\n\t<$macrocall $name=\"tiddlyflex-set-ensemble-configuration\" tiddler=\"$:/palette\" value={{{ [<ensembleTiddler>get[palette]] ~$:/palettes/Vanilla }}}/>\n\t<$macrocall $name=\"tiddlyflex-set-ensemble-configuration\" tiddler=\"$:/config/tiddlyflex/show-top-right-bar\" value={{{ [<ensembleTiddler>get[show-top-right-bar]] ~no }}}/>\n\t<$list filter=\"[all[tiddlers+shadows]prefix[$:/Ensemble/]]\" variable=\"ensembleTiddler\">\n\t\t<%if [<ensembleTiddler>has[stylesheets]] %>\n\t\t\t<$set name=\"stylesheetsList\" value={{{ [<ensembleTiddler>get[stylesheets]] }}}>\n\t\t\t\t<$list filter=\"[enlist<stylesheetsList>]\" variable=\"stylesheetTiddler\">\n\t\t\t\t\t<$fieldmangler tiddler=<<stylesheetTiddler>>>\n\t\t\t\t\t\t<$action-sendmessage $message=\"tm-remove-tag\" $param=\"$:/tags/Stylesheet\"/>\n\t\t\t\t\t</$fieldmangler>\n\t\t\t\t</$list>\n\t\t\t</$set>\n\t\t<% endif %>\n\t\t<%if [<ensembleTiddler>has[top-toolbar-tiddler]] %>\n\t\t\t<$set name=\"topbarsList\" value={{{ [<ensembleTiddler>get[top-toolbar-tiddler]] }}}>\n\t\t\t\t<$list filter=\"[enlist<topbarsList>]\" variable=\"topbarTiddler\">\n\t\t\t\t\t<$fieldmangler tiddler=<<topbarTiddler>>>\n\t\t\t\t\t\t<$action-sendmessage $message=\"tm-remove-tag\" $param=\"$:/tags/TopToolbar\"/>\n\t\t\t\t\t</$fieldmangler>\n\t\t\t\t</$list>\n\t\t\t</$set>\n\t\t<% endif %>\n\t\t<%if [<ensembleTiddler>has[left-toolbar-tiddler]] %>\n\t\t\t<$set name=\"leftbarsList\" value={{{ [<ensembleTiddler>get[left-toolbar-tiddler]] }}}>\n\t\t\t\t<$list filter=\"[enlist<leftbarsList>]\" variable=\"leftbarTiddler\">\n\t\t\t\t\t<$fieldmangler tiddler=<<leftbarTiddler>>>\n\t\t\t\t\t\t<$action-sendmessage $message=\"tm-remove-tag\" $param=\"$:/tags/LeftToolbar\"/>\n\t\t\t\t\t</$fieldmangler>\n\t\t\t\t</$list>\n\t\t\t</$set>\n\t\t<% endif %>\n\t\t<%if [<ensembleTiddler>has[bottom-toolbar-tiddler]] %>\n\t\t\t<$set name=\"bottombarsList\" value={{{ [<ensembleTiddler>get[bottom-toolbar-tiddler]] }}}>\n\t\t\t\t<$list filter=\"[enlist<bottombarsList>]\" variable=\"bottombarTiddler\">\n\t\t\t\t\t<$fieldmangler tiddler=<<bottombarTiddler>>>\n\t\t\t\t\t\t<$action-sendmessage $message=\"tm-remove-tag\" $param=\"$:/tags/BottomToolbar\"/>\n\t\t\t\t\t</$fieldmangler>\n\t\t\t\t</$list>\n\t\t\t</$set>\n\t\t<% endif %>\n\t\t<$list filter=\"[<ensembleTiddler>fields[]prefix[above-story-header-tiddler-]]\" variable=\"aboveStoryHeaderField\">\n\t\t\t<$vars aboveStoryHeaderList={{{ [<ensembleTiddler>get<aboveStoryHeaderField>] }}} index={{{ [<aboveStoryHeaderField>removeprefix[above-story-header-tiddler-]] }}}>\n\t\t\t\t<$list filter=\"[enlist<aboveStoryHeaderList>]\" variable=\"aboveStoryHeaderTiddler\">\n\t\t\t\t\t<$fieldmangler tiddler=<<aboveStoryHeaderTiddler>>>\n\t\t\t\t\t\t<$action-sendmessage $message=\"tm-remove-tag\" $param={{{ [[$:/tags/AboveStoryHeader-]addsuffix<index>] }}}/>\n\t\t\t\t\t</$fieldmangler>\n\t\t\t\t</$list>\n\t\t\t</$vars>\n\t\t</$list>\n\t\t<$list filter=\"[<ensembleTiddler>fields[]prefix[below-story-footer-tiddler-]]\" variable=\"belowStoryFooterField\">\n\t\t\t<$vars belowStoryFooterList={{{ [<ensembleTiddler>get<belowStoryFooterField>] }}} index={{{ [<belowStoryFooterField>removeprefix[below-story-footer-tiddler-]] }}}>\n\t\t\t\t<$list filter=\"[enlist<belowStoryFooterList>]\" variable=\"belowStoryFooterTiddler\">\n\t\t\t\t\t<$fieldmangler tiddler=<<belowStoryFooterTiddler>>>\n\t\t\t\t\t\t<$action-sendmessage $message=\"tm-remove-tag\" $param={{{ [[$:/tags/BelowStoryFooter-]addsuffix<index>] }}}/>\n\t\t\t\t\t</$fieldmangler>\n\t\t\t\t</$list>\n\t\t\t</$vars>\n\t\t</$list>\n\t</$list>\n\t<%if [<ensembleTiddler>has[stylesheets]] %>\n\t\t<$set name=\"stylesheetsList\" value={{{ [<ensembleTiddler>get[stylesheets]] }}}>\n\t\t\t<$list filter=\"[enlist<stylesheetsList>]\" variable=\"stylesheetTiddler\">\n\t\t\t\t<$fieldmangler tiddler=<<stylesheetTiddler>>>\n\t\t\t\t\t<$action-sendmessage $message=\"tm-add-tag\" $param=\"$:/tags/Stylesheet\"/>\n\t\t\t\t</$fieldmangler>\n\t\t\t</$list>\n\t\t</$set>\n\t<% endif %>\n\t<%if [<ensembleTiddler>has[top-toolbar-tiddler]] %>\n\t\t<$set name=\"topbarsList\" value={{{ [<ensembleTiddler>get[top-toolbar-tiddler]] }}}>\n\t\t\t<$list filter=\"[enlist<topbarsList>]\" variable=\"topbarTiddler\">\n\t\t\t\t<$fieldmangler tiddler=<<topbarTiddler>>>\n\t\t\t\t\t<$action-sendmessage $message=\"tm-add-tag\" $param=\"$:/tags/TopToolbar\"/>\n\t\t\t\t</$fieldmangler>\n\t\t\t</$list>\n\t\t</$set>\n\t<% endif %>\n\t<%if [<ensembleTiddler>has[bottom-toolbar-tiddler]] %>\n\t\t<$set name=\"bottombarsList\" value={{{ [<ensembleTiddler>get[bottom-toolbar-tiddler]] }}}>\n\t\t\t<$list filter=\"[enlist<bottombarsList>]\" variable=\"bottombarTiddler\">\n\t\t\t\t<$fieldmangler tiddler=<<bottombarTiddler>>>\n\t\t\t\t\t<$action-sendmessage $message=\"tm-add-tag\" $param=\"$:/tags/BottomToolbar\"/>\n\t\t\t\t</$fieldmangler>\n\t\t\t</$list>\n\t\t</$set>\n\t<% endif %>\n\t<%if [<ensembleTiddler>has[left-toolbar-tiddler]] %>\n\t\t<$set name=\"leftbarsList\" value={{{ [<ensembleTiddler>get[left-toolbar-tiddler]] }}}>\n\t\t\t<$list filter=\"[enlist<leftbarsList>]\" variable=\"leftbarTiddler\">\n\t\t\t\t<$fieldmangler tiddler=<<leftbarTiddler>>>\n\t\t\t\t\t<$action-sendmessage $message=\"tm-add-tag\" $param=\"$:/tags/LeftToolbar\"/>\n\t\t\t\t</$fieldmangler>\n\t\t\t</$list>\n\t\t</$set>\n\t<% endif %>\n\t<$list filter=\"[<ensembleTiddler>fields[]prefix[above-story-header-tiddler-]]\" variable=\"aboveStoryHeaderField\">\n\t\t<$let aboveStoryHeaderList={{{ [<ensembleTiddler>get<aboveStoryHeaderField>] }}} index={{{ [<aboveStoryHeaderField>removeprefix[above-story-header-tiddler-]] }}} aboveStoryHeaderTag={{{ [[$:/tags/AboveStoryHeader-]addsuffix<index>] }}}>\n\t\t\t<$list filter=\"[enlist<aboveStoryHeaderList>]\" variable=\"aboveStoryHeaderTiddler\">\n\t\t\t\t<$fieldmangler tiddler=<<aboveStoryHeaderTiddler>>>\n\t\t\t\t\t<$action-sendmessage $message=\"tm-add-tag\" $param=<<aboveStoryHeaderTag>>/>\n\t\t\t\t</$fieldmangler>\n\t\t\t</$list>\n\t\t</$let>\n\t</$list>\n\t<$list filter=\"[<ensembleTiddler>fields[]prefix[below-story-footer-tiddler-]]\" variable=\"belowStoryFooterField\">\n\t\t<$let belowStoryFooterList={{{ [<ensembleTiddler>get<belowStoryFooterField>] }}} index={{{ [<belowStoryFooterField>removeprefix[below-story-footer-tiddler-]] }}} belowStoryFooterTag={{{ [[$:/tags/BelowStoryFooter-]addsuffix<index>] }}}>\n\t\t\t<$list filter=\"[enlist<belowStoryFooterList>]\" variable=\"belowStoryFooterTiddler\">\n\t\t\t\t<$fieldmangler tiddler=<<belowStoryFooterTiddler>>>\n\t\t\t\t\t<$action-sendmessage $message=\"tm-add-tag\" $param=<<belowStoryFooterTag>>/>\n\t\t\t\t</$fieldmangler>\n\t\t\t</$list>\n\t\t</$let>\n\t</$list>\n\t<$list filter=\"[<ensembleTiddler>fields[]prefix[story-list-]]\" variable=\"storyField\">\n\t\t<$let storyNumber={{{ [<storyField>removeprefix[story-list-]] }}} storyTitle={{{ [[$:/StoryList-]addsuffix<storyNumber>] }}}>\n\t\t\t<$macrocall $name=\"tiddlyflex-set-ensemble-configuration\" tiddler=<<storyTitle>> field=\"list\" value={{{ [<ensembleTiddler>get<storyField>] }}}/>\n\t\t</$let>\n\t</$list>\n\t<$action-deletetiddler $filter=\"[all[tiddlers]prefix[$:/state/tiddlyflex/story-river/fullscreen/]]\"/>\n<% endif %>\n\\end\n\n\\procedure tiddlyflex-ensemble(title)\n<$set name=\"ensembleTiddler\" value={{{ [[$:/Ensemble/]addsuffix<title>] }}}>\n<$button class=\"tc-btn-invisible\" actions=<<tiddlyflex-load-ensemble-actions>>><$text text=<<title>>/></$button>\n</$set>\n\\end"},"$:/plugins/BTC/TiddlyFlex/globals/layout/functions":{"title":"$:/plugins/BTC/TiddlyFlex/globals/layout/functions","list-before":"","tags":"$:/tags/Global","text":"\\procedure tiddlyFlexPrefix() [\n\\procedure tiddlyFlexSuffix() ]\n\n\\function tdff.tiddlyflex-layout() [{$:/layout}match[$:/plugins/BTC/TiddlyFlex/ui/Layout]]\n\n\\function tdff.tiddlyflex-fullscreen() [all[tiddlers]prefix[$:/state/tiddlyflex/story-river/fullscreen/]limit[1]] ~[[]]\n\n\\function tdff.tiddlyflex-current-column-filtered() [subfilter<tdff.tiddlyflex-enlist-columns>] +[count[]!match[1]] :then[subfilter<tdff.tiddlyflex-current-column-filtered-before>] ~[subfilter<tdff.tiddlyflex-enlist-columns>] ~1\n\n\\function tdff.tiddlyflex-current-column-filtered-before() [subfilter<tdff.tiddlyflex-enlist-columns>] [{$:/columns!!current-column}] +[unique[]] +[nsort[]] +[before{$:/columns!!current-column}]\n\n\\function tdff.tiddlyflex-exclude-columns() [[list]addsuffix<tiddlyFlexPrefix>addsuffix[$:/columns]addsuffix<tiddlyFlexSuffix>addsuffix<tiddlyFlexSuffix>addsuffix[ :map:flat]addsuffix<tiddlyFlexPrefix>addsuffix[addprefix]addsuffix<tiddlyFlexPrefix>addsuffix[$:/StoryList-]addsuffix<tiddlyFlexSuffix>addsuffix<tiddlyFlexSuffix>addsuffix[ :map:flat]addsuffix<tiddlyFlexPrefix>addsuffix[get]addsuffix<tiddlyFlexPrefix>addsuffix[list]addsuffix<tiddlyFlexSuffix>addsuffix[enlist-input]addsuffix<tiddlyFlexPrefix>addsuffix<tiddlyFlexSuffix>addsuffix[search:]addsuffix{$:/config/tiddlyflex/story-river/filter/fields}addsuffix[:]addsuffix{$:/config/tiddlyflex/story-river/filter/flags}addsuffix[{$:/temp/search/input}]addsuffix[limit]addsuffix<tiddlyFlexPrefix>addsuffix[1]addsuffix<tiddlyFlexSuffix>addsuffix[then]addsuffix<tiddlyFlexPrefix>addsuffix<tiddlyFlexSuffix>addsuffix[else<currentTiddler>removeprefix]addsuffix<tiddlyFlexPrefix>addsuffix[$:/StoryList-]addsuffix<tiddlyFlexSuffix>] +[addprefix<tiddlyFlexPrefix>addsuffix<tiddlyFlexSuffix>addsuffix[ +]addsuffix<tiddlyFlexPrefix>addsuffix[join]addsuffix<tiddlyFlexPrefix>addsuffix[ ]addsuffix<tiddlyFlexSuffix>addsuffix<tiddlyFlexSuffix>]\n\n\\function tdff.tiddlyflex-enlist-columns() [[list]addsuffix<tiddlyFlexPrefix>addsuffix[$:/columns]addsuffix<tiddlyFlexSuffix>addsuffix<tiddlyFlexSuffix>addsuffix[ :map]addsuffix<tiddlyFlexPrefix>addsuffix[{$:/state/tiddlyflex/story-river/filter}match]addsuffix<tiddlyFlexPrefix>addsuffix[yes]addsuffix<tiddlyFlexSuffix>addsuffix[then<currentTiddler>addprefix]addsuffix<tiddlyFlexPrefix>addsuffix[$:/StoryList-]addsuffix<tiddlyFlexSuffix>addsuffix[get]addsuffix<tiddlyFlexPrefix>addsuffix[list]addsuffix<tiddlyFlexSuffix>addsuffix[enlist-input]addsuffix<tiddlyFlexPrefix>addsuffix<tiddlyFlexSuffix>addsuffix[search:]addsuffix{$:/config/tiddlyflex/story-river/filter/fields}addsuffix[:]addsuffix{$:/config/tiddlyflex/story-river/filter/flags}addsuffix[{$:/temp/search/input}]addsuffix[limit]addsuffix<tiddlyFlexPrefix>addsuffix[1]addsuffix<tiddlyFlexSuffix>addsuffix[then<currentTiddler>else{$:/state/tiddlyflex/story-river/filter}!match]addsuffix<tiddlyFlexPrefix>addsuffix[yes]addsuffix<tiddlyFlexSuffix>addsuffix[then<currentTiddler>]addsuffix<tiddlyFlexSuffix>addsuffix[ +]addsuffix<tiddlyFlexPrefix>addsuffix[!match]addsuffix<tiddlyFlexPrefix>addsuffix<tiddlyFlexSuffix>addsuffix<tiddlyFlexSuffix>] +[addprefix<tiddlyFlexPrefix>] +[addsuffix[ ~1]]\n\n\\function tdff.tiddlyflex-enlist-columns-first() [[list]addsuffix<tiddlyFlexPrefix>addsuffix[$:/columns]addsuffix<tiddlyFlexSuffix>addsuffix<tiddlyFlexSuffix>addsuffix[ :map]addsuffix<tiddlyFlexPrefix>addsuffix[{$:/state/tiddlyflex/story-river/filter}match]addsuffix<tiddlyFlexPrefix>addsuffix[yes]addsuffix<tiddlyFlexSuffix>addsuffix[then<currentTiddler>addprefix]addsuffix<tiddlyFlexPrefix>addsuffix[$:/StoryList-]addsuffix<tiddlyFlexSuffix>addsuffix[get]addsuffix<tiddlyFlexPrefix>addsuffix[list]addsuffix<tiddlyFlexSuffix>addsuffix[enlist-input]addsuffix<tiddlyFlexPrefix>addsuffix<tiddlyFlexSuffix>addsuffix[search:]addsuffix{$:/config/tiddlyflex/story-river/filter/fields}addsuffix[:]addsuffix{$:/config/tiddlyflex/story-river/filter/flags}addsuffix[{$:/temp/search/input}]addsuffix[limit]addsuffix<tiddlyFlexPrefix>addsuffix[1]addsuffix<tiddlyFlexSuffix>addsuffix[then<currentTiddler>else{$:/state/tiddlyflex/story-river/filter}!match]addsuffix<tiddlyFlexPrefix>addsuffix[yes]addsuffix<tiddlyFlexSuffix>addsuffix[then<currentTiddler>]addsuffix<tiddlyFlexSuffix>addsuffix[ +]addsuffix<tiddlyFlexPrefix>addsuffix[!match]addsuffix<tiddlyFlexPrefix>addsuffix<tiddlyFlexSuffix>addsuffix<tiddlyFlexSuffix>addsuffix[ +]addsuffix<tiddlyFlexPrefix>addsuffix[first]addsuffix<tiddlyFlexPrefix>addsuffix<tiddlyFlexSuffix>addsuffix<tiddlyFlexSuffix>] +[addprefix<tiddlyFlexPrefix>]\n\n\\function tdff.tiddlyflex-story-river-filter-no-draft() [[list]addsuffix[<tv-story-list>]addsuffix<tiddlyFlexSuffix>addsuffix[ ]addsuffix[:filter]addsuffix<tiddlyFlexPrefix>addsuffix[{$:/state/tiddlyflex/story-river/filter}match]addsuffix<tiddlyFlexPrefix>addsuffix[yes]addsuffix<tiddlyFlexSuffix>addsuffix[then<currentTiddler>!is]addsuffix<tiddlyFlexPrefix>addsuffix[draft]addsuffix<tiddlyFlexSuffix>addsuffix[search:]addsuffix{$:/config/tiddlyflex/story-river/filter/fields}addsuffix[:]addsuffix{$:/config/tiddlyflex/story-river/filter/flags}addsuffix[{$:/temp/search/input}]] +[addsuffix[else{$:/state/tiddlyflex/story-river/filter}!match]addsuffix<tiddlyFlexPrefix>addsuffix[yes]addsuffix<tiddlyFlexSuffix>addsuffix[then<currentTiddler>]] +[addprefix<tiddlyFlexPrefix>addsuffix<tiddlyFlexSuffix>]\n\n\\function tdff.tiddlyflex-story-river-filter() [[list]addsuffix[<tv-story-list>]addsuffix<tiddlyFlexSuffix>addsuffix[ ]addsuffix[:filter]addsuffix<tiddlyFlexPrefix>addsuffix[{$:/state/tiddlyflex/story-river/filter}match]addsuffix<tiddlyFlexPrefix>addsuffix[yes]addsuffix<tiddlyFlexSuffix>addsuffix[then<currentTiddler>]addsuffix[search:]addsuffix{$:/config/tiddlyflex/story-river/filter/fields}addsuffix[:]addsuffix{$:/config/tiddlyflex/story-river/filter/flags}addsuffix[{$:/temp/search/input}]] +[addsuffix[else{$:/state/tiddlyflex/story-river/filter}!match]addsuffix<tiddlyFlexPrefix>addsuffix[yes]addsuffix<tiddlyFlexSuffix>addsuffix[then<currentTiddler>]] +[addprefix<tiddlyFlexPrefix>addsuffix<tiddlyFlexSuffix>]"},"$:/plugins/BTC/TiddlyFlex/globals/layout/procedures":{"title":"$:/plugins/BTC/TiddlyFlex/globals/layout/procedures","tags":"$:/tags/Global","text":"\\procedure tiddlyflex-message-catcher(tiddlyflex-layout-inner)\n\\function tiddlyflex-current-column() [<tiddlyFlexColumn>]\n<$messagecatcher\n\t$tm-cancel-tiddler=<<tiddlyflex-tm-cancel-tiddler-actions>>\n\t$tm-close-all-tiddlers=<<tiddlyflex-tm-close-all-tiddlers-actions>>\n\t$tm-close-other-tiddlers=<<tiddlyflex-tm-close-other-tiddlers-actions>>\n\t$tm-close-tiddler=<<tiddlyflex-tm-close-tiddler-actions>>\n\t$tm-delete-tiddler=<<tiddlyflex-tm-delete-tiddler-actions>>\n\t$tm-edit-tiddler=<<tiddlyflex-tm-edit-tiddler-actions>>\n\t$tm-fold-all-tiddlers=<<tiddlyflex-tm-fold-all-tiddlers-actions>>\n\t$tm-fold-other-tiddlers=<<tiddlyflex-tm-fold-other-tiddlers-actions>>\n\t$tm-fold-tiddler=<<tiddlyflex-tm-fold-tiddler-actions>>\n\t$tm-home=<<tiddlyflex-tm-home-actions>>\n\t$tm-import-tiddlers=<<tiddlyflex-tm-import-tiddlers-actions>>\n\t$tm-navigate=<<tiddlyflex-tm-navigate-actions>>\n\t$tm-new-tiddler=<<tiddlyflex-tm-new-tiddler-actions>>\n\t$tm-perform-import=<<tiddlyflex-tm-perform-import-actions>>\n\t$tm-save-tiddler=<<tiddlyflex-tm-save-tiddler-actions>>\n\t$tm-unfold-all-tiddlers=<<tiddlyflex-tm-unfold-all-tiddlers-actions>>>\n\t<<tiddlyflex-layout-inner>>\n</$messagecatcher>\n\\end\n\\procedure tiddlyflex-message-catcher-outside(tiddlyflex-layout-inner)\n\\function tiddlyflex-current-column() [subfilter<tdff.tiddlyflex-enlist-columns>] :intersection[{$:/columns!!current-column}] ~[subfilter<tdff.tiddlyflex-current-column-filtered>]\n<$messagecatcher\n\t$tm-cancel-tiddler=<<tiddlyflex-tm-cancel-tiddler-actions-outside>>\n\t$tm-close-all-tiddlers=<<tiddlyflex-tm-close-all-tiddlers-actions-outside>>\n\t$tm-close-other-tiddlers=<<tiddlyflex-tm-close-other-tiddlers-actions-outside>>\n\t$tm-close-tiddler=<<tiddlyflex-tm-close-tiddler-actions-outside>>\n\t$tm-delete-tiddler=<<tiddlyflex-tm-delete-tiddler-actions-outside>>\n\t$tm-edit-tiddler=<<tiddlyflex-tm-edit-tiddler-actions-outside>>\n\t$tm-fold-all-tiddlers=<<tiddlyflex-tm-fold-all-tiddlers-actions-outside>>\n\t$tm-fold-other-tiddlers=<<tiddlyflex-tm-fold-other-tiddlers-actions-outside>>\n\t$tm-fold-tiddler=<<tiddlyflex-tm-fold-tiddler-actions-outside>>\n\t$tm-home=<<tiddlyflex-tm-home-actions-outside>>\n\t$tm-import-tiddlers=<<tiddlyflex-tm-import-tiddlers-actions-outside>>\n\t$tm-navigate=<<tiddlyflex-tm-navigate-actions-outside>>\n\t$tm-new-tiddler=<<tiddlyflex-tm-new-tiddler-actions-outside>>\n\t$tm-perform-import=<<tiddlyflex-tm-perform-import-actions-outside>>\n\t$tm-save-tiddler=<<tiddlyflex-tm-save-tiddler-actions-outside>>\n\t$tm-unfold-all-tiddlers=<<tiddlyflex-tm-unfold-all-tiddlers-actions-outside>>>\n\t<<tiddlyflex-layout-inner>>\n</$messagecatcher>\n\\end"},"$:/plugins/BTC/TiddlyFlex/globals/layout/sidebar-resizer":{"title":"$:/plugins/BTC/TiddlyFlex/globals/layout/sidebar-resizer","tags":"$:/tags/Global","text":"\\procedure tiddlyflex-sidebar-resizer-pointerdown-actions()\n<%if [[$:/state/sidebar/resizing]is[missing]then<event-mousebutton>match[left]] %>\n\t<$action-setfield $tiddler=\"$:/state/sidebar/resizing\" text=\"yes\"/>\n\t<$action-setfield $tiddler=\"$:/state/sidebar/posx\" starting-posx=<<event-fromcatcher-posx>> drag-diff=<<event-fromselected-posx>> selectednode-width=<<tv-selectednode-width>> widgetnode-width=<<tv-widgetnode-width>> text=<<event-fromcatcher-posx>> column-count={{{ [subfilter<tdff.tiddlyflex-enlist-columns>count[]] }}} leftbar-width={{{ [<event-fromviewport-posx>subtract<event-fromcatcher-posx>] }}}/>\n<% endif %>\n\\end\n\\procedure tiddlyflex-sidebar-resizer-pointerup-actions()\n<%if [[$:/state/sidebar/resizing]!is[missing]] %>\n\t<$action-deletetiddler $tiddler=\"$:/state/sidebar/resizing\"/>\n<% endif %>\n\\end\n\\procedure tiddlyflex-sidebar-resizer-pointermove-actions()\n<%if [[$:/state/sidebar/resizing]!is[missing]] %>\n\t<$action-setfield $tiddler=\"$:/state/sidebar/posx\" text=<<event-fromcatcher-posx>>/>\n\t<%if [<event-fromcatcher-posx>compare:number:lt{$:/state/sidebar/posx!!starting-posx}] %>\n\t\t<$action-setfield $tiddler=\"$:/state/sidebar/posx\" starting-posx=<<event-fromcatcher-posx>>/>\n\t<% endif %>\n<% endif %>\n\\end"},"$:/plugins/BTC/TiddlyFlex/globals/layout/templates":{"title":"$:/plugins/BTC/TiddlyFlex/globals/layout/templates","tags":"$:/tags/Global","text":"\\procedure tdfp-tiddlyflex-edit-template()\n\\whitespace trim\n<div\n\tdata-tiddler-title=<<currentTiddler>>\n\tdata-tags={{!!tags}}\n\tclass={{{ [all[shadows+tiddlers]tag[$:/tags/ClassFilters/TiddlerTemplate]!is[draft]] :map:flat[subfilter{!!text}] [subfilter<tdff.tiddlyflex-enlist-columns>count[]addprefix[tc-tiddlyflex-column-]] tc-tiddler-edit-frame [<currentTiddler>is[tiddler]then[tc-tiddler-exists]] [<currentTiddler>is[missing]!is[shadow]then[tc-tiddler-missing]] [<currentTiddler>is[shadow]then[tc-tiddler-exists tc-tiddler-shadow]] [<currentTiddler>is[system]then[tc-tiddler-system]] [{!!class}] [<currentTiddler>tags[]encodeuricomponent[]addprefix[tc-tagged-]] +[join[ ]] }}}\n\trole=\"region\"\n\taria-label={{$:/language/EditTemplate/Caption}}>\n\t<$fieldmangler>\n\t\t<$tiddlyflex-draggable enable={{{ [{$:/state/tiddlyflex/story-river/tiddler/drag-enabled}match[yes]then[$:/state/tiddlyflex/story-river/fullscreen/]addsuffix<currentTiddler>is[missing]then[yes]] ~[[no]] }}} tiddler=<<currentTiddler>> startactions=<<tiddlyflex-drag-start-actions>> endactions=<<tiddlyflex-drag-end-actions>> class=\"tc-tiddler-frame\">\n\t\t\t<$vars\n\t\t\t\tstoryTiddler=<<currentTiddler>>\n\t\t\t\tqualifiedSearchPanelState=<<qualify \"$:/temp/searchpanel\">>\n\t\t\t\tnewTagNameTiddler=<<qualify \"$:/temp/NewTagName\">>\n\t\t\t\tnewFieldNameTiddler=<<qualify \"$:/temp/NewFieldName\">>\n\t\t\t\tnewFieldValueTiddlerPrefix=<<qualify \"$:/temp/NewFieldValue\">>\n\t\t\t\tnewFieldNameInputTiddler=<<qualify \"$:/temp/NewFieldName/input\">>\n\t\t\t\tnewFieldNameSelectionTiddler=<<qualify \"$:/temp/NewFieldName/selected-item\">>\n\t\t\t\tnewTagNameInputTiddler=<<qualify \"$:/temp/NewTagName/input\">>\n\t\t\t\tnewTagNameSelectionTiddler=<<qualify \"$:/temp/NewTagName/selected-item\">>\n\t\t\t\ttypeInputTiddler=<<qualify \"$:/temp/Type/input\">>\n\t\t\t\ttypeSelectionTiddler=<<qualify \"$:/temp/Type/selected-item\">>>\n\t\t\t\t<$keyboard key=\"((cancel-edit-tiddler))\" actions=<<cancel-delete-tiddler-actions \"cancel\">> tag=\"div\">\n\t\t\t\t\t<$keyboard key=\"((save-tiddler))\" actions=<<save-tiddler-actions>> tag=\"div\">\n\t\t\t\t\t\t<$list filter=\"[all[shadows+tiddlers]tag[$:/tags/TiddlyFlex/EditTemplate]!is[draft]] [all[shadows+tiddlers]tag[$:/tags/EditTemplate]!is[draft]] -[[$:/core]plugintiddlers[]tag[$:/tags/EditTemplate]]\" variable=\"listItem\">\n\t\t\t\t\t\t\t<$transclude tiddler=<<listItem>>/>\n\t\t\t\t\t\t</$list>\n\t\t\t\t\t</$keyboard>\n\t\t\t\t</$keyboard>\n\t\t\t</$vars>\n\t\t\t<% if [{$:/state/dragging}match[yes]then{$:/state/tiddlyflex/story-river/tiddler/drag-enabled}match[yes]then[$:/state/story-river/full-screen/]addsuffix<currentTiddler>is[missing]] %>\n\t\t\t\t<$droppable class=\"tc-tiddlyflex-droppable-top-half\" actions=<<tiddlyflex-top-drop-actions>> dragenteractions=<<tiddlyflex-top-dragenter-actions>>/>\n\t\t\t\t<$droppable class=\"tc-tiddlyflex-droppable-bottom-half\" actions=<<tiddlyflex-bottom-drop-actions>> dragenteractions=<<tiddlyflex-bottom-dragenter-actions>>/>\n\t\t\t<% endif %>\n\t\t</$tiddlyflex-draggable>\n\t</$fieldmangler>\n</div>\n\\end\n\n\\procedure tiddlyflex-preview-type-button()\n\\whitespace trim\n<$button tag=\"a\">\n\n<$action-setfield $tiddler=\"$:/state/editpreviewtype\" $value={{{ [[$(previewType)$]substitute[]] }}}/>\n\n<$action-deletetiddler\n\t$tiddler=<<dropdown-state>>\n/>\n\n<$transclude tiddler=<<previewType>> field=\"caption\" mode=\"inline\">\n\n<$view tiddler=<<previewType>> field=\"title\" mode=\"inline\"/>\n\n</$transclude> \n\n<$reveal tag=\"span\" state=\"$:/state/editpreviewtype\" type=\"match\" text=<<previewType>> default={{{ [tdff.tiddlyflex-layout[]then[$:/plugins/BTC/TiddlyFlex/ui/EditTemplate/body/preview/output]else[$:/core/ui/EditTemplate/body/preview/output]] }}}>\n\n<$entity entity=\"&nbsp;\"/>\n\n<$entity entity=\"&#x2713;\"/>\n\n</$reveal>\n\n</$button>\n\\end\n\n\\procedure tdfp-tiddlyflex-editortoolbar-preview-type-dropdown()\n\\whitespace trim\n<$list filter=\"[all[shadows+tiddlers]tag[$:/tags/EditPreview]!is[draft]] :cascade[all[shadows+tiddlers]tag[$:/tags/TiddlyFlex/EditTemplatePreviewFilter]!is[draft]get[text]]\" variable=\"previewType\">\n\n<<tiddlyflex-preview-type-button>>\n\n</$list>\n\\end\n\n\\procedure tdfp-tiddlyflex-edittemplate-preview-diffs-current()\n\\whitespace trim\n<$list filter=\"[<currentTiddler>!is[image]]\" emptyMessage={{$:/core/ui/EditTemplate/body/preview/output}}>\n\n<$macrocall $name=\"compareTiddlerText\" sourceTiddlerTitle={{!!draft.of}} destTiddlerTitle=<<currentTiddler>>/>\n\n</$list>\n\\end\n\n\\procedure tdfp-tiddlyflex-edittemplate-preview-diffs-shadow()\n\\whitespace trim\n<$list filter=\"[<currentTiddler>!is[image]]\" emptyMessage={{$:/core/ui/EditTemplate/body/preview/output}}>\n\n<$macrocall $name=\"compareTiddlerText\" sourceTiddlerTitle={{{ [{!!draft.of}shadowsource[]] }}} sourceSubTiddlerTitle={{!!draft.of}} destTiddlerTitle=<<currentTiddler>>/>\n\n</$list>\n\\end\n\n\\procedure tdfp-tiddlyflex-edittemplate-preview-output()\n\\whitespace trim\n<$set name=\"tv-tiddler-preview\" value=\"yes\">\n\n<$transclude tiddler={{{ [<currentTiddler>] :cascade[all[shadows+tiddlers]tag[$:/tags/TiddlyFlex/ViewTemplateBodyFilter]!is[draft]get[text]] :and[!is[blank]else[$:/plugins/BTC/TiddlyFlex/ui/ViewTemplate/body/default]] }}} />\n\n</$set>\n\\end\n\n\\procedure tdfp-tiddlyflex-edittemplate-body()\n\\whitespace trim\n<$transclude tiddler={{{ [<currentTiddler>] :cascade[all[shadows+tiddlers]tag[$:/tags/TiddlyFlex/EditTemplateBodyFilter]!is[draft]get[text]] :and[!is[blank]else[$:/core/ui/EditTemplate/body/default]] }}} />\n\\end\n\n\\procedure tdfp-tiddlyflex-edittemplate-body-default()\n\\whitespace trim\n<$let\n\tqualified-preview-state=<<qualify \"$:/state/showeditpreview\">>\n\teditPreviewStateTiddler={{{ [{$:/config/ShowEditPreview/PerTiddler}!match[yes]then[$:/state/showeditpreview]] :else[<qualified-preview-state>] }}}\n\timportTitle=<<qualify $:/ImportImage>>\n\timportState=<<qualify $:/state/ImportImage>> >\n<$dropzone importTitle=<<importTitle>> autoOpenOnImport=\"no\" contentTypesFilter={{$:/config/Editor/ImportContentTypesFilter}} class=\"tc-dropzone-editor\" enable={{{ [{$:/config/DragAndDrop/Enable}match[no]] :else[subfilter{$:/config/Editor/EnableImportFilter}then[yes]else[no]] }}} filesOnly=\"yes\" actions=<<importFileActions>> >\n<div>\n<div class={{{ [<edit-preview-state>match[yes]then[tc-tiddler-preview]else[tc-tiddler-preview-hidden]] [[tc-tiddler-editor]] +[join[ ]] }}}>\n\n<$transclude tiddler=\"$:/plugins/BTC/TiddlyFlex/ui/EditTemplate/body/editor\" mode=\"inline\"/>\n\n<%if [<editPreviewStateTiddler>get[text]match[yes]] %>\n\n<div class=\"tc-tiddler-preview-preview\" data-tiddler-title={{!!draft.title}} data-tags={{!!tags}}>\n\n<$transclude tiddler={{$:/state/editpreviewtype}} mode=\"inline\">\n\n<$transclude tiddler=\"$:/plugins/BTC/TiddlyFlex/ui/EditTemplate/body/preview/output\" mode=\"inline\"/>\n\n</$transclude>\n\n</div>\n\n<% endif %>\n\n</div>\n\n</div>\n\n</$dropzone>\n\n</$let>\n\\end\n\\procedure tdfp-tiddlyflex-edittemplate-canonical-uri()\n\\whitespace trim\n<div class=\"tc-message-box\">\n\n<<lingo External/Hint>>\n\n<a href={{!!_canonical_uri}}><$text text={{!!_canonical_uri}}/></a>\n\n<$edit-text field=\"_canonical_uri\" class=\"tc-edit-fields\" tabindex={{$:/config/EditTabIndex}} cancelPopups=\"yes\"></$edit-text>\n\n</div>\n\\end\n\\procedure tdfp-tiddlyflex-edittemplate-body-editor()\n\\whitespace trim\n<$edit\n\n  field=\"text\"\n  class=\"tc-edit-texteditor tc-edit-texteditor-body\"\n  placeholder={{$:/language/EditTemplate/Body/Placeholder}}\n  tabindex={{$:/config/EditTabIndex}}\n  focus={{{ [{$:/config/AutoFocus}match[text]then[true]] ~[[false]] }}}\n  cancelPopups=\"yes\"\n  fileDrop={{{ [{$:/config/DragAndDrop/Enable}match[no]] :else[subfilter{$:/config/Editor/EnableImportFilter}then[yes]else[no]] }}}\n  type={{!!type}}\n\n><$set\n\n  name=\"targetTiddler\"\n  value=<<currentTiddler>>\n\n><$list\n\n  filter=\"[all[shadows+tiddlers]tag[$:/tags/EditorToolbar]!has[draft.of]]\"\n\n><%if [<config-visibility-title>!match[hide]] %><span class=\"tc-text-editor-toolbar-item-wrapper\"><$transclude\n\n  tiddler=\"$:/plugins/BTC/TiddlyFlex/ui/EditTemplate/body/toolbar/button\"\n  mode=\"inline\"\n\n/></span><% endif %></$list><$list\n\n  filter=\"[all[shadows+tiddlers]tag[$:/tags/EditorTools]!has[draft.of]]\"\n\n><$list\n\tfilter={{!!condition}}\n\tvariable=\"list-condition\"\n><$transclude/>\n</$list></$list></$set></$edit>\n\\end\n\n\\procedure tdfp-tiddlyflex-edittemplate-controls()\n\\whitespace trim\n<div class=\"tc-tiddler-title tc-tiddler-edit-title\">\n\t<$view field=\"title\"/>\n\t<span class=\"tc-tiddler-controls tc-titlebar\">\n\t\t<$list filter=\"[all[shadows+tiddlers]tag[$:/tags/EditToolbar]!has[draft.of]]\" variable=\"listItem\">\n\t\t\t<$let tv-config-toolbar-class={{{ [enlist<tv-config-toolbar-class>] [<listItem>encodeuricomponent[]addprefix[tc-btn-]] +[join[ ]] }}}>\n\t\t\t\t<$reveal type=\"nomatch\" state=<<config-title>> text=\"hide\">\n\t\t\t\t\t<$transclude $tiddler=<<listItem>>/>\n\t\t\t\t</$reveal>\n\t\t\t</$let>\n\t\t</$list>\n\t</span>\n\t<div style=\"clear: both;\"></div>\n</div>\n\\end\n\n\\procedure tdfp-tiddlyflex-edittemplate-fieldeditor-default()\n\\whitespace trim\n<$edit-text tiddler=<<currentTiddler>> field=<<currentField>> tag=\"input\" default=\"\" class=\"tc-edit-texteditor tc-edit-fieldeditor\" placeholder={{$:/language/EditTemplate/Fields/Add/Value/Placeholder}} tabindex={{$:/config/EditTabIndex}} cancelPopups=\"yes\"/>\n\\end\n\n\\procedure tdfp-tiddlyflex-edittemplate-fields-add-field-dropdown()\n\\whitespace trim\n<$reveal state=<<qualify \"$:/state/popup/field-dropdown\">> type=\"nomatch\" text=\"\" default=\"\">\n<div class=\"tc-block-dropdown tc-edit-type-dropdown\">\n<$set name=\"tv-show-missing-links\" value=\"yes\">\n<$linkcatcher to=<<newFieldNameTiddler>>>\n<div class=\"tc-dropdown-item\">\n<<lingo Fields/Add/Dropdown/User>>\n</div>\n<$set name=\"newFieldName\" value={{{ [<storeTitle>get[text]] }}}>\n<$list filter=\"[!is[shadow]!is[system]fields[]search:title<newFieldName>sort[]] -created -creator -draft.of -draft.title -modified -modifier -tags -text -title -type\"  variable=\"currentField\">\n<$list filter=\"[<currentField>addsuffix[-primaryList]] -[<searchListState>get[text]]\" emptyMessage=\"\"\"<$link to=<<currentField>> class=\"tc-list-item-selected\"><$text text=<<currentField>>/></$link>\"\"\">\n<$link to=<<currentField>>>\n<$text text=<<currentField>>/>\n</$link>\n</$list>\n</$list>\n<div class=\"tc-dropdown-item\">\n<<lingo Fields/Add/Dropdown/System>>\n</div>\n<$list filter=\"[fields[]search:title<newFieldName>sort[]] -[!is[shadow]!is[system]fields[]]\" variable=\"currentField\">\n<$list filter=\"[<currentField>addsuffix[-secondaryList]] -[<searchListState>get[text]]\" emptyMessage=\"\"\"<$link to=<<currentField>> class=\"tc-list-item-selected\"><$text text=<<currentField>>/></$link>\"\"\">\n<$link to=<<currentField>>>\n<$text text=<<currentField>>/>\n</$link>\n</$list>\n</$list>\n</$set>\n</$linkcatcher>\n</$set>\n</div>\n</$reveal>\n\\end\n\n\\procedure tdfp-tiddlyflex-edittemplate-fields-add-field()\n\\whitespace trim\n<$fieldmangler>\n<div class=\"tc-edit-field-add\">\n<em class=\"tc-edit tc-small-gap-right\">\n<<lingo Fields/Add/Prompt>>\n</em>\n<$vars refreshTitle=<<qualify \"$:/temp/fieldname/refresh\">> storeTitle=<<newFieldNameInputTiddler>> searchListState=<<newFieldNameSelectionTiddler>>>\n<div class=\"tc-edit-field-add-name-wrapper\">\n<$macrocall $name=\"keyboard-driven-input\" tiddler=<<newFieldNameTiddler>> storeTitle=<<storeTitle>> refreshTitle=<<refreshTitle>>\n\t\tselectionStateTitle=<<searchListState>> tag=\"input\" default=\"\" placeholder={{$:/language/EditTemplate/Fields/Add/Name/Placeholder}}\n\t\tfocusPopup=<<qualify \"$:/state/popup/field-dropdown\">> class=\"tc-edit-texteditor tc-popup-handle\" tabindex={{$:/config/EditTabIndex}}\n\t\tfocus={{{ [{$:/config/AutoFocus}match[fields]then[true]] ~[[false]] }}} cancelPopups=\"yes\"\n\t\tconfigTiddlerFilter=\"[[$:/config/EditMode/fieldname-filter]]\" inputCancelActions=<<cancel-search-actions>> />\n<$button popup=<<qualify \"$:/state/popup/field-dropdown\">> class=\"tc-btn-invisible tc-btn-dropdown tc-small-gap\" tooltip={{$:/language/EditTemplate/Field/Dropdown/Hint}} aria-label={{$:/language/EditTemplate/Field/Dropdown/Caption}}>{{$:/core/images/down-arrow}}</$button>\n<<tdfp-tiddlyflex-edittemplate-fields-add-field-dropdown>>\n</div>\n<$let currentTiddlerCSSescaped={{{ [<currentTiddler>escapecss[]] }}} currentTiddler={{{ [subfilter<get-field-value-tiddler-filter>] }}} currentField=\"text\" currentFieldName={{{ [<newFieldNameTiddler>get[text]] }}}>\n<span class=\"tc-edit-field-add-value tc-small-gap-right\">\n<$keyboard key=\"((add-field))\" actions=<<new-field-actions>>>\n<$transclude tiddler={{{ [subfilter<get-field-editor-filter>] }}} />\n</$keyboard>\n</span>\n<span class=\"tc-edit-field-add-button\">\n<$macrocall $name=\"new-field\"/>\n</span>\n</$let>\n</$vars>\n</div>\n</$fieldmangler>\n\\end\n\n\\procedure tdfp-tiddlyflex-edittemplate-fields()\n\\whitespace trim\n<$set name=\"newFieldValueTiddlerPrefix\" value=<<newFieldValueTiddlerPrefix>> emptyValue=<<qualify \"$:/temp/NewFieldValue\">> >\n<div class=\"tc-edit-fields\">\n<table class={{{ [all[current]fields[]] :filter[lookup[$:/config/EditTemplateFields/Visibility/]!match[hide]] +[count[]!match[0]] +[then[tc-edit-fields]] ~[[tc-edit-fields tc-edit-fields-small]] }}}>\n<tbody>\n<$list filter=\"[all[current]fields[]] +[sort[title]]\" variable=\"currentField\" storyview=\"tiddlypop\">\n<$list filter=<<config-filter>> variable=\"temp\">\n<tr class=\"tc-edit-field\">\n<td class=\"tc-edit-field-name\">\n<$text text=<<currentField>>/>:</td>\n<td class=\"tc-edit-field-value\">\n<$keyboard key=\"((delete-field))\" actions=\"\"\"<$action-deletefield $field=<<currentField>>/><$set name=\"currentTiddlerCSSescaped\" value={{{ [<currentTiddler>escapecss[]] }}}><$action-sendmessage $message=\"tm-focus-selector\" $param=<<current-tiddler-new-field-selector>>/></$set>\"\"\">\n<$transclude tiddler={{{ [<currentField>] :cascade[all[shadows+tiddlers]tag[$:/tags/FieldEditorFilter]!is[draft]get[text]] :and[!is[blank]else{$:/plugins/BTC/TiddlyFlex/ui/EditTemplate/fieldEditor/default}] }}} />\n</$keyboard>\n</td>\n<td class=\"tc-edit-field-remove\">\n<$button class=\"tc-btn-invisible\" tooltip={{$:/language/EditTemplate/Field/Remove/Hint}} aria-label={{$:/language/EditTemplate/Field/Remove/Caption}}>\n<$action-deletefield $field=<<currentField>>/>\n{{$:/core/images/delete-button}}\n</$button>\n</td>\n</tr>\n</$list>\n</$list>\n</tbody>\n</table>\n</div>\n<<tdfp-tiddlyflex-edittemplate-fields-add-field>>\n</$set>\n\\end\n\n\\procedure tdfp-tiddlyflex-edittemplate-shadow()\n\\whitespace trim\n<$list filter=\"[all[current]get[draft.of]is[shadow]!is[tiddler]]\">\n\n<$list filter=\"[all[current]shadowsource[]]\" variable=\"pluginTitle\">\n\n<$set name=\"pluginLink\" value=<<pluginLinkBody>>>\n<div class=\"tc-message-box\">\n\n<<lingo Warning>>\n\n</div>\n</$set>\n</$list>\n\n</$list>\n\n<$list filter=\"[all[current]get[draft.of]is[shadow]is[tiddler]]\">\n\n<$list filter=\"[all[current]shadowsource[]]\" variable=\"pluginTitle\">\n\n<$set name=\"pluginLink\" value=<<pluginLinkBody>>>\n<div class=\"tc-message-box\">\n\n<<lingo OverriddenWarning>>\n\n</div>\n</$set>\n</$list>\n\n</$list>\n\\end\n\n\\procedure tdfp-tiddlyflex-edittemplate-title()\n\\whitespace trim\n<$edit-text field=\"draft.title\" class=\"tc-titlebar tc-edit-texteditor\" focus={{{ [{$:/config/AutoFocus}match[title]then[true]] ~[[false]] }}} tabindex={{$:/config/EditTabIndex}} cancelPopups=\"yes\"/>\n\n<$vars pattern=\"\"\"[\\|\\[\\]{}]\"\"\" bad-chars=\"\"\"`| [ ] { }`\"\"\">\n\n<$list filter=\"[all[current]regexp:draft.title<pattern>]\" variable=\"listItem\">\n\n<div class=\"tc-message-box\">\n\n{{$:/core/images/warning}}&#32;{{$:/language/EditTemplate/Title/BadCharacterWarning}}\n\n</div>\n\n</$list>\n\n</$vars>\n\n<$reveal state=\"!!draft.title\" type=\"nomatch\" text={{!!draft.of}} tag=\"div\">\n\n<$list filter=\"[{!!draft.title}!is[missing]]\" variable=\"listItem\">\n\n<div class=\"tc-message-box\">\n\n{{$:/core/images/warning}}&#32;{{$:/language/EditTemplate/Title/Exists/Prompt}}:&#32;<$link to={{!!draft.title}} />\n\n</div>\n\n</$list>\n\n<$list filter=\"[{!!draft.of}!is[missing]]\" variable=\"listItem\">\n\n<$vars fromTitle={{!!draft.of}} toTitle={{!!draft.title}}>\n\n<$checkbox tiddler=\"$:/config/RelinkOnRename\" field=\"text\" checked=\"yes\" unchecked=\"no\" default=\"no\">&#32;{{$:/language/EditTemplate/Title/Relink/Prompt}}</$checkbox>\n\n<$list filter=\"[title<fromTitle>backlinks[]limit[1]]\" variable=\"listItem\">\n\n<$vars stateTiddler=<<qualify \"$:/state/edit/references\">> >\n\n<$reveal type=\"nomatch\" state=<<stateTiddler>> text=\"show\">\n<$button set=<<stateTiddler>> setTo=\"show\" class=\"tc-btn-invisible\">\n{{$:/core/images/right-arrow}}\n&#32;\n<<lingo EditTemplate/Title/References/Prompt>></$button>\n</$reveal>\n<$reveal type=\"match\" state=<<stateTiddler>> text=\"show\">\n<$button set=<<stateTiddler>> setTo=\"hide\" class=\"tc-btn-invisible\">\n{{$:/core/images/down-arrow}}\n&#32;\n<<lingo EditTemplate/Title/References/Prompt>></$button>\n</$reveal>\n\n<$reveal type=\"match\" state=<<stateTiddler>> text=\"show\">\n<$tiddler tiddler=<<fromTitle>> >\n<$transclude tiddler=\"$:/core/ui/TiddlerInfo/References\"/>\n</$tiddler>\n</$reveal>\n\n</$vars>\n\n</$list>\n\n</$vars>\n\n</$list>\n\n</$reveal>\n\\end\n\n\\procedure tdfp-tiddlyflex-edittemplate-type()\n\\whitespace trim\n<$set name=\"refreshTitle\" value=<<qualify \"$:/temp/type-search/refresh\">>>\n<div class=\"tc-edit-type-selector-wrapper\">\n<em class=\"tc-edit tc-small-gap-right\"><<lingo Type/Prompt>></em>\n<div class=\"tc-type-selector-dropdown-wrapper\">\n<div class=\"tc-type-selector\"><$fieldmangler>\n<$macrocall $name=\"keyboard-driven-input\" tiddler=<<currentTiddler>> storeTitle=<<typeInputTiddler>> refreshTitle=<<refreshTitle>> selectionStateTitle=<<typeSelectionTiddler>> field=\"type\" tag=\"input\" default=\"\" placeholder={{$:/language/EditTemplate/Type/Placeholder}} focusPopup=<<qualify \"$:/state/popup/type-dropdown\">> class=\"tc-edit-typeeditor tc-edit-texteditor tc-popup-handle\" tabindex={{$:/config/EditTabIndex}} focus={{{ [{$:/config/AutoFocus}match[type]then[true]] ~[[false]] }}} cancelPopups=\"yes\" configTiddlerFilter=\"[[$:/plugins/BTC/TiddlyFlex/ui/EditTemplate/type]]\" inputCancelActions=<<input-cancel-actions>>/><$button popup=<<qualify \"$:/state/popup/type-dropdown\">> class=\"tc-btn-invisible tc-btn-dropdown tc-small-gap\" tooltip={{$:/language/EditTemplate/Type/Dropdown/Hint}} aria-label={{$:/language/EditTemplate/Type/Dropdown/Caption}}>{{$:/core/images/down-arrow}}</$button><$button message=\"tm-remove-field\" param=\"type\" class=\"tc-btn-invisible tc-btn-icon\" tooltip={{$:/language/EditTemplate/Type/Delete/Hint}} aria-label={{$:/language/EditTemplate/Type/Delete/Caption}}>{{$:/core/images/delete-button}}<$action-deletetiddler $filter=\"[<typeInputTiddler>] [<storeTitle>] [<refreshTitle>] [<selectionStateTitle>]\"/></$button>\n</$fieldmangler></div>\n\n<div class=\"tc-block-dropdown-wrapper\">\n<$set name=\"tv-show-missing-links\" value=\"yes\">\n<$reveal state=<<qualify \"$:/state/popup/type-dropdown\">> type=\"nomatch\" text=\"\" default=\"\">\n<div class=\"tc-block-dropdown tc-edit-type-dropdown\">\n<$linkcatcher to=\"!!type\">\n<$list filter='[all[shadows+tiddlers]prefix[$:/language/Docs/Types/]each[group]sort[group-sort]]'>\n<div class=\"tc-dropdown-item\">\n<$text text={{!!group}}/>\n</div>\n<$set name=\"userInput\" value={{{ [<typeInputTiddler>get[text]] }}}>\n<$list filter=\"[all[shadows+tiddlers]prefix[$:/language/Docs/Types/]group{!!group}] +[sort[description]] +[removeprefix[$:/language/Docs/Types/]] +[search<userInput>]\"><span class={{{ [<currentTiddler>addsuffix[-primaryList]] -[<typeSelectionTiddler>get[text]] +[then[]else[tc-list-item-selected]] }}}><$link to={{{ [<currentTiddler>addprefix[$:/language/Docs/Types/]get[name]] }}}><$view tiddler={{{ [<currentTiddler>addprefix[$:/language/Docs/Types/]] }}} field=\"description\"/><$text text=\" \"/>(<$view tiddler={{{ [<currentTiddler>addprefix[$:/language/Docs/Types/]] }}} field=\"name\"/>)</$link></span>\n</$list>\n</$set>\n</$list>\n</$linkcatcher>\n</div>\n</$reveal>\n</$set>\n</div>\n</div>\n</div>\n</$set>\n\\end\n\n\\procedure tag-body-inner(colour,fallbackTarget,colourA,colourB,icon,tagField:\"tags\")\n\\whitespace trim\n<$wikify name=\"foregroundColor\"\n\ttext=\"\"\"<$macrocall $name=\"contrastcolour\"\n\t\ttarget=<<colour>>\n\t\tfallbackTarget=<<fallbackTarget>>\n\t\tcolourA=<<colourA>>\n\t\tcolourB=<<colourB>>/>\n\t\"\"\"\n>\n\t<$let backgroundColor=<<colour>> >\n\t\t<span class=\"tc-tag-label tc-tag-list-item tc-small-gap-right\"\n\t\t\tdata-tag-title=<<currentTiddler>>\n\t\t\tstyle.color=<<foregroundColor>>\n\t\t\tstyle.fill=<<foregroundColor>>\n\t\t\tstyle.background-color=<<backgroundColor>>\n\t\t>\n\t\t\t<$transclude tiddler=<<icon>>/>\n\t\t\t<$view field=\"title\" format=\"text\"/>\n\t\t\t<$button class=\"tc-btn-invisible tc-remove-tag-button\"\n\t\t\t\tstyle.fill=<<foregroundColor>>\n\t\t\t>\n\t\t\t\t<$action-listops $tiddler=<<saveTiddler>> $field=<<tagField>> $subfilter=\"-[{!!title}]\"/>\n\t\t\t\t{{$:/core/images/close-button}}\n\t\t\t</$button>\n\t\t</span>\n\t</$let>\n</$wikify>\n\\end\n\n\\procedure tag-body(colour,palette,icon,tagField:\"tags\")\n\\whitespace trim\n<$macrocall $name=\"tag-body-inner\"\n\tcolour=`$(colour)$`\n\tcolourA={{{ [<palette>getindex[foreground]] }}}\n\tcolourB={{{ [<palette>getindex[background]] }}}\n\tfallbackTarget={{{ [<palette>getindex[tag-background]] }}}\n\ticon=<<icon>>\n\ttagField=<<tagField>>\n/>\n\\end\n\n\\procedure edit-tags-template(tagField:\"tags\")\n\\whitespace trim\n<div class=\"tc-edit-tags\">\n\t<$list filter=\"[<currentTiddler>get<tagField>enlist-input[]sort[title]]\" storyview=\"tiddlypop\">\n\t\t<$macrocall $name=\"tag-body\"\n\t\t\tcolour={{{ [<currentTiddler>] :cascade[all[shadows+tiddlers]tag[$:/tags/TiddlerColourFilter]!is[draft]get[text]] }}}\n\t\t\tpalette={{$:/palette}}\n\t\t\ticon={{{ [<currentTiddler>] :cascade[all[shadows+tiddlers]tag[$:/tags/TiddlerIconFilter]!is[draft]get[text]] }}}\n\t\t\ttagField=<<tagField>>\n\t\t/>\n\t</$list>\n\t<$let tabIndex={{$:/config/EditTabIndex}} cancelPopups=\"yes\">\n\t\t<$macrocall $name=\"tag-picker\" tagField=<<tagField>>/>\n\t</$let>\n</div>\n\\end\n\\procedure toolbar-button-icon()\n\\whitespace trim\n<$list\n\n  filter=\"[all[current]!has[custom-icon]]\"\n  variable=\"no-custom-icon\"\n\n><$transclude\n\n  tiddler={{!!icon}}\n\n/></$list>\n\\end\n\n\\procedure toolbar-button-wikified-dropdown()\n\\whitespace trim\n<$reveal\n\n  state=<<dropdown-state>>\n  type=\"popup\"\n  position=\"below\"\n  animate=\"yes\"\n  retain=\"yes\"\n  tag=\"span\"\n\n><div\n\n  class=\"tc-drop-down tc-popup-keep\"\n\n><$transclude\n\n  tiddler={{!!dropdown}}\n  mode=\"block\"\n\n/></div></$reveal>\n\\end\n\n\\procedure toolbar-button-wikified-dropdown-button()\n\\whitespace trim\n<$button\n\n  popup=<<dropdown-state>>\n  class={{{ tc-popup-keep tc-btn-invisible [[$(buttonClasses)$]substitute[]] +[join[ ]] }}}\n  selectedClass=\"tc-selected\"\n  tooltip=<<tooltip-text>>\n  actions={{!!actions}}\n  disabled=<<disabled>>\n\n><span\n\n  data-tw-keyboard-shortcut={{{ [<disabled>match[yes]then[]else{!!shortcuts}] }}}\n\n/><<toolbar-button-icon>><$transclude\n\n  tiddler=<<currentTiddler>>\n  field=\"text\"\n\n/></$button>\n\\end\n\n\\procedure toolbar-button-wikified-button()\n\\whitespace trim\n<$button\n\n  class={{{ tc-btn-invisible [[$(buttonClasses)$]substitute[]] +[join[ ]] }}}\n  tooltip=<<tooltip-text>>\n  actions={{!!actions}}\n  disabled=<<disabled>>\n\n><span\n\n  data-tw-keyboard-shortcut={{{ [<disabled>match[yes]then[]else{!!shortcuts}] }}}\n\n/><<toolbar-button-icon>><$transclude\n\n  tiddler=<<currentTiddler>>\n  field=\"text\"\n\n/></$button>\n\\end\n\n\\procedure toolbar-button-wikified()\n\\whitespace trim\n<$wikify\n\n  name=\"tooltip-text\"\n  text=<<toolbar-button-tooltip>>\n  mode=\"inline\"\n  output=\"text\"\n\n><$list\n\n  filter=\"[all[current]!has[dropdown]]\"\n  variable=\"no-dropdown\"\n\n><$set name=disabled filter={{!!condition-disabled}}><<toolbar-button-wikified-button>></$set></$list><$list\n\n  filter=\"[all[current]has[dropdown]]\"\n  variable=\"dropdown\"\n\n><$set\n\n  name=\"dropdown-state\"\n  value=<<qualify \"$:/state/EditorToolbarDropdown\">>\n\n><$set name=disabled filter={{!!condition-disabled}}><<toolbar-button-wikified-dropdown-button>></$set><<toolbar-button-wikified-dropdown>></$set></$list></$wikify>\n\\end\n\n\\procedure toolbar-button-tooltip()\n\\whitespace trim\n{{!!description}}<$macrocall $name=\"displayshortcuts\" $output=\"text/plain\" shortcuts={{!!shortcuts}} prefix=\"` - [\" separator=\"] [\" suffix=\"]`\"/>\n\\end\n\n\\procedure toolbar-button()\n\\whitespace trim\n<$list\n\n  filter={{!!condition}}\n  variable=\"list-condition\"\n\n><<toolbar-button-wikified>></$list>\n\\end\n\n\\procedure toolbar-button-outer()\n\\whitespace trim\n<$set\n\n  name=\"buttonClasses\"\n  value={{!!button-classes}}\n\n><<toolbar-button>></$set>\n\\end\n\n\\procedure tdfp-tiddlyflex-viewtemplate-body-code()\n\\whitespace trim\n<$codeblock code={{{ [<currentTiddler>get[text]] }}} language={{{ [<currentTiddler>get[type]else[text/vnd.tiddlywiki]] }}}/>\n\\end\n\n\\procedure tdfp-tiddlyflex-viewtemplate-body-default()\n\\whitespace trim\n<$transclude>\n\n<$transclude tiddler=\"$:/language/MissingTiddler/Hint\"/>\n\n</$transclude>\n\\end\n\n\\procedure tdfp-tiddlyflex-viewtemplate-body-import()\n\\whitespace trim\n<$list filter=\"[all[current]field:plugin-type[import]]\">\n\n<div class=\"tc-import\">\n\n<<lingo Listing/Hint>>\n\n<<buttons>>\n\n{{||$:/core/ui/ImportListing}}\n\n<<buttons>>\n\n</div>\n\n</$list>\n\\end\n\n\\procedure tdfp-tiddlyflex-viewtemplate-body-plugin()\n\\whitespace trim\n<div class=\"tc-tiddler-plugin-info\">\n<$let plugin-type={{!!plugin-type}}\n\tdefault-popup-state=\"yes\"\n\tqualified-state=<<qualify \"$:/state/plugin-info\">>\n>\n{{||$:/core/ui/Components/plugin-info}}\n</$let>\n</div>\n\\end\n\n\\procedure tdfp-tiddlyflex-viewtemplate-body-rendered-plain-text()\n\\whitespace trim\n<$wikify name=\"text\" text={{!!text}} type={{!!type}}>\n<$codeblock code=<<text>> language=\"css\"/>\n</$wikify>\n\\end\n\n\\procedure tdfp-tiddlyflex-viewtemplate-body()\n\\whitespace trim\n<$reveal tag=\"div\" class=\"tc-tiddler-body\" type=\"nomatch\" stateTitle=<<folded-state>> text=\"hide\" retain=\"yes\" animate=\"yes\">\n\n<$transclude tiddler={{{ [<currentTiddler>] :cascade[all[shadows+tiddlers]tag[$:/tags/TiddlyFlex/ViewTemplateBodyFilter]!is[draft]get[text]] :and[!is[blank]else[$:/plugins/BTC/TiddlyFlex/ui/ViewTemplate/body/default]] }}} />\n\n</$reveal>\n\\end\n\n\\procedure tdfp-tiddlyflex-viewtemplate-classic()\n\\whitespace trim\n<$list filter=\"[all[current]type[text/x-tiddlywiki]]\">\n<div class=\"tc-message-box\">\n\n<<lingo Hint>>\n\n<$button set=\"!!type\" setTo=\"text/vnd.tiddlywiki\"><<lingo Upgrade/Caption>></$button>\n\n</div>\n</$list>\n\\end\n\n\\procedure tdfp-tiddlyflex-viewtemplate-subtitle-modified()\n\\whitespace trim\n<$view field=\"modified\" format=\"date\" template={{$:/language/Tiddler/DateFormat}}/>\n\\end\n\n\\procedure tdfp-tiddlyflex-viewtemplate-subtitle-modifier()\n\\whitespace trim\n<$link to={{!!modifier}}/>\n\\end\n\n\\procedure tdfp-tiddlyflex-viewtemplate-subtitle()\n\\whitespace trim\n<$reveal type=\"nomatch\" stateTitle=<<folded-state>> text=\"hide\" tag=\"div\" retain=\"yes\" animate=\"yes\">\n<div class=\"tc-subtitle\">\n<$list filter=\"[all[shadows+tiddlers]tag[$:/tags/TiddlyFlex/ViewTemplate/Subtitle]!has[draft.of]]\" variable=\"subtitleTiddler\">\n<$transclude tiddler=<<subtitleTiddler>> mode=\"inline\"/><$list-join>&nbsp;</$list-join>\n</$list>\n</div>\n</$reveal>\n\\end\n\n\\procedure tdfp-tiddlyflex-viewtemplate-tags()\n\\whitespace trim\n<$reveal type=\"nomatch\" stateTitle=<<folded-state>> text=\"hide\" tag=\"div\" retain=\"yes\" animate=\"yes\">\n<div class=\"tc-tags-wrapper\"><$list filter=\"[all[current]tags[]sort[title]]\" template=\"$:/plugins/BTC/TiddlyFlex/ui/TagTemplate\" storyview=\"tiddlypop\"/></div>\n</$reveal>\n\\end\n\n\\procedure tdfp-tiddlyflex-viewtemplate-title-default()\n\\whitespace trim\n<h2 class=\"tc-title\">\n<$view field=\"title\"/>\n</h2>\n\\end\n\n\\procedure tdfp-tiddlyflex-viewtemplate-title-system()\n\\whitespace trim\n<h2 class=\"tc-title\" title={{$:/language/SystemTiddler/Tooltip}}>\n<span class=\"tc-system-title-prefix\">$:/</span><$text text={{{ [<currentTiddler>removeprefix[$:/]] }}}/>\n</h2>\n\\end\n\n\\procedure tdfp-tiddlyflex-viewtemplate-title()\n\\whitespace trim\n<div class=\"tc-tiddler-title\">\n\t<div class=\"tc-titlebar\">\n\t\t<span class=\"tc-tiddler-controls\">\n\t\t\t<$list filter=\"[all[shadows+tiddlers]tag[$:/tags/ViewToolbar]!has[draft.of]] :filter[lookup[$:/config/ViewToolbarButtons/Visibility/]!match[hide]]\"\n\t\t\t\tstoryview=\"tiddlypop\"\n\t\t\t\tvariable=\"listItem\"\n\t\t\t>\n\t\t\t\t<$set name=\"tv-config-toolbar-class\" filter=\"[<tv-config-toolbar-class>] [<listItem>encodeuricomponent[]addprefix[tc-btn-]]\">\n\t\t\t\t\t<$transclude tiddler=<<listItem>>/>\n\t\t\t\t</$set>\n\t\t\t</$list>\n\t\t</span>\n\t\t<$set name=\"tv-wikilinks\" value={{$:/config/Tiddlers/TitleLinks}}>\n\t\t\t<$link>\n\t\t\t\t<%if [<currentTiddler>] :cascade[all[shadows+tiddlers]tag[$:/tags/TiddlerIconFilter]!is[draft]get[text]] +[!is[blank]] %>\n\t\t\t\t\t<$let foregroundColor={{{ [<currentTiddler>] :cascade[all[shadows+tiddlers]tag[$:/tags/TiddlerColourFilter]!is[draft]get[text]] }}}>\n\t\t\t\t\t\t<span class=\"tc-tiddler-title-icon\" style=<<title-styles>>>\n\t\t\t\t\t\t\t{{||$:/core/ui/TiddlerIcon}}\n\t\t\t\t\t\t</span>\n\t\t\t\t\t</$let>\n\t\t\t\t<% endif %>\n\t\t\t\t<$transclude tiddler={{{ [<currentTiddler>] :cascade[all[shadows+tiddlers]tag[$:/tags/TiddlyFlex/ViewTemplateTitleFilter]!is[draft]get[text]] :and[!is[blank]else[$:/plugins/BTC/TiddlyFlex/ui/ViewTemplate/title/default]] }}} />\n\t\t\t</$link>\n\t\t</$set>\n\t</div>\n\t<$reveal tag=\"div\" type=\"nomatch\" text=\"\" default=\"\" state=<<tiddlerInfoState>> class=\"tc-tiddler-info tc-popup-handle\" animate=\"yes\" retain=\"yes\">\n\t\t<$list filter=\"[all[shadows+tiddlers]tag[$:/tags/TiddlerInfoSegment]!has[draft.of]] [[$:/core/ui/TiddlerInfo]]\" variable=\"listItem\">\n\t\t\t<$transclude tiddler=<<listItem>> mode=\"block\"/>\n\t\t</$list>\n\t</$reveal>\n</div>\n\\end\n\n\\procedure tdfp-tiddlyflex-viewtemplate-unfold()\n\\whitespace trim\n<div class=\"tc-reveal\">\n<%if [{$:/config/ViewToolbarButtons/Visibility/$:/core/ui/Buttons/fold-bar}match[show]] %>\n<$reveal tag=\"div\" type=\"nomatch\" stateTitle=<<folded-state>> text=\"hide\" default=\"show\" retain=\"yes\" animate=\"yes\">\n<$button tooltip={{$:/language/Buttons/Fold/Hint}} aria-label={{$:/language/Buttons/Fold/Caption}} class=\"tc-fold-banner\">\n<$action-sendmessage $message=\"tm-fold-tiddler\" $param=<<currentTiddler>> foldedState=<<folded-state>>/>\n{{$:/core/images/chevron-up}}\n</$button>\n</$reveal>\n<% endif %>\n<%if [{$:/config/ViewToolbarButtons/Visibility/$:/core/ui/Buttons/fold-bar}match[show]] :else[<folded-state>get[text]match[hide]] %>\n<$reveal tag=\"div\" type=\"nomatch\" stateTitle=<<folded-state>> text=\"show\" default=\"show\" retain=\"yes\" animate=\"yes\">\n<$button tooltip={{$:/language/Buttons/Unfold/Hint}} aria-label={{$:/language/Buttons/Unfold/Caption}} class=\"tc-unfold-banner\">\n<$action-sendmessage $message=\"tm-fold-tiddler\" $param=<<currentTiddler>> foldedState=<<folded-state>>/>\n{{$:/core/images/chevron-down}}\n</$button>\n</$reveal>\n<% endif %>\n</div>\n\\end\n\n\\procedure tdfp-tiddlyflex-templates-list-item-template()\n\\whitespace trim\n<div class=\"tc-menu-list-item\"><$link /></div>\n\\end\n\n\\procedure tdfp-tiddlyflex-templates-tag-template()\n\\whitespace trim\n<span class=\"tc-tag-list-item\" data-tag-title=<<currentTiddler>>>\n<$set name=\"transclusion\" value=<<currentTiddler>>>\n\t<$macrocall $name=\"tag-pill-body\"\n\t\ttag=<<currentTiddler>>\n\t\ticon={{{ [<currentTiddler>] :cascade[all[shadows+tiddlers]tag[$:/tags/TiddlerIconFilter]!is[draft]get[text]] }}}\n\t\tcolour={{{ [<currentTiddler>] :cascade[all[shadows+tiddlers]tag[$:/tags/TiddlerColourFilter]!is[draft]get[text]] }}}\n\t\tpalette={{$:/palette}}\n\t\telement-tag=\"$button\"\n\t\telement-attributes=\"\"\"popup=<<qualify \"$:/state/popup/tag\">> dragFilter=\"[all[current]tagging[]]\" tag='span'\"\"\"\n\t/>\n\t<$reveal state=<<qualify \"$:/state/popup/tag\">> type=\"popup\" position=\"below\" animate=\"yes\" class=\"tc-drop-down\">\n\t\t<$set name=\"tv-show-missing-links\" value=\"yes\">\n\t\t\t<$transclude tiddler=\"$:/plugins/BTC/TiddlyFlex/ui/ListItemTemplate\"/>\n\t\t</$set>\n\t\t<$list filter=\"[all[shadows+tiddlers]tag[$:/tags/TagDropdown]!has[draft.of]]\" variable=\"listItem\"> \n\t\t\t<$transclude tiddler=<<listItem>>/>\n\t\t</$list>\n\t\t<hr>\n\t\t<$macrocall $name=\"list-tagged-draggable\" tag=<<currentTiddler>>/>\n\t</$reveal>\n</$set>\n</span>\n\\end"},"$:/plugins/BTC/TiddlyFlex/globals/navigation":{"title":"$:/plugins/BTC/TiddlyFlex/globals/navigation","tags":"$:/tags/Global","text":"\\procedure tiddlyflex-navigate-story-river-actions-selector()\n\\rules only filteredtranscludeinline transcludeinline macrodef macrocallinline macrocallblock whitespace\n.tc-tiddlyflex-story-river-{{{ [[$(tiddlyFlexColumn)$]substitute[]] }}} [data-tiddler-title={{{ [[$(navigateToCSSEscaped)$]substitute[]addprefix[\"]addsuffix[\"]] }}}]\n\\end\n\\function edit-missing-tiddler() [{$:/config/tiddlyflex/navigation/edit-missing-tiddlers}match[yes]then<event-navigateTo>!is[shadow]is[missing]]\n\\procedure tiddlyflex-navigate-story-river-actions-navigate()\n<$set name=\"storyTiddler\" value={{{ [<tv-history-list>get[current-tiddler]] :intersection[list<tv-story-list>] ~[[$:/HistoryList-]addsuffix[$:/columns!!current-column]get[current-tiddler]] }}}>\n\t<$action-sendmessage\n\t\t$message=\"tm-navigate\"\n\t\t$navigateTo=<<event-navigateTo>>\n\t\t$navigateFromTitle={{{ [<storyTiddler>!is[blank]!match[]] ~[<event-navigateFromTitle>] }}}\n\t\t$navigateFromClientRect=<<event-navigateFromClientRect>>\n\t\t$navigateFromClientTop=<<event-navigateFromClientTop>>\n\t\t$navigateFromClientLeft=<<event-navigateFromClientLeft>>\n\t\t$navigateFromClientWidth=<<event-navigateFromClientWidth>>\n\t\t$navigateFromClientRight=<<event-navigateFromClientRight>>\n\t\t$navigateFromClientBottom=<<event-navigateFromClientBottom>>\n\t\t$navigateFromClientHeight=<<event-navigateFromClientHeight>>\n\t\t$navigateSuppressNavigation={{{ [<modifier>match[ctrl]then[true]] [<modifier>match[meta]then[true]] [<modifier>match[alt]then[true]] +[match[true]else[false]] }}}\n\t\t$names=\"[<list-event-paramObject>enlist-input[]]\"\n\t\t$values=\"[<list-event-paramObject>enlist-input[]] :map:flat[addprefix[event-paramObject-]getvariable[]]\"/>\n</$set>\n\\end\n\\procedure tiddlyflex-navigate-story-river-actions-inner-inner()\n<$let tv-story-list={{{ [[$:/StoryList-]addsuffix<tiddlyFlexColumn>] }}} tv-history-list={{{ [[$:/HistoryList-]addsuffix<tiddlyFlexColumn>] }}}>\n\t<%if [[$:/columns]!contains<tiddlyFlexColumn>] %>\n\t\t<$action-listops $tiddler=\"$:/columns\" $subfilter=\"[<tiddlyFlexColumn>]\"/>\n\t<% endif %>\n\t<$navigator story=<<tv-story-list>> history=<<tv-history-list>> openLinkFromInsideRiver={{$:/config/Navigation/openLinkFromInsideRiver}} openLinkFromOutsideRiver={{$:/config/Navigation/openLinkFromInsideRiver}} relinkOnRename={{$:/config/RelinkOnRename}}>\n\t\t<<tiddlyflex-navigate-story-river-actions-navigate>>\n\t\t<%if [function[edit-missing-tiddler]] %>\n\t\t\t<$action-sendmessage\n\t\t\t\t$message=\"tm-edit-tiddler\"\n\t\t\t\t$param=<<event-navigateTo>>\n\t\t\t\t$tiddlerTitle=<<event-tiddlerTitle>>\n\t\t\t\t$names=\"[<list-event-paramObject>enlist-input[]]\"\n\t\t\t\t$values=\"[<list-event-paramObject>enlist-input[]] :map:flat[addprefix[event-paramObject-]getvariable[]]\"/>\n\t\t<% endif %>\n\t</$navigator>\n</$let>\n\\end\n\\procedure tiddlyflex-navigate-story-river-actions-inner()\n<%if [<modifier>match[shift]] %>\n\t<$let currentColumn=<<tiddlyFlexColumn>> tiddlyFlexColumn={{{ [<currentColumn>add[1]] }}}>\n\t\t<<tiddlyflex-navigate-story-river-actions-inner-inner>>\n\t</$let>\n<% elseif [<modifier>match[alt-shift]] %>\n\t<$let currentColumn=<<tiddlyFlexColumn>> tiddlyFlexColumn={{{ [<tiddlyFlexColumn>!match[1]subtract[1]] ~1 }}}>\n\t\t<<tiddlyflex-navigate-story-river-actions-inner-inner>>\n\t</$let>\n<% endif %>\n\\end\n\\procedure tiddlyflex-navigate-story-river-actions()\n\\function tiddlyflex-no-shift-alt() [<modifier>!match[shift]then<modifier>!match[alt-shift]]\n<%if [subfilter<tdff.tiddlyflex-enlist-columns>] +[addprefix[$:/StoryList-]] +[enlist-input[]] +[contains<event-navigateTo>] %>\n\t<%if [function[tiddlyflex-no-shift-alt]] %>\n\t\t<$list filter=\"[subfilter<tdff.tiddlyflex-enlist-columns>]\" variable=\"tiddlyFlexColumn\">\n\t\t\t<$let tv-story-list={{{ [[$:/StoryList-]addsuffix<tiddlyFlexColumn>] }}} tv-history-list={{{ [[$:/HistoryList-]addsuffix<tiddlyFlexColumn>] }}} navigateToCSSEscaped={{{ [<event-navigateTo>escapecss[]] }}}>\n\t\t\t\t<%if [<tv-story-list>contains<event-navigateTo>] %>\n\t\t\t\t\t<%if [<modifier>!match[ctrl]then<modifier>!match[meta]then<modifier>!match[alt]] %>\n\t\t\t\t\t\t<$wikify name=\"scrollSelector\" text=<<tiddlyflex-navigate-story-river-actions-selector>>>\n\t\t\t\t\t\t\t<$action-sendmessage $message=\"tm-scroll\" selector=<<scrollSelector>>/>\n\t\t\t\t\t\t</$wikify>\n\t\t\t\t\t<% endif %>\n\t\t\t\t\t<%if [function[edit-missing-tiddler]] %>\n\t\t\t\t\t\t<$navigator story=<<tv-story-list>> history=<<tv-history-list>> openLinkFromInsideRiver={{$:/config/Navigation/openLinkFromInsideRiver}} openLinkFromOutsideRiver={{$:/config/Navigation/openLinkFromInsideRiver}} relinkOnRename={{$:/config/RelinkOnRename}}>\n\t\t\t\t\t\t\t<$set name=\"currentColumn\" value=<<tiddlyFlexColumn>>>\n\t\t\t\t\t\t\t\t<<tiddlyflex-navigate-story-river-actions-navigate>>\n\t\t\t\t\t\t\t</$set>\n\t\t\t\t\t\t\t<$action-sendmessage\n\t\t\t\t\t\t\t\t$message=\"tm-edit-tiddler\"\n\t\t\t\t\t\t\t\t$param=<<event-navigateTo>> \n\t\t\t\t\t\t\t\t$names=\"[<list-event-paramObject>enlist-input[]]\"\n\t\t\t\t\t\t\t\t$values=\"[<list-event-paramObject>enlist-input[]] :map:flat[addprefix[event-paramObject-]getvariable[]]\"/>\n\t\t\t\t\t\t</$navigator>\n\t\t\t\t\t<% endif %>\n\t\t\t\t<% endif %>\n\t\t\t</$let>\n\t\t</$list>\n\t<% else %>\n\t\t<<tiddlyflex-navigate-story-river-actions-inner>>\n\t<% endif %>\n<% else %>\n\t<%if [function[tiddlyflex-no-shift-alt]] %>\n\t\t<%if [function[edit-missing-tiddler]] %>\n\t\t\t<$navigator story={{{ [<tiddlyFlexColumn>addprefix[$:/StoryList-]] }}} history={{{ [<tiddlyFlexColumn>addprefix[$:/HistoryList-]] }}} openLinkFromInsideRiver={{$:/config/Navigation/openLinkFromInsideRiver}} openLinkFromOutsideRiver={{$:/config/Navigation/openLinkFromInsideRiver}} relinkOnRename={{$:/config/RelinkOnRename}}>\n\t\t\t\t<$set name=\"currentColumn\" value=<<tiddlyFlexColumn>>>\n\t\t\t\t\t<<tiddlyflex-navigate-story-river-actions-navigate>>\n\t\t\t\t</$set>\n\t\t\t\t<$action-sendmessage\n\t\t\t\t\t$message=\"tm-edit-tiddler\"\n\t\t\t\t\t$param=<<event-navigateTo>>\n\t\t\t\t\t$names=\"[<list-event-paramObject>enlist-input[]]\"\n\t\t\t\t\t$values=\"[<list-event-paramObject>enlist-input[]] :map:flat[addprefix[event-paramObject-]getvariable[]]\"/>\n\t\t\t</$navigator>\n\t\t<% else %>\n\t\t\t<$navigator story={{{ [<tv-story-list>!is[blank]!match[]] ~[[$:/StoryList-]addsuffix<tiddlyFlexColumn>] }}} history={{{ [<tv-history-list>!is[blank]!match[]] ~[[$:/HistoryList-]addsuffix<tiddlyFlexColumn>] }}} openLinkFromInsideRiver={{$:/config/Navigation/openLinkFromInsideRiver}} openLinkFromOutsideRiver={{$:/config/Navigation/openLinkFromInsideRiver}} relinkOnRename={{$:/config/RelinkOnRename}}>\n\t\t\t\t<$set name=\"currentColumn\" value=<<tiddlyFlexColumn>>>\n\t\t\t\t\t<<tiddlyflex-navigate-story-river-actions-navigate>>\n\t\t\t\t</$set>\n\t\t\t</$navigator>\n\t\t<% endif %>\n\t<% else %>\n\t\t<<tiddlyflex-navigate-story-river-actions-inner>>\n\t<% endif %>\n<% endif %>\n\\end\n\\procedure tiddlyflex-cancel-draft-tiddler-actions-draft-of-not-is-missing()\n<$list filter=\"[subfilter<tdff.tiddlyflex-enlist-columns>!match<tiddlyFlexColumn>]\" variable=\"tiddlyFlexColumn\">\n\t<$set name=\"tv-story-list\" value={{{ [[$:/StoryList-]addsuffix<tiddlyFlexColumn>!match[$:/StoryList-]] ~$:/StoryList-1 }}}>\n\t\t<%if [<tv-story-list>contains<currentTiddler>] %>\n\t\t\t<$set name=\"index\" value={{{ [subfilter<tdff.tiddlyflex-story-river-filter>] +[allbefore<currentTiddler>add[1]] }}}>\n\t\t\t\t<$let nextTiddler={{{ [<tdff.tiddlyflex-story-river-filter>] +[zth<index>] }}} viewTiddler={{{ [<currentTiddler>get[draft.of]] }}}>\n\t\t\t\t\t<$action-listops $tiddler=<<tv-story-list>> $subfilter=\"+[insertbefore<viewTiddler>,<nextTiddler>]\"/>\n\t\t\t\t\t<$action-listops $tiddler=<<tv-story-list>> $subfilter=\"-[<currentTiddler>]\"/>\n\t\t\t\t</$let>\n\t\t\t</$set>\n\t\t<% endif %>\n\t</$set>\n</$list>\n<<delete-edittemplate-state-tiddlers>>\n<%if [[$:/state/tiddlyflex/story-river/fullscreen/]addsuffix<currentTiddler>!is[missing]] %>\n\t<$action-sendmessage $message=\"tm-rename-tiddler\" from={{{ [[$:/state/tiddlyflex/story-river/fullscreen/]addsuffix<currentTiddler>] }}} to={{{ [<currentTiddler>get[draft.of]addprefix[$:/state/tiddlyflex/story-river/fullscreen/]] }}}/>\n<% endif %>\n<$navigator story={{{ [<tiddlyFlexColumn>addprefix[$:/StoryList-]] }}} history={{{ [<tiddlyFlexColumn>addprefix[$:/HistoryList-]] }}} openLinkFromInsideRiver={{$:/config/Navigation/openLinkFromInsideRiver}} openLinkFromOutsideRiver={{$:/config/Navigation/openLinkFromInsideRiver}} relinkOnRename={{$:/config/RelinkOnRename}}>\n\t<$action-sendmessage\n\t\t$message=\"tm-cancel-tiddler\"\n\t\t$param={{{ [<event-param>!is[blank]!match[]] ~[<event-tiddlerTitle>] }}}\n\t\t$names=\"[<list-event-paramObject>enlist-input[]]\"\n\t\t$values=\"[<list-event-paramObject>enlist-input[]] :map:flat[addprefix[event-paramObject-]getvariable[]]\"/>\n</$navigator>\n\\end\n\\procedure tiddlyflex-cancel-draft-tiddler-actions()\n<%if [<currentTiddler>get[draft.of]!is[shadow]is[missing]] %>\n\t<$list filter=\"[subfilter<tdff.tiddlyflex-enlist-columns>!match<tiddlyFlexColumn>]\" variable=\"tiddlyFlexColumn\">\n\t\t<$set name=\"tv-story-list\" value={{{ [[$:/StoryList-]addsuffix<tiddlyFlexColumn>!match[$:/StoryList-]] ~$:/StoryList-1 }}}>\n\t\t\t<$list filter=\"[<tv-story-list>contains<currentTiddler>]\" variable=\"ignore\">\n\t\t\t\t<$action-listops $tiddler=<<tv-story-list>> $subfilter=\"-[<currentTiddler>]\"/>\n\t\t\t</$list>\n\t\t</$set>\n\t</$list>\n\t<<delete-edittemplate-state-tiddlers>>\n\t<$action-deletetiddler $tiddler={{{ [[$:/state/tiddlyflex/story-river/fullscreen/]addsuffix<currentTiddler>] }}}/>\n\t<$let scrollTiddler={{{ [<tdff.tiddlyflex-story-river-filter>] +[after<currentTiddler>] ~[<tdff.tiddlyflex-story-river-filter>before<currentTiddler>] }}}>\n\t\t<$action-setfield $tiddler=<<tv-history-list>> current-tiddler=<<scrollTiddler>>/>\n\t\t<$action-sendmessage\n\t\t\t$message=\"tm-cancel-tiddler\"\n\t\t\t$param={{{ [<event-param>!is[blank]!match[]] ~[<event-tiddlerTitle>] }}}\n\t\t\t$names=\"[<list-event-paramObject>enlist-input[]]\"\n\t\t\t$values=\"[<list-event-paramObject>enlist-input[]] :map:flat[addprefix[event-paramObject-]getvariable[]]\"/>\n\t</$let>\n<% else %>\n\t<<tiddlyflex-cancel-draft-tiddler-actions-draft-of-not-is-missing>>\n<% endif %>\n\\end\n\\procedure tiddlyflex-delete-draft-tiddler-actions()\n<$let deleteTiddlerViewMode={{{ [<currentTiddler>get[draft.of]] }}} deleteTiddlerEditMode=<<currentTiddler>>>\n\t<$list filter=\"[subfilter<tdff.tiddlyflex-enlist-columns>!match<tiddlyFlexColumn>]\" variable=\"tiddlyFlexColumn\">\n\t\t<$set name=\"tv-story-list\" value={{{ [[$:/StoryList-]addsuffix<tiddlyFlexColumn>!match[$:/StoryList-1]] ~[[$:/StoryList]] }}}>\n\t\t\t<%if [<tv-story-list>contains<deleteTiddlerViewMode>] %>\n\t\t\t\t<$action-listops $tiddler=<<tv-story-list>> $subfilter=\"-[<deleteTiddlerViewMode>]\"/>\n\t\t\t<% elseif [<tv-story-list>contains<deleteTiddlerEditMode>] %>\n\t\t\t\t<$action-listops $tiddler=<<tv-story-list>> $subfilter=\"-[<deleteTiddlerEditMode>]\"/>\n\t\t\t<% endif %>\n\t\t</$set>\n\t</$list>\n</$let>\n<<delete-edittemplate-state-tiddlers>>\n<$action-deletetiddler $tiddler={{{ [[$:/state/tiddlyflex/story-river/fullscreen/]addsuffix<currentTiddler>] }}}/>\n<$action-deletetiddler $tiddler=<<qualifiedSearchPanelState>>/>\n<$let scrollTiddler={{{ [<tdff.tiddlyflex-story-river-filter>] +[after<currentTiddler>] ~[<tdff.tiddlyflex-story-river-filter>before<currentTiddler>] }}}>\n\t<$action-setfield $tiddler=<<tv-history-list>> current-tiddler=<<scrollTiddler>>/>\n\t<$action-sendmessage\n\t\t$message=\"tm-delete-tiddler\"\n\t\t$param={{{ [<event-param>!is[blank]!match[]] ~[<event-tiddlerTitle>] }}}\n\t\t$names=\"[<list-event-paramObject>enlist-input[]]\"\n\t\t$values=\"[<list-event-paramObject>enlist-input[]] :map:flat[addprefix[event-paramObject-]getvariable[]]\"/>\n</$let>\n\\end"},"$:/plugins/BTC/TiddlyFlex/icons/drag-grip":{"title":"$:/plugins/BTC/TiddlyFlex/icons/drag-grip","text":"<svg width=\"1rem\" height=\"1rem\" viewBox=\"0 0 24 24\" fill=\"none\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\" class=\"lucide lucide-grip\"><circle cx=\"12\" cy=\"5\" r=\"1\"/><circle cx=\"19\" cy=\"5\" r=\"1\"/><circle cx=\"5\" cy=\"5\" r=\"1\"/><circle cx=\"12\" cy=\"12\" r=\"1\"/><circle cx=\"19\" cy=\"12\" r=\"1\"/><circle cx=\"5\" cy=\"12\" r=\"1\"/><circle cx=\"12\" cy=\"19\" r=\"1\"/><circle cx=\"19\" cy=\"19\" r=\"1\"/><circle cx=\"5\" cy=\"19\" r=\"1\"/></svg>"},"$:/plugins/BTC/TiddlyFlex/icons/filter":{"title":"$:/plugins/BTC/TiddlyFlex/icons/filter","text":"<svg width=\"1rem\" height=\"1rem\" viewBox=\"0 0 24 24\" fill=\"none\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\" class=\"lucide lucide-filter\"><polygon points=\"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3\"/></svg>"},"$:/plugins/BTC/TiddlyFlex/icons/horizontal":{"title":"$:/plugins/BTC/TiddlyFlex/icons/horizontal","text":"<svg width=\"1rem\" height=\"1rem\" viewBox=\"0 0 24 24\" fill=\"none\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\" class=\"lucide lucide-chevrons-left-right\"><path d=\"m9 7-5 5 5 5\"/><path d=\"m15 7 5 5-5 5\"/></svg>"},"$:/plugins/BTC/TiddlyFlex/icons/layout":{"title":"$:/plugins/BTC/TiddlyFlex/icons/layout","text":"<svg width=\"1rem\" height=\"1rem\" viewBox=\"0 0 24 24\" fill=\"none\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\" class=\"lucide lucide-layout-dashboard\"><rect width=\"7\" height=\"9\" x=\"3\" y=\"3\" rx=\"1\"/><rect width=\"7\" height=\"5\" x=\"14\" y=\"3\" rx=\"1\"/><rect width=\"7\" height=\"9\" x=\"14\" y=\"12\" rx=\"1\"/><rect width=\"7\" height=\"5\" x=\"3\" y=\"16\" rx=\"1\"/></svg>"},"$:/plugins/BTC/TiddlyFlex/icons/vertical":{"title":"$:/plugins/BTC/TiddlyFlex/icons/vertical","text":"<svg width=\"1rem\" height=\"1rem\" viewBox=\"0 0 24 24\" fill=\"none\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\" class=\"lucide lucide-chevrons-up-down\"><path d=\"m7 15 5 5 5-5\"/><path d=\"m7 9 5-5 5 5\"/></svg>"},"$:/plugins/BTC/TiddlyFlex/license":{"title":"$:/plugins/BTC/TiddlyFlex/license","text":"!!! This plugin is distributed under MIT License\n\n```\n\nMIT License\n\nCopyright (c) 2024 Simon Huber\n\nPermission is hereby granted, free of charge, to any person obtaining a copy\nof this software and associated documentation files (the \"Software\"), to deal\nin the Software without restriction, including without limitation the rights\nto use, copy, modify, merge, publish, distribute, sublicense, and/or sell\ncopies of the Software, and to permit persons to whom the Software is\nfurnished to do so, subject to the following conditions:\n\nThe above copyright notice and this permission notice shall be included in all\ncopies or substantial portions of the Software.\n\nTHE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\nIMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\nFITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\nAUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\nLIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\nOUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\nSOFTWARE.\n\n```\n\n!!! Lucide icons are distributed under ISC License\n\n```\nISC License\n\nCopyright (c) for portions of Lucide are held by Cole Bemis 2013-2022 as part of Feather (MIT). All other copyright (c) for Lucide are held by Lucide Contributors 2022.\n\nPermission to use, copy, modify, and/or distribute this software for any purpose with or without fee is hereby granted, provided that the above copyright notice and this permission notice appear in all copies.\n\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.\n\n```\n\n!!! The configuration panel is copied from [ext[@saqimtiaz'|https://github.com/saqimtiaz]] [ext[streams plugin|https://github.com/saqimtiaz/streams]]\n\n```\n\nBSD 3-Clause License\n\nCopyright (c) 2020, saqimtiaz\nAll rights reserved.\n\nRedistribution and use in source and binary forms, with or without\nmodification, are permitted provided that the following conditions are met:\n\n1. Redistributions of source code must retain the above copyright notice, this\n   list of conditions and the following disclaimer.\n\n2. Redistributions in binary form must reproduce the above copyright notice,\n   this list of conditions and the following disclaimer in the documentation\n   and/or other materials provided with the distribution.\n\n3. Neither the name of the copyright holder nor the names of its\n   contributors may be used to endorse or promote products derived from\n   this software without specific prior written permission.\n\nTHIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\"\nAND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE\nIMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE\nDISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE\nFOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL\nDAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR\nSERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER\nCAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY,\nOR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE\nOF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n\n```"},"$:/plugins/BTC/TiddlyFlex/privates/navigation":{"title":"$:/plugins/BTC/TiddlyFlex/privates/navigation","text":"\\procedure tiddlyflex-focus-flexcontainer() <$action-sendmessage $message=\"tm-focus-selector\" $param=\".tc-tiddlyflex-container\" preventScroll=\"true\"/>\n\\procedure tiddlyflex-keyboard-navigator(actions)\n<$let currentColumn={{{ [subfilter<tdff.tiddlyflex-enlist-columns>] :intersection[{$:/columns!!current-column}] ~[subfilter<tdff.tiddlyflex-current-column-filtered>] }}} tv-story-list={{{ [tdff.tiddlyflex-fullscreen[]!is[blank]] :then[all[tiddlers]prefix[$:/state/tiddlyflex/story-river/fullscreen/]get[column]addprefix[$:/StoryList-]] ~[[$:/StoryList-]addsuffix<currentColumn>!match[$:/StoryList-]] ~[[$:/StoryList-1]] }}} tv-history-list={{{ [tdff.tiddlyflex-fullscreen[]!is[blank]] :then[all[tiddlers]prefix[$:/state/tiddlyflex/story-river/fullscreen/]get[column]addprefix[$:/HistoryList-]] ~[[$:/HistoryList-]addsuffix<currentColumn>!match[$:/HistoryList-]] ~[[$:/HistoryList-1]] }}} currentTiddler={{{ [all[tiddlers]removeprefix[$:/state/tiddlyflex/story-river/fullscreen/]limit[1]] ~[<tv-history-list>get[current-tiddler]] }}}>\n\t<$navigator story=<<tv-story-list>> history=<<tv-history-list>> openLinkFromInsideRiver={{$:/config/Navigation/openLinkFromInsideRiver}} openLinkFromOutsideRiver={{$:/config/Navigation/openLinkFromInsideRiver}} relinkOnRename={{$:/config/RelinkOnRename}}>\n\t\t<<actions>>\n\t</$navigator>\n</$let>\n\\end\n\\procedure tiddlyflex-simple-keyboard-navigator()\n<$navigator story={{{ [subfilter<tdff.tiddlyflex-enlist-columns>] :intersection[{$:/columns!!current-column}] ~[subfilter<tdff.tiddlyflex-current-column-filtered>] :map[addprefix[$:/StoryList-]] }}} history={{{ [subfilter<tdff.tiddlyflex-enlist-columns>] :intersection[{$:/columns!!current-column}] ~[subfilter<tdff.tiddlyflex-enlist-columns>first[]] :map[addprefix[$:/HistoryList-]] }}} openLinkFromInsideRiver={{$:/config/Navigation/openLinkFromInsideRiver}} openLinkFromOutsideRiver={{$:/config/Navigation/openLinkFromInsideRiver}} relinkOnRename={{$:/config/RelinkOnRename}}>\n\t<<actions>>\n</$navigator>\n\\end\n\\procedure tiddlyflex-cycle-columns-navigator-inner()\n<%if [<nextTiddler>is[draft]] %>\n\t<<tiddlyflex-focus-draft-tiddler>>\n<% else %>\n\t<<tiddlyflex-focus-flexcontainer>>\n<% endif %>\n<$navigator story=<<tv-story-list>> history=<<tv-history-list>> openLinkFromInsideRiver={{$:/config/Navigation/openLinkFromInsideRiver}} openLinkFromOutsideRiver={{$:/config/Navigation/openLinkFromInsideRiver}} relinkOnRename={{$:/config/RelinkOnRename}}>\n\t<$action-navigate $to=<<nextTiddler>>/>\n</$navigator>\n\\end\n\\define tiddlyflex-cycle-columns-navigator()\n<$action-setfield $tiddler=\"$:/columns\" current-column=<<nextColumn>>/>\n<$set name=\"currentHistoryListTiddler\" value={{{ [<tv-history-list>get[current-tiddler]] }}}>\n\t<%if [<tv-story-list>contains<currentHistoryListTiddler>] %>\n\t\t<%if [subfilter<tdff.tiddlyflex-story-river-filter>] +[match<currentHistoryListTiddler>] %>\n\t\t\t<$let currentColumn=<<nextColumn>> nextTiddler=<<currentHistoryListTiddler>> cssEscapedTitle={{{ [<nextTiddler>escapecss[]] }}}>\n\t\t\t\t<<tiddlyflex-cycle-columns-navigator-inner>>\n\t\t\t</$let>\n\t\t<% else %>\n\t\t\t<$let currentColumn=<<nextColumn>> nextTiddler={{{ [subfilter<tdff.tiddlyflex-story-river-filter>] +[nth[1]] }}} cssEscapedTitle={{{ [<nextTiddler>escapecss[]] }}}>\n\t\t\t\t<<tiddlyflex-cycle-columns-navigator-inner>>\n\t\t\t</$let>\n\t\t<% endif %>\n\t<% elseif [<tv-story-list>!contains<currentHistoryListTiddler>] %>\n\t\t<$let currentColumn=<<nextColumn>> nextTiddler={{{ [subfilter<tdff.tiddlyflex-story-river-filter>] +[nth[1]] }}} cssEscapedTitle={{{ [<nextTiddler>escapecss[]] }}}>\n\t\t\t<<tiddlyflex-cycle-columns-navigator-inner>>\n\t\t</$let>\n\t<% endif %>\n</$set>\n\\end\n\\procedure tiddlyflex-multi-column-keyboard-navigator()\n<$let\n\tcurrentColumn={{{ [subfilter<tdff.tiddlyflex-enlist-columns>] :intersection[{$:/columns!!current-column}] ~[subfilter<tdff.tiddlyflex-current-column-filtered>] }}}\n\tlastColumn={{{ [subfilter<tdff.tiddlyflex-enlist-columns>last[]] }}}\n\ttv-story-list={{{ [[$:/StoryList-]addsuffix<currentColumn>!match[$:/StoryList-]] ~$:/StoryList-1 }}}\n\ttv-history-list={{{ [[$:/HistoryList-]addsuffix<currentColumn>!match[$:/HistoryList-]] ~$:/HistoryList-1 }}}\n\tfocusedTiddler={{{ [<tv-history-list>get[current-tiddler]] }}}\n\tnextStoryCounter={{{ [subfilter<tdff.tiddlyflex-enlist-columns>after<currentColumn>] }}}\n\tnextStoryList={{{ [<tv-story-list>removesuffix<currentColumn>addsuffix<nextStoryCounter>] }}}\n\tnextHistoryList={{{ [<tv-history-list>removesuffix<currentColumn>addsuffix<nextStoryCounter>] }}}\n\tfirstNextStoryTiddler={{{ [list<nextStoryList>first[]] }}}\n\tpreviousStoryCounter={{{ [subfilter<tdff.tiddlyflex-enlist-columns>before<currentColumn>] }}}\n\tpreviousStoryList={{{ [<tv-story-list>removesuffix<currentColumn>addsuffix<previousStoryCounter>] }}}\n\tpreviousHistoryList={{{ [<tv-history-list>removesuffix<currentColumn>addsuffix<previousStoryCounter>] }}}\n\tfirstPreviousStoryTiddler={{{ [list<previousStoryList>first[]] }}}\n>\n\t<<actions>>\n</$let>\n\\end"},"$:/plugins/BTC/TiddlyFlex/privates/selectors":{"title":"$:/plugins/BTC/TiddlyFlex/privates/selectors","text":"\\procedure tiddlyflex-tiddler-scroll-selector()\n\\rules only filteredtranscludeinline transcludeinline macrodef macrocallinline macrocallblock whitespace\n.tc-tiddlyflex-story-river-{{{ [[$(currentColumn)$]substitute[]] }}} .tc-tiddlyflex-story-river-inner > [data-tiddler-title={{{ [[$(cssEscapedTitle)$]substitute[]addprefix[\"]addsuffix[\"]] }}}]\n\\end\n\\procedure tiddlyflex-draft-focus-selector()\n\\rules only filteredtranscludeinline transcludeinline macrodef macrocallinline macrocallblock whitespace\n.tc-tiddlyflex-story-river-{{{ [[$(currentColumn)$]substitute[]] }}} .tc-tiddlyflex-story-river-inner > [data-tiddler-title={{{ [[$(cssEscapedTitle)$]substitute[]addprefix[\"]addsuffix[\"]] }}}] input.tc-titlebar.tc-edit-texteditor\n\\end\n\\procedure tiddlyflex-focus-draft-tiddler()\n<$wikify name=\"focusSelector\" text=<<tiddlyflex-draft-focus-selector>>>\n\t<$action-sendmessage $message=\"tm-focus-selector\" $param=<<focusSelector>> preventScroll=\"true\"/>\n</$wikify>\n\\end\n\\procedure tiddlyflex-scroll-to-tiddler()\n<$wikify name=\"scrollSelector\" text=<<tiddlyflex-tiddler-scroll-selector>>>\n\t<$action-sendmessage $message=\"tm-scroll\" selector=<<scrollSelector>>/>\n</$wikify>\n\\end\n\\procedure tiddlyflex-scroll-to-column()\n\t<$action-sendmessage $message=\"tm-scroll\" selector={{{ [[.tc-tiddlyflex-story-river-]addsuffix<currentColumn>] }}}/>\n\\end"},"$:/plugins/BTC/TiddlyFlex/readme":{"title":"$:/plugins/BTC/TiddlyFlex/readme","text":"!!! ~TiddlyFlex\n\nThis ''plugin'' provides an alternative [ext[Flexbox|https://developer.mozilla.org/en-US/docs/Learn/CSS/CSS_layout/Flexbox]] Layout for ~TiddlyWiki5"},"$:/core/ui/EditorToolbar/preview-type-dropdown":{"title":"$:/core/ui/EditorToolbar/preview-type-dropdown","text":"\\whitespace trim\n<<tdfp-tiddlyflex-editortoolbar-preview-type-dropdown>>"},"$:/core/ui/Buttons/control-panel":{"title":"$:/core/ui/Buttons/control-panel","tags":"$:/tags/PageControls","caption":"{{$:/core/images/options-button}} {{$:/language/Buttons/ControlPanel/Caption}}","description":"{{$:/language/Buttons/ControlPanel/Hint}}","text":"\\whitespace trim\n\\define control-panel-button(class)\n\\whitespace trim\n<$button to=\"$:/ControlPanel\" tooltip={{$:/language/Buttons/ControlPanel/Hint}} aria-label={{$:/language/Buttons/ControlPanel/Caption}} class=\"\"\"$(tv-config-toolbar-class)$ $class$\"\"\">\n<$list filter=\"[<tv-config-toolbar-icons>match[yes]]\">\n{{$:/core/images/options-button}}\n</$list>\n<$list filter=\"[<tv-config-toolbar-text>match[yes]]\">\n<span class=\"tc-btn-text\"><$text text={{$:/language/Buttons/ControlPanel/Caption}}/></span>\n</$list>\n</$button>\n\\end\n<%if [tdff.tiddlyflex-layout[]] %>\n\t<%if [subfilter<tdff.tiddlyflex-enlist-columns>] +[addprefix[$:/StoryList-]] +[enlist-input[]] +[contains[$:/ControlPanel]] %>\n\t\t<<control-panel-button \"tc-selected\">>\n\t<% else %>\n\t\t<<control-panel-button>>\n\t<% endif %>\n<% else %>\n\t<%if [<tv-story-list>contains[$:/ControlPanel]] %>\n\t\t<<control-panel-button \"tc-selected\">>\n\t<% else %>\n\t\t<<control-panel-button>>\n\t<% endif %>\n<% endif %>"},"$:/plugins/BTC/TiddlyFlex/ui/Buttons/TopToolbar/add-column":{"title":"$:/plugins/BTC/TiddlyFlex/ui/Buttons/TopToolbar/add-column","caption":"{{$:/core/images/plus-button}} Add a column","description":"Add an additional column at the right","tags":"$:/tags/TopRightBar $:/tags/PageControls","list-before":"$:/core/ui/TopBar/menu","text":"\\whitespace trim\n<%if [tdff.tiddlyflex-layout[]] %>\n\t<$let columns={{{ [list[$:/columns]count[]!match[0]] ~1 }}} nextColumn={{{ [<columns>add[1]] }}}>\n\t\t<$button class=<<tv-config-toolbar-class>> tooltip=\"add column\">\n\t\t\t<%if [list[$:/columns]count[]match[0]] %>\n\t\t\t\t<$action-listops $tiddler=\"$:/columns\" $subfilter=\"1\"/>\n\t\t\t<% endif %>\n\t\t\t<$action-listops $tiddler=\"$:/columns\" $subfilter=\"[<nextColumn>]\"/>\n\t\t\t<$list filter=\"[<tv-config-toolbar-icons>match[yes]]\">\n\t\t\t\t{{$:/core/images/plus-button}}\n\t\t\t</$list>\n\t\t\t<$list filter=\"[<tv-config-toolbar-text>match[yes]]\">\n\t\t\t\t<span class=\"tc-btn-text\">\n\t\t\t\t\t<$text text=\"Add a column\"/>\n\t\t\t\t</span>\n\t\t\t</$list>\n\t\t</$button>\n\t</$let>\n<% endif %>"},"$:/plugins/BTC/TiddlyFlex/ui/Buttons/TopToolbar/dragging":{"title":"$:/plugins/BTC/TiddlyFlex/ui/Buttons/TopToolbar/dragging","caption":"{{$:/plugins/BTC/TiddlyFlex/icons/drag-grip}} Enable / disable dragging","description":"Enable / disable dragging of tiddlers","tags":"$:/tags/TopRightBar $:/tags/PageControls","list-before":"$:/plugins/BTC/TiddlyFlex/ui/Buttons/TopToolbar/remove-column","text":"\\whitespace trim\n<%if [tdff.tiddlyflex-layout[]] %>\n\t<$button class={{{ [{$:/state/tiddlyflex/story-river/tiddler/drag-enabled}match[yes]then[tc-selected]] [<tv-config-toolbar-class>] +[join[ ]] }}} tooltip=\"dragging\">\n\t\t<$list filter=\"[<tv-config-toolbar-icons>match[yes]]\">\n\t\t\t{{$:/plugins/BTC/TiddlyFlex/icons/drag-grip}}\n\t\t</$list>\n\t\t<$list filter=\"[<tv-config-toolbar-text>match[yes]]\">\n\t\t\t<span class=\"tc-btn-text\">\n\t\t\t\t<$text text=\"En-/disable dragging\"/>\n\t\t\t</span>\n\t\t</$list>\n\t\t<%if [{$:/state/tiddlyflex/story-river/tiddler/drag-enabled}!match[yes]] %>\n\t\t\t<$action-setfield $tiddler=\"$:/state/tiddlyflex/story-river/tiddler/drag-enabled\" text=\"yes\"/>\n\t\t<% else %>\n\t\t\t<$action-deletetiddler $tiddler=\"$:/state/tiddlyflex/story-river/tiddler/drag-enabled\"/>\n\t\t<% endif %>\n\t</$button>\n<% endif %>"},"$:/plugins/BTC/TiddlyFlex/ui/Buttons/TopToolbar/filter":{"title":"$:/plugins/BTC/TiddlyFlex/ui/Buttons/TopToolbar/filter","caption":"{{$:/plugins/BTC/TiddlyFlex/icons/filter}} Filter story rivers","description":"Filter the story rivers by the search input","tags":"$:/tags/TopRightBar $:/tags/PageControls","list-before":"","text":"\\whitespace trim\n<%if [tdff.tiddlyflex-layout[]] %>\n\t<$button class={{{ [{$:/state/tiddlyflex/story-river/filter}match[yes]then[tc-selected]] [<tv-config-toolbar-class>] +[join[ ]] }}} tooltip=\"filter\">\n\t\t<%if [{$:/state/tiddlyflex/story-river/filter}match[yes]] %>\n\t\t\t<$action-deletetiddler $tiddler=\"$:/state/tiddlyflex/story-river/filter\"/>\n\t\t<% else %>\n\t\t\t<$action-setfield $tiddler=\"$:/state/tiddlyflex/story-river/filter\" text=\"yes\"/>\n\t\t\t<%if [{$:/temp/search/input}is[blank]match[]then[yes]] %>\n\t\t\t\t<$action-sendmessage $message=\"tm-focus-selector\" $param=\".tc-search input\"/>\n\t\t\t<% endif %>\n\t\t<% endif %>\n\t\t<$list filter=\"[<tv-config-toolbar-icons>match[yes]]\">\n\t\t\t{{$:/plugins/BTC/TiddlyFlex/icons/filter}}\n\t\t</$list>\n\t\t<$list filter=\"[<tv-config-toolbar-text>match[yes]]\">\n\t\t\t<span class=\"tc-btn-text\">\n\t\t\t\t<$text text=\"Filter story\"/>\n\t\t\t</span>\n\t\t</$list>\n\t</$button>\n<% endif %>"},"$:/plugins/BTC/TiddlyFlex/ui/Buttons/TopToolbar/remove-column":{"title":"$:/plugins/BTC/TiddlyFlex/ui/Buttons/TopToolbar/remove-column","caption":"{{$:/core/images/minus-button}} Close last column","description":"Close the last column","tags":"$:/tags/TopRightBar $:/tags/PageControls","list-before":"$:/plugins/BTC/TiddlyFlex/ui/Buttons/TopToolbar/add-column","text":"\\whitespace trim\n\\procedure remove-column-actions()\n<$set name=\"columnCount\" value={{{ [list[$:/columns]count[]] }}}>\n\t<$list filter=\"[[$:/columns]get[current-column]match<columnCount>]\">\n\t\t<$action-setfield $tiddler=\"$:/columns\" current-column={{{ [<columnCount>subtract[1]!match[0]] ~1 }}}/>\n\t</$list>\n\t<$list filter=\"[<columnCount>!match[1]]\">\n\t\t<$action-listops $tiddler=\"$:/columns\" $subfilter=\"-[<columnCount>]\"/>\n\t</$list>\n</$set>\n\\end\n<%if [tdff.tiddlyflex-layout[]] %>\n\t<$let columns={{{ [list[$:/columns]count[]] ~1 }}}>\n\t\t<$button class=<<tv-config-toolbar-class>> actions=<<remove-column-actions>> tooltip=\"remove column\">\n\t\t\t<$list filter=\"[<tv-config-toolbar-icons>match[yes]]\">\n\t\t\t\t{{$:/core/images/minus-button}}\n\t\t\t</$list>\n\t\t\t<$list filter=\"[<tv-config-toolbar-text>match[yes]]\">\n\t\t\t\t<span class=\"tc-btn-text\">\n\t\t\t\t\t<$text text=\"Remove a column\"/>\n\t\t\t\t</span>\n\t\t\t</$list>\n\t\t</$button>\n\t</$let>\n<% endif %>"},"$:/plugins/BTC/TiddlyFlex/ui/Buttons/TopToolbar/switch-view":{"title":"$:/plugins/BTC/TiddlyFlex/ui/Buttons/TopToolbar/switch-view","caption":"{{$:/plugins/BTC/TiddlyFlex/icons/horizontal}} Switch View","description":"Switch the Story River View","tags":"$:/tags/TopRightBar $:/tags/PageControls","list-before":"$:/plugins/BTC/TiddlyFlex/ui/Buttons/TopToolbar/dragging","text":"\\whitespace trim\n<%if [tdff.tiddlyflex-layout[]] %>\n\t<$button class={{{ [{$:/config/tiddlyflex/story-river/horizontal}match[yes]then[tc-selected]] [<tv-config-toolbar-class>] +[join[ ]] }}} tooltip=\"horizontal / vertical\">\n\t\t<$list filter=\"[<tv-config-toolbar-icons>match[yes]]\">\n\t\t\t<%if [{$:/config/tiddlyflex/story-river/horizontal}match[yes]] %>\n\t\t\t\t{{$:/plugins/BTC/TiddlyFlex/icons/horizontal}}\n\t\t\t<% else %>\n\t\t\t\t{{$:/plugins/BTC/TiddlyFlex/icons/vertical}}\n\t\t\t<% endif %>\n\t\t</$list>\n\t\t<$list filter=\"[<tv-config-toolbar-text>match[yes]]\">\n\t\t\t<span class=\"tc-btn-text\">\n\t\t\t\t<$text text=\"Horizontal / Vertical\"/>\n\t\t\t</span>\n\t\t</$list>\n\t\t<%if [{$:/config/tiddlyflex/story-river/horizontal}!match[yes]] %>\n\t\t\t<$action-setfield $tiddler=\"$:/config/tiddlyflex/story-river/horizontal\" text=\"yes\"/>\n\t\t\t<$action-sendmessage $message=\"tm-scroll\" selector={{{ [[.tc-tiddlyflex-story-river-]addsuffix{$:/columns!!current-column}] }}}/>\n\t\t<% else %>\n\t\t\t<$action-deletetiddler $tiddler=\"$:/config/tiddlyflex/story-river/horizontal\"/>\n\t\t<% endif %>\n\t</$button>\n<% endif %>"},"$:/plugins/BTC/TiddlyFlex/ui/Buttons/fullscreen":{"title":"$:/plugins/BTC/TiddlyFlex/ui/Buttons/fullscreen","tags":"$:/tags/ViewToolbar $:/tags/EditToolbar","text":"\\define get-button-class(class)\nbtc-fullscreen-button $(tv-config-toolbar-class)$ tc-toolbar-icon $class$\n\\end\n\\define get-fullscreen-tooltip(onoff)\nfullscreen $onoff$ - [$(fullScreenShortcut)$]\n\\end\n\n\\whitespace trim\n<$vars fullScreenShortcut=<<displayshortcuts ((fullscreen))>> state={{{ [[$:/state/tiddlyflex/story-river/fullscreen/]addsuffix<currentTiddler>] }}}>\n\t<%if [<state>!is[missing]get[text]!match[yes]] ~[<state>is[missing]] %>\n\t\t<$button class=<<get-button-class>> tooltip=<<get-fullscreen-tooltip \"on\">>>\n\t\t\t<$action-setfield $tiddler=<<state>> text=\"yes\" column=<<tiddlyFlexColumn>>/>\n\t\t\t<%if [<tv-config-toolbar-icons>match[yes]] %>\n\t\t\t\t{{$:/core/images/full-screen-button}}\n\t\t\t<% endif %>\n\t\t\t<%if [<tv-config-toolbar-text>match[yes]] %>\n\t\t\t\t<span class=\"tc-btn-text\"><$text text=\"fullscreen\"/></span>\n\t\t\t<% endif %>\n\t\t</$button>\n\t<% elseif [<state>get[text]match[yes]] %>\n\t\t<$button class=<<get-button-class \"tc-selected\">> tooltip=<<get-fullscreen-tooltip \"off\">>>\n\t\t\t<$list filter=\"[all[tiddlers]prefix[$:/state/tiddlyflex/story-river/fullscreen/]]\" variable=\"fullScreenTiddler\">\n\t\t\t\t<$action-deletetiddler $tiddler=<<fullScreenTiddler>>/>\n\t\t\t</$list>\n\t\t\t<%if [<tv-config-toolbar-icons>match[yes]] %>\n\t\t\t\t{{$:/core/images/full-screen-button}}\n\t\t\t<% endif %>\n\t\t\t<%if [<tv-config-toolbar-text>match[yes]] %>\n\t\t\t\t<span class=\"tc-btn-text\"><$text text=\"fullscreen\"/></span>\n\t\t\t<% endif %>\n\t\t</$button>\n\t<% endif %>\n</$vars>"},"$:/plugins/BTC/TiddlyFlex/ui/Buttons/ViewToolbar/menu":{"title":"$:/plugins/BTC/TiddlyFlex/ui/Buttons/ViewToolbar/menu","tags":"$:/tags/ViewToolbar","text":"\\whitespace trim\n<%if [tdff.tiddlyflex-layout[]] %>\n<$button popup=<<qualify \"$:/state/popup/tiddlyflex/menu\">> tooltip={{$:/language/Buttons/More/Hint}} aria-label={{$:/language/Buttons/More/Caption}} class={{{ [<tv-config-toolbar-class>] tc-tiddlyflex-shown-when-narrow +[join[ ]] }}} selectedClass=\"tc-selected\">\n{{$:/core/images/menu-button}}\n</$button>\n<$reveal state=<<qualify \"$:/state/popup/tiddlyflex/menu\">> type=\"popup\" position=\"belowleft\" animate=\"yes\">\n\n<div class=\"tc-drop-down\">\n\n<$set name=\"tv-config-toolbar-icons\" value=\"yes\">\n\n<$set name=\"tv-config-toolbar-text\" value=\"yes\">\n\n<$set name=\"tv-config-toolbar-class\" value=\"tc-btn-invisible\">\n\n<$list filter=\"[all[shadows+tiddlers]tag[$:/tags/ViewToolbar]!is[draft]] -[[$:/core/ui/Buttons/more-tiddler-actions]] -[[$:/plugins/BTC/TiddlyFlex/ui/Buttons/ViewToolbar/menu]]\" variable=\"listItem\">\n\n<$set name=\"tv-config-toolbar-class\" filter=\"[<tv-config-toolbar-class>] [<listItem>encodeuricomponent[]addprefix[tc-btn-]]\">\n\n<$transclude tiddler=<<listItem>> mode=\"inline\"/>\n\n</$set>\n\n</$list>\n\n</$set>\n\n</$set>\n\n</$set>\n\n</div>\n\n</$reveal>\n<% endif %>"},"$:/plugins/BTC/TiddlyFlex/ui/ControlPanel/Templates/input-switch":{"title":"$:/plugins/BTC/TiddlyFlex/ui/ControlPanel/Templates/input-switch","text":"<label class=\"tc-tiddlyflex-ui-form-label\"><$link tooltip={{!!description}}>{{!!caption}}</$link></label><$checkbox field=\"text\" checked=\"yes\" unchecked=\"no\" class=\"tc-tiddlyflex-ui-form-switch\"/>"},"$:/plugins/BTC/TiddlyFlex/ui/ControlPanel/Templates/input":{"title":"$:/plugins/BTC/TiddlyFlex/ui/ControlPanel/Templates/input","text":"<label class=\"tc-tiddlyflex-ui-form-label\"><$link tooltip={{!!description}}>{{!!caption}}</$link></label>\n<$edit-text tag=\"input\" class=\"tc-tiddlyflex-ui-form-input\"/>"},"$:/plugins/BTC/TiddlyFlex/ui/ControlPanel/Templates/select":{"title":"$:/plugins/BTC/TiddlyFlex/ui/ControlPanel/Templates/select","text":"<label class=\"tc-tiddlyflex-ui-form-label\"><$link tooltip={{!!description}}>{{!!caption}}</$link></label>\n<$vars cnt={{{[enlist{!!option-names}count[]]}}}>\n<$select class=\"tc-tiddlyflex-ui-form-select\">\n<$list filter=\"[range<cnt>]\" variable=\"index\">\n<option value={{{[enlist{!!option-values}nth<index>]}}}><$text text={{{[enlist{!!option-names}nth<index>]}}}/></option>\n</$list>\n</$select>\n</$vars>"},"$:/plugins/BTC/TiddlyFlex/ui/ControlPanel/settings/Toolbars":{"title":"$:/plugins/BTC/TiddlyFlex/ui/ControlPanel/settings/Toolbars","caption":"Toolbars","tags":"$:/tags/TiddlyFlex/Settings","text":"\\define config-base() $:/config/TiddlyFlex/Toolbars/Visibility/\n\n<$list filter=\"$:/tags/TopToolbar $:/tags/LeftToolbar $:/tags/BottomToolbar\" variable=\"toolbarTag\">\n\n\t<%if [all[tiddlers+shadows]tag<toolbarTag>limit[1]] %>\n\n\t\t!! <$text text={{{ [<toolbarTag>removeprefix[$:/tags/]] }}}/>\n\n\t\t\t<$macrocall $name=\"list-tagged-draggable\" tag=<<toolbarTag>> itemTemplate=\"$:/core/ui/ControlPanel/Toolbars/ItemTemplate\"/>\n\n\t\t<hr>\n\n\t<% endif %>\n\n</$list>"},"$:/plugins/BTC/TiddlyFlex/ui/ControlPanel/settings/UI":{"title":"$:/plugins/BTC/TiddlyFlex/ui/ControlPanel/settings/UI","caption":"UI","tags":"$:/tags/TiddlyFlex/Settings","text":"\\define sortBySettingsGroupFilter()\n[get[settings-group]!is[blank]else[!general]] [get[settings-group-header]!is[blank]else[99]] +[join[]]\n\\end\n\n<$edit-text tiddler=\"$:/state/tiddlyflex/settings/search\" class=\"tc-tiddlyflex-search-input\" default=\"\" tag=\"input\" type=\"search\" placeholder=\"search...\"/>\n\n<div class=\"tc-tiddlyflex-list-group tc-tiddlyflex-list-group-box-shadow tc-tiddlyflex-list-settings\">\n<$list filter=\"[all[shadows+tiddlers]prefix[$:/config/tiddlyflex/]has[settings-template]] [[$:/config/ShowEditPreview/PerTiddler]] +[search:title,caption,description{$:/state/tiddlyflex/settings/search}] +[sortsub<sortBySettingsGroupFilter>]\">\n<$list filter={{{[{!!condition}!is[blank]] :else[{!!title}]}}} variable=\"list-condition\">\n<div class=\"tc-tiddlyflex-list-group-item\">\n<$transclude tiddler={{!!settings-template}}/>\n</div>\n</$list>\n</$list>\n</div>"},"$:/plugins/BTC/TiddlyFlex/ui/ControlPanel/settings":{"title":"$:/plugins/BTC/TiddlyFlex/ui/ControlPanel/settings","caption":"TiddlyFlex","tags":"$:/tags/ControlPanel/SettingsTab","text":"<<tabs \"[all[tiddlers+shadows]tag[$:/tags/TiddlyFlex/Settings]]\" \"$:/plugins/BTC/TiddlyFlex/ui/ControlPanel/settings/UI\">>"},"$:/plugins/BTC/TiddlyFlex/ui/Layout":{"title":"$:/plugins/BTC/TiddlyFlex/ui/Layout","tags":"$:/tags/Layout","description":"A Flexbox Layout","name":"~TiddlyFlex","icon":"$:/plugins/BTC/TiddlyFlex/icons/layout","code-body":"yes","text":"\\whitespace trim\n\\import [subfilter{$:/core/config/GlobalImportFilter}]\n\\procedure tiddlyflex-activate-column-actions()\n<%if [subfilter<tdff.tiddlyflex-enlist-columns>] :intersection[{$:/columns!!current-column}] ~[subfilter<tdff.tiddlyflex-current-column-filtered>] +[!match<tiddlyFlexColumn>] %>\n\t<$action-setfield $tiddler=\"$:/columns\" current-column=<<tiddlyFlexColumn>>/>\n<% endif %>\n\\end\n\\procedure tiddlyflex-hide-sidebar-actions() <$action-setfield $tiddler=\"$:/state/sidebar\" text=\"no\"/>\n\\procedure tiddlyflex-layout-story()\n\\whitespace trim\n<div class=\"tc-tiddlyflex-story-river-wrapper\">\n\t<$eventcatcher selector=\".tc-tiddlyflex-story-river-header\" $click=<<tiddlyflex-activate-column-actions>>>\n\t\t<div class=\"tc-tiddlyflex-story-river-header\">\n\t\t\t<$set name=\"aboveStoryHeaderTag\" value={{{ [[$:/tags/AboveStoryHeader-]addsuffix<tiddlyFlexColumn>] }}}>\n\t\t\t\t<$list filter=\"[all[shadows+tiddlers]tag<aboveStoryHeaderTag>!is[draft]]\" variable=\"listItem\" storyview=\"tiddlypop\">\n\t\t\t\t\t<$transclude tiddler=<<listItem>>/>\n\t\t\t\t</$list>\n\t\t\t</$set>\n\t\t</div>\n\t</$eventcatcher>\n\t<$transclude tiddler=\"$:/plugins/BTC/TiddlyFlex/ui/Templates/story\"/>\n\t<$eventcatcher selector=\".tc-tiddlyflex-story-river-footer\" $click=<<tiddlyflex-activate-column-actions>>>\n\t\t<div class=\"tc-tiddlyflex-story-river-footer\">\n\t\t\t<$set name=\"belowStoryFooterTag\" value={{{ [[$:/tags/BelowStoryFooter-]addsuffix<tiddlyFlexColumn>] }}}>\n\t\t\t\t<$list filter=\"[all[shadows+tiddlers]tag<belowStoryFooterTag>!is[draft]]\" variable=\"listItem\" storyview=\"tiddlypop\">\n\t\t\t\t\t<$transclude tiddler=<<listItem>>/>\n\t\t\t\t</$list>\n\t\t\t</$set>\n\t\t</div>\n\t</$eventcatcher>\n</div>\n\\end\n\\procedure tiddlyflex-layout-story-rivers()\n\\whitespace trim\n<$list filter=\"[subfilter<tdff.tiddlyflex-enlist-columns>]\" variable=\"tiddlyFlexColumn\">\n\t<$set name=\"transclusion\" value=<<tiddlyFlexColumn>>>\n\t\t<$vars tv-story-list={{{ [[$:/StoryList-]addsuffix<tiddlyFlexColumn>] }}} tv-history-list={{{ [[$:/HistoryList-]addsuffix<tiddlyFlexColumn>] }}} openLinkFromInsideRiver={{$:/config/Navigation/openLinkFromInsideRiver}} openLinkFromOutsideRiver={{$:/config/Navigation/openLinkFromInsideRiver}} relinkOnRename={{$:/config/RelinkOnRename}}>\n\t\t\t<$transclude $variable=\"tiddlyflex-message-catcher\" tiddlyflex-layout-inner=<<tiddlyflex-layout-story>>/>\n\t\t</$vars>\n\t</$set>\n</$list>\n\\end\n\\procedure tiddlyflex-layout-drafts-inner()\n<$transclude tiddler=\"$:/plugins/BTC/TiddlyFlex/ui/Templates/drafts\"/>\n\\end\n\\procedure tiddlyflex-layout-drafts()\n<$transclude $variable=\"tiddlyflex-message-catcher-outside\" tiddlyflex-layout-inner=<<tiddlyflex-layout-drafts-inner>>/>\n\\end\n\\procedure tiddlyflex-layout-sidebar()\n<$transclude tiddler=\"$:/plugins/BTC/TiddlyFlex/ui/Templates/sidebar\"/>\n\\end\n\\procedure tiddlyflex-layout-header()\n\\whitespace trim\n<div class=\"tc-tiddlyflex-header\">\n\t<$list filter=\"[{$:/status/RequireReloadDueToPluginChange}match[yes]then{$:/temp/HidePluginWarning}!match[yes]then[$:/plugins/BTC/TiddlyFlex/ui/Toolbars/PluginReloadWarning]] [all[shadows+tiddlers]tag[$:/tags/TopToolbar]!is[draft]] :filter[lookup[$:/config/TiddlyFlex/Toolbars/Visibility/]!match[hide]]\" variable=\"listItem\" storyview=\"tiddlypop\">\n\t\t<$transclude tiddler=<<listItem>>/>\n\t</$list>\n</div>\n\\end\n\\procedure tiddlyflex-layout-leftbar()\n\\whitespace trim\n<div class=\"tc-tiddlyflex-leftbar\">\n\t<$list filter=\"[all[shadows+tiddlers]tag[$:/tags/LeftToolbar]!is[draft]] :filter[lookup[$:/config/TiddlyFlex/Toolbars/Visibility/]!match[hide]]\" variable=\"listItem\" storyview=\"tiddlypop\">\n\t\t<$transclude tiddler=<<listItem>>/>\n\t</$list>\n</div>\n\\end\n\\procedure tiddlyflex-layout-footer()\n\\whitespace trim\n<div class=\"tc-tiddlyflex-footer\">\n\t<$list filter=\"[all[shadows+tiddlers]tag[$:/tags/BottomToolbar]!is[draft]] :filter[lookup[$:/config/TiddlyFlex/Toolbars/Visibility/]!match[hide]]\" variable=\"listItem\" storyview=\"tiddlypop\">\n\t\t<$transclude tiddler=<<listItem>>/>\n\t</$list>\n</div>\n\\end\n<$vars\n\ttv-config-toolbar-icons={{$:/config/Toolbar/Icons}}\n\ttv-config-toolbar-text={{$:/config/Toolbar/Text}}\n\ttv-config-toolbar-class={{$:/config/Toolbar/ButtonClass}}\n\ttv-enable-drag-and-drop={{$:/config/DragAndDrop/Enable}}\n\ttv-show-missing-links={{$:/config/MissingLinks}}\n\tstoryviewTitle={{$:/view}}\n\tlanguageTitle={{{ [{$:/language}get[name]] }}}>\n\t<div class={{{ [all[shadows+tiddlers]tag[$:/tags/ClassFilters/PageTemplate/TiddlyFlex]!is[draft]] :map:flat[subfilter{!!text}] tc-page-container tc-tiddlyflex-container [[tc-page-view-]addsuffix<storyviewTitle>] [[tc-language-]addsuffix<languageTitle>] [{$:/state/sidebar}match[yes]then[tc-sidebar-shown]] :and[unique[]join[ ]] }}} tabindex=\"0\">\n\t\t<$refresh-blocker refresh-blocker=\"$:/state/sidebar/posx\" enabler=\"$:/state/sidebar/resizing\">\n\t\t\t<$eventcatcher selector=\".tc-tiddlyflex-sidebar-shown\" matchSelector=\".tc-tiddlyflex-sidebar-shown\" $click=<<tiddlyflex-hide-sidebar-actions>> class=\"tc-tiddlyflex-sidebar-shown-eventcatcher\">\n\t\t\t\t<div class={{{ [{$:/state/sidebar}!match[no]then[tc-tiddlyflex-sidebar-hide tc-btn-invisible tc-tiddlyflex-sidebar-shown]] [{$:/state/sidebar}match[no]then[tc-tiddlyflex-sidebar-hide tc-btn-invisible tc-tiddlyflex-sidebar-hidden]] }}}/>\n\t\t\t</$eventcatcher>\n\t\t</$refresh-blocker>\n\t\t<$refresh-blocker refresh-blocker=\"$:/state/sidebar/posx\" enabler=\"$:/state/sidebar/resizing\">\n\t\t\t<$transclude $variable=\"tiddlyflex-message-catcher-outside\" tiddlyflex-layout-inner={{$:/core/ui/CommandPaletteTemplate}}/>\n\t\t\t<$transclude $variable=\"tiddlyflex-message-catcher-outside\" tiddlyflex-layout-inner=<<tiddlyflex-layout-header>>/>\n\t\t</$refresh-blocker>\n\t\t<div class=\"tc-tiddlyflex-main-wrapper\">\n\t\t\t<$refresh-blocker refresh-blocker=\"$:/state/sidebar/posx\" enabler=\"$:/state/sidebar/resizing\">\n\t\t\t\t<$transclude $variable=\"tiddlyflex-message-catcher-outside\" tiddlyflex-layout-inner=<<tiddlyflex-layout-leftbar>>/>\n\t\t\t</$refresh-blocker>\n\t\t\t<main class=\"tc-tiddlyflex-main\">\n\t\t\t\t<%if [{$:/config/tiddlyflex/sidebar/resizer}match[yes]] %>\n\t\t\t\t\t<$eventcatcher tag=\"div\" class=\"tc-tiddlyflex-pointerdown-eventcatcher\" selector=\".tc-tiddlyflex-sidebar-resizer\" matchSelector=\".tc-tiddlyflex-sidebar-resizer\" $pointerdown=<<tiddlyflex-sidebar-resizer-pointerdown-actions>> $pointerup=<<tiddlyflex-sidebar-resizer-pointerup-actions>>>\n\t\t\t\t\t\t<%if [{$:/state/sidebar/resizing}match[yes]] %>\n\t\t\t\t\t\t\t<$eventcatcher tag=\"div\" selector=\".tc-tiddlyflex-pointermove\" matchSelector=\".tc-tiddlyflex-pointermove\" class=\"tc-tiddlyflex-pointermove-eventcatcher\" $pointerup=<<tiddlyflex-sidebar-resizer-pointerup-actions>> $pointermove=<<tiddlyflex-sidebar-resizer-pointermove-actions>> $pointerleave=<<tiddlyflex-sidebar-resizer-pointerup-actions>> $pointerout=<<tiddlyflex-sidebar-resizer-pointerup-actions>>>\n\t\t\t\t\t\t\t\t<div class=\"tc-tiddlyflex-pointermove\"/>\n\t\t\t\t\t\t\t</$eventcatcher>\n\t\t\t\t\t\t<% endif %>\n\t\t\t\t\t\t<div class=\"tc-tiddlyflex-sidebar-resizer\"/>\n\t\t\t\t\t</$eventcatcher>\n\t\t\t\t<% endif %>\n\t\t\t\t<$refresh-blocker refresh-blocker=\"$:/state/sidebar/posx\" enabler=\"$:/state/sidebar/resizing\">\n\t\t\t\t\t<div class=\"tc-tiddlyflex-story-river-container\">\n\t\t\t\t\t\t<div class=\"tc-tiddlyflex-story-river-container-inner\">\n\t\t\t\t\t\t\t<<tiddlyflex-layout-story-rivers>>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<<tiddlyflex-layout-drafts>>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class=\"tc-tiddlyflex-sidebar\">\n\t\t\t\t\t\t<div class=\"tc-tiddlyflex-sidebar-container\">\n\t\t\t\t\t\t\t<div class=\"tc-tiddlyflex-sidebar-container-inner\">\n\t\t\t\t\t\t\t\t<$transclude $variable=\"tiddlyflex-message-catcher-outside\" tiddlyflex-layout-inner=<<tiddlyflex-layout-sidebar>>/>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<%if [{$:/config/tiddlyflex/show-top-right-bar}match[yes]] %>\n\t\t\t\t\t\t<$transclude tiddler=\"$:/core/ui/PageTemplate/toprightbar\"/>\n\t\t\t\t\t<% endif %>\n\t\t\t\t</$refresh-blocker>\n\t\t\t</main>\n\t\t</div>\n\t\t<$refresh-blocker refresh-blocker=\"$:/state/sidebar/posx\" enabler=\"$:/state/sidebar/resizing\">\n\t\t\t<$transclude $variable=\"tiddlyflex-message-catcher-outside\" tiddlyflex-layout-inner=<<tiddlyflex-layout-footer>>/>\n\t\t</$refresh-blocker>\n\t</div>\n</$vars>"},"$:/plugins/BTC/tiddlyflex/ui/Notifications/Ensemble/EmptyNotification":{"title":"$:/plugins/BTC/tiddlyflex/ui/Notifications/Ensemble/EmptyNotification","text":"The Ensemble Title must not be empty"},"$:/plugins/BTC/tiddlyflex/ui/Notifications/Ensemble/MatchingEnsembleNotification":{"title":"$:/plugins/BTC/tiddlyflex/ui/Notifications/Ensemble/MatchingEnsembleNotification","text":"Nothing to load. The current configuration matches the Ensemble."},"$:/plugins/BTC/TiddlyFlex/ui/SideBar/Ensemble":{"title":"$:/plugins/BTC/TiddlyFlex/ui/SideBar/Ensemble","caption":"Ensemble","tags":"$:/tags/SideBar","text":"\\define tiddlyflex-get-ensemble-delete-message()\nDo you want to delete the Ensemble \"$(ensembleName)$\"?\n\\end\n\\procedure tiddlyflex-delete-ensemble-actions()\n<$action-confirm $message=<<tiddlyflex-get-ensemble-delete-message>>>\n\t<$action-deletetiddler $tiddler=<<ensembleTiddler>>/>\n</$action-confirm>\n\\end\n\\procedure tiddlyflex-ensemble-list()\n\\whitespace trim\n<$wikify name=\"foregroundColour\" text=<<colour foreground>>>\n<span class=\"tc-small-gap-right\" style={{{ [[font-size: 24px; color: ]addsuffix<foregroundColour>addsuffix[;]] }}}>\n<div style=\"width: 24px; height: 24px; text-align: center; display: inline-block;\">\n<%if [<ensembleTiddler>get[icon]] %>\n<$transclude tiddler={{{ [<ensembleTiddler>get[icon]] }}}/>\n<% else %>\n<$text text={{{ [<ensembleName>splitbefore[]] }}}/>\n<% endif %>\n</div>\n</span>\n</$wikify>\n<span style=\"font-size: 24px;\">\n<$text text=<<ensembleName>>/>\n</span>\n<$button actions=<<tiddlyflex-load-ensemble-actions>> class=\"tc-small-gap-left\">\nLoad\n</$button>\n<$button class=\"tc-small-gap-left\" actions=<<tiddlyflex-delete-ensemble-actions>>>\nDelete\n</$button>\n<$button class=\"tc-big-gap-left\">\n<$macrocall $name=\"tiddlyflex-save-ensemble-actions\" ensembleTitle=<<ensembleName>> icon={{{ [<ensembleTiddler>get[icon]] }}}/>\nSave\n</$button>\n\\end\n\\whitespace trim\n\n!! Save Ensemble\n\nGive your ensemble a title:<br>\n<$edit-text tiddler=\"$:/temp/tiddlyflex/save-ensemble/story-title\" default=\"\" placeholder=\"Title\" tag=\"input\" class=\"tc-story-title tc-small-gap-right\"/><$button class=\"tc-btn-invisible tc-greyed-out-button\"><$action-deletefield $tiddler=\"$:/temp/tiddlyflex/save-ensemble/story-title\" $field=\"text\"/>{{$:/core/images/close-button}}</$button>\n\nOptionally, provide an icon:<br>\n<$edit-text tiddler=\"$:/temp/tiddlyflex/save-ensemble/story-title\" default=\"\" field=\"icon\" placeholder=\"Icon\" tag=\"input\" class=\"tc-small-gap-right\"/><$button class=\"tc-btn-invisible tc-greyed-out-button\"><$action-deletefield $tiddler=\"$:/temp/tiddlyflex/save-ensemble/story-title\" $field=\"icon\"/>{{$:/core/images/close-button}}</$button>\n\n<$let ensembleTitle={{{ [[$:/temp/tiddlyflex/save-ensemble/story-title]get[text]] }}} icon={{{ [[$:/temp/tiddlyflex/save-ensemble/story-title]get[icon]] }}}>\n\t<$button><$macrocall $name=\"tiddlyflex-save-ensemble-actions\" ensembleTitle=<<ensembleTitle>> icon=<<icon>>/>Save</$button>\n</$let>\n\n<hr class=\"simple\">\n\n!! Load Ensemble\n\n<$list filter=\"[all[tiddlers+shadows]prefix[$:/Ensemble/]]\" variable=\"ensembleTiddler\" storyview=\"tiddlypop\">\n\n<$let ensembleName={{{ [<ensembleTiddler>removeprefix[$:/Ensemble/]] }}}>\n\n<<tiddlyflex-ensemble-list>>\n\n</$let>\n\n</$list>"},"$:/core/ui/SideBar/Open":{"title":"$:/core/ui/SideBar/Open","tags":"$:/tags/SideBar","caption":"{{$:/language/SideBar/Open/Caption}}","text":"\\whitespace trim\n\\define lingo-base() $:/language/CloseAll/\n\n\\define drop-actions()\n<$action-listops $tiddler=<<tv-story-list>> $subfilter=\"+[insertbefore<actionTiddler>,<currentTiddler>]\"/>\n\\end\n\n\\define placeholder()\n<div class=\"tc-droppable-placeholder\"/>\n\\end\n\n\\define droppable-item(button)\n\\whitespace trim\n<$droppable actions=<<drop-actions>> enable=<<tv-allow-drag-and-drop>> tag=\"div\">\n<<placeholder>>\n<div>\n$button$\n</div>\n</$droppable>\n\\end\n\n\\procedure tiddlyflex-sidebar-tab-open()\n<div class=\"tc-sidebar-tab-open\">\n<$list filter=\"[list<tv-story-list>]\" history=<<tv-history-list>> storyview=\"tiddlypop\">\n<div class=\"tc-sidebar-tab-open-item\">\n<$macrocall $name=\"droppable-item\" button=\"<$button message='tm-close-tiddler' tooltip={{$:/language/Buttons/Close/Hint}} aria-label={{$:/language/Buttons/Close/Caption}} class='tc-btn-invisible tc-btn-mini tc-small-gap-right'>{{$:/core/images/close-button}}</$button><$link/>\"/>\n</div>\n</$list>\n<$tiddler tiddler=\"\">\n<div>\n<$macrocall $name=\"droppable-item\" button=\"<$button message='tm-close-all-tiddlers' class='tc-btn-invisible tc-btn-mini'><<lingo Button>></$button>\"/>\n</div>\n</$tiddler>\n</div>\n\\end\n\n<%if [tdff.tiddlyflex-layout[]] %>\n\t<$let currentColumn={{{ [subfilter<tdff.tiddlyflex-enlist-columns>] :intersection[[$:/columns]get[current-column]] ~[subfilter<tdff.tiddlyflex-current-column-filtered>] ~1 }}} tv-story-list={{{ [[$:/StoryList-]addsuffix<currentColumn>] }}} tv-history-list={{{ [[$:/HistoryList-]addsuffix<currentColumn>] }}}>\n\t\t<<tiddlyflex-sidebar-tab-open>>\n\t</$let>\n<% else %>\n\t<<tiddlyflex-sidebar-tab-open>>\n<% endif %>"},"$:/tags/TiddlyFlex/EditTemplate":{"title":"$:/tags/TiddlyFlex/EditTemplate","list":"$:/plugins/BTC/TiddlyFlex/ui/EditTemplate/controls $:/plugins/BTC/TiddlyFlex/ui/EditTemplate/title $:/plugins/BTC/TiddlyFlex/ui/EditTemplate/tags $:/plugins/BTC/TiddlyFlex/ui/EditTemplate/shadow $:/plugins/BTC/TiddlyFlex/ui/ViewTemplate/classic $:/plugins/BTC/TiddlyFlex/ui/EditTemplate/body $:/plugins/BTC/TiddlyFlex/ui/EditTemplate/type $:/plugins/BTC/TiddlyFlex/ui/EditTemplate/fields"},"$:/tags/TiddlyFlex/EditTemplateBodyFilter":{"title":"$:/tags/TiddlyFlex/EditTemplateBodyFilter","list":"$:/config/TiddlyFlex/EditTemplateBodyFilters/canonical-uri $:/config/TiddlyFlex/EditTemplateBodyFilters/default"},"$:/tags/TiddlyFlex/ViewTemplate":{"title":"$:/tags/TiddlyFlex/ViewTemplate","list":"$:/plugins/BTC/TiddlyFlex/ui/ViewTemplate/title $:/plugins/BTC/TiddlyFlex/ui/ViewTemplate/unfold $:/plugins/BTC/TiddlyFlex/ui/ViewTemplate/subtitle $:/plugins/BTC/TiddlyFlex/ui/ViewTemplate/tags $:/plugins/BTC/TiddlyFlex/ui/ViewTemplate/classic $:/plugins/BTC/TiddlyFlex/ui/ViewTemplate/body"},"$:/tags/TiddlyFlex/ViewTemplateBodyFilter":{"title":"$:/tags/TiddlyFlex/ViewTemplateBodyFilter","list":"$:/config/TiddlyFlex/ViewTemplateBodyFilters/hide-body $:/config/TiddlyFlex/ViewTemplateBodyFilters/code-body $:/config/TiddlyFlex/ViewTemplateBodyFilters/stylesheet $:/config/TiddlyFlex/ViewTemplateBodyFilters/core-ui-advanced-search $:/config/TiddlyFlex/ViewTemplateBodyFilters/core-ui-tags $:/config/TiddlyFlex/ViewTemplateBodyFilters/system $:/config/TiddlyFlex/ViewTemplateBodyFilters/import $:/config/TiddlyFlex/ViewTemplateBodyFilters/plugin $:/config/TiddlyFlex/ViewTemplateBodyFilters/default"},"$:/tags/TiddlyFlex/ViewTemplateTitleFilter":{"title":"$:/tags/TiddlyFlex/ViewTemplateTitleFilter","list":"$:/config/TiddlyFlex/ViewTemplateTitleFilters/system $:/config/TiddlyFlex/ViewTemplateTitleFilters/default"},"$:/plugins/BTC/TiddlyFlex/ui/EditTemplate/body/preview/diffs-current":{"title":"$:/plugins/BTC/TiddlyFlex/ui/EditTemplate/body/preview/diffs-current","tags":"$:/tags/EditPreview","caption":"{{$:/language/EditTemplate/Body/Preview/Type/DiffCurrent}}","list-after":"$:/plugins/BTC/TiddlyFlex/ui/EditTemplate/body/preview/output","text":"\\whitespace trim\n<<tdfp-tiddlyflex-edittemplate-preview-diffs-current>>"},"$:/plugins/BTC/TiddlyFlex/ui/EditTemplate/body/preview/diffs-shadow":{"title":"$:/plugins/BTC/TiddlyFlex/ui/EditTemplate/body/preview/diffs-shadow","tags":"$:/tags/EditPreview","caption":"{{$:/language/EditTemplate/Body/Preview/Type/DiffShadow}}","list-after":"$:/plugins/BTC/TiddlyFlex/ui/EditTemplate/body/preview/output","text":"\\whitespace trim\n<<tdfp-tiddlyflex-edittemplate-preview-diffs-shadow>>"},"$:/plugins/BTC/TiddlyFlex/ui/EditTemplate/body/preview/output":{"title":"$:/plugins/BTC/TiddlyFlex/ui/EditTemplate/body/preview/output","tags":"$:/tags/EditPreview","caption":"{{$:/language/EditTemplate/Body/Preview/Type/Output}}","text":"\\import [all[shadows+tiddlers]tag[$:/tags/Macro/View]!is[draft]] [all[shadows+tiddlers]tag[$:/tags/Macro/View/Body]!is[draft]] [all[shadows+tiddlers]tag[$:/tags/Global/View]!is[draft]] [all[shadows+tiddlers]tag[$:/tags/Global/View/Body]!is[draft]]\n\\whitespace trim\n<<tdfp-tiddlyflex-edittemplate-preview-output>>"},"$:/plugins/BTC/TiddlyFlex/ui/EditTemplate/body/canonical-uri":{"title":"$:/plugins/BTC/TiddlyFlex/ui/EditTemplate/body/canonical-uri","text":"\\define lingo-base() $:/language/EditTemplate/Body/\n\n<<tdfp-tiddlyflex-edittemplate-canonical-uri>>"},"$:/plugins/BTC/TiddlyFlex/ui/EditTemplate/body/default":{"title":"$:/plugins/BTC/TiddlyFlex/ui/EditTemplate/body/default","text":"\\function edit-preview-state()\n[{$:/config/ShowEditPreview/PerTiddler}!match[yes]then[$:/state/showeditpreview]] :else[<qualified-preview-state>] +[get[text]] :else[[no]]\n\\end\n\n\\define config-visibility-title()\n$:/config/EditorToolbarButtons/Visibility/$(currentTiddler)$\n\\end\n\n\\define importFileActions()\n<$action-popup $state=<<importState>> $coords=\"(0,0,0,0)\" $floating=\"yes\"/>\n\\end\n\n\\whitespace trim\n<<tdfp-tiddlyflex-edittemplate-body-default>>"},"$:/plugins/BTC/TiddlyFlex/ui/EditTemplate/body/editor":{"title":"$:/plugins/BTC/TiddlyFlex/ui/EditTemplate/body/editor","text":"\\whitespace trim\n\n<<tdfp-tiddlyflex-edittemplate-body-editor>>"},"$:/plugins/BTC/TiddlyFlex/ui/EditTemplate/body/toolbar/button":{"title":"$:/plugins/BTC/TiddlyFlex/ui/EditTemplate/body/toolbar/button","text":"<<toolbar-button-outer>>"},"$:/plugins/BTC/TiddlyFlex/ui/EditTemplate/body":{"title":"$:/plugins/BTC/TiddlyFlex/ui/EditTemplate/body","tags":"$:/tags/TiddlyFlex/EditTemplate","text":"\\whitespace trim\n<<tdfp-tiddlyflex-edittemplate-body>>"},"$:/plugins/BTC/TiddlyFlex/ui/EditTemplate/controls":{"title":"$:/plugins/BTC/TiddlyFlex/ui/EditTemplate/controls","tags":"$:/tags/TiddlyFlex/EditTemplate","text":"\\define config-title() $:/config/EditToolbarButtons/Visibility/$(listItem)$\n\\whitespace trim\n<<tdfp-tiddlyflex-edittemplate-controls>>"},"$:/plugins/BTC/TiddlyFlex/ui/EditTemplate/fieldEditor/default":{"title":"$:/plugins/BTC/TiddlyFlex/ui/EditTemplate/fieldEditor/default","text":"<<tdfp-tiddlyflex-edittemplate-fieldeditor-default>>"},"$:/plugins/BTC/TiddlyFlex/ui/EditTemplate/fields":{"title":"$:/plugins/BTC/TiddlyFlex/ui/EditTemplate/fields","tags":"$:/tags/TiddlyFlex/EditTemplate","text":"\\define lingo-base() $:/language/EditTemplate/\n\\define config-title()\n$:/config/EditTemplateFields/Visibility/$(currentField)$\n\\end\n\n\\define config-filter()\n[[hide]] -[title{$(config-title)$}]\n\\end\n\n<!-- Beware this is duplicated from EditTemplate.tid. For details see bug #7054 -->\n\\define get-field-value-tiddler-filter() [subfilter<get-field-editor-filter>sha256[16]addprefix[/]addprefix<newFieldValueTiddlerPrefix>]\n\\define get-field-editor-filter() [<newFieldNameTiddler>get[text]else[]] :cascade[all[shadows+tiddlers]tag[$:/tags/FieldEditorFilter]!is[draft]get[text]] :and[!is[blank]else{$:/core/ui/EditTemplate/fieldEditor/default}]\n\n\\define current-tiddler-new-field-selector()\n[data-tiddler-title=\"$(currentTiddlerCSSescaped)$\"] .tc-edit-field-add-name-wrapper input\n\\end\n\n\\define new-field-actions()\n\\whitespace trim\n<$action-sendmessage $message=\"tm-add-field\" $name={{{ [<newFieldNameTiddler>get[text]] }}} $value={{{ [<newFieldNameTiddler>get[text]] :map[subfilter<get-field-value-tiddler-filter>get[text]] }}}/>\n<$set name=\"safeNewFieldValueTiddlerPrefix\" value=<<newFieldValueTiddlerPrefix>> emptyValue=<<qualify \"$:/temp/NewFieldValue\">> >\n\t<$action-deletetiddler $filter=\"[<newFieldNameTiddler>] [prefix[$:/temp/NewFieldValue]prefix<safeNewFieldValueTiddlerPrefix>] [<storeTitle>] [<searchListState>]\"/>\n</$set>\n<$action-sendmessage $message=\"tm-focus-selector\" $param=<<current-tiddler-new-field-selector>>/>\n\\end\n\n\\define delete-state-tiddlers() <$action-deletetiddler $filter=\"[<newFieldNameTiddler>] [<storeTitle>] [<searchListState>]\"/>\n\n\\define cancel-search-actions-inner()\n\\whitespace trim\n<$list\n\tfilter=\"[<storeTitle>has[text]] [<newFieldNameTiddler>has[text]]\"\n\tvariable=\"ignore\"\n\temptyMessage=\"<<cancel-delete-tiddler-actions 'cancel'>>\">\n<<delete-state-tiddlers>>\n</$list>\n\\end\n\n\\define cancel-search-actions()\n\\whitespace trim\n<$set name=\"userInput\" value={{{ [<storeTitle>get[text]] }}}>\n<$list\n\tfilter=\"[<newFieldNameTiddler>get[text]!match<userInput>]\"\n\temptyMessage=\"<<cancel-search-actions-inner>>\">\n<$action-setfield $tiddler=<<newFieldNameTiddler>> text=<<userInput>>/><$action-setfield $tiddler=<<refreshTitle>> text=\"yes\"/>\n</$list>\n</$set>\n\\end\n\n\\define new-field()\n\\whitespace trim\n<$vars name={{{ [<newFieldNameTiddler>get[text]] }}}>\n<$reveal type=\"nomatch\" text=\"\" default=<<name>>>\n<$button tooltip={{$:/language/EditTemplate/Fields/Add/Button/Hint}}>\n<$action-sendmessage $message=\"tm-add-field\"\n$name=<<name>>\n$value={{{ [subfilter<get-field-value-tiddler-filter>get[text]] }}}/>\n<$set name=\"safeNewFieldValueTiddlerPrefix\" value=<<newFieldValueTiddlerPrefix>> emptyValue=<<qualify \"$:/temp/NewFieldValue\">> >\n\t<$action-deletetiddler $filter=\"[<newFieldNameTiddler>] [prefix[$:/temp/NewFieldValue]prefix<safeNewFieldValueTiddlerPrefix>] [<storeTitle>] [<searchListState>]\"/>\n</$set>\n<<lingo Fields/Add/Button>>\n</$button>\n</$reveal>\n<$reveal type=\"match\" text=\"\" default=<<name>>>\n<$button>\n<<lingo Fields/Add/Button>>\n</$button>\n</$reveal>\n</$vars>\n\\end\n\\whitespace trim\n\n<<tdfp-tiddlyflex-edittemplate-fields>>"},"$:/plugins/BTC/TiddlyFlex/ui/EditTemplate/shadow":{"title":"$:/plugins/BTC/TiddlyFlex/ui/EditTemplate/shadow","tags":"$:/tags/TiddlyFlex/EditTemplate","text":"\\define lingo-base() $:/language/EditTemplate/Shadow/\n\\define pluginLinkBody()\n\\whitespace trim\n<$link to=\"\"\"$(pluginTitle)$\"\"\">\n<$text text=\"\"\"$(pluginTitle)$\"\"\"/>\n</$link>\n\\end\n\\whitespace trim\n<<tdfp-tiddlyflex-edittemplate-shadow>>"},"$:/plugins/BTC/TiddlyFlex/ui/EditTemplate/tags":{"title":"$:/plugins/BTC/TiddlyFlex/ui/EditTemplate/tags","tags":"$:/tags/TiddlyFlex/EditTemplate","text":"\\whitespace trim\n\n\\procedure lingo-base() $:/language/EditTemplate/\n\n<$let saveTiddler=<<currentTiddler>>>\n\t<$macrocall $name=\"edit-tags-template\" tagField=<<tagField>>/>\n</$let>\n"},"$:/plugins/BTC/TiddlyFlex/ui/EditTemplate/title":{"title":"$:/plugins/BTC/TiddlyFlex/ui/EditTemplate/title","tags":"$:/tags/TiddlyFlex/EditTemplate","text":"\\whitespace trim\n<<tdfp-tiddlyflex-edittemplate-title>>"},"$:/plugins/BTC/TiddlyFlex/ui/EditTemplate/type":{"title":"$:/plugins/BTC/TiddlyFlex/ui/EditTemplate/type","tags":"$:/tags/TiddlyFlex/EditTemplate","first-search-filter":"[all[shadows+tiddlers]prefix[$:/language/Docs/Types/]sort[description]sort[group-sort]removeprefix[$:/language/Docs/Types/]search<userInput>]","text":"\\define lingo-base() $:/language/EditTemplate/\n\\define input-cancel-actions() <$list filter=\"[<storeTitle>get[text]] [<currentTiddler>get[type]] +[limit[1]]\" emptyMessage=\"\"\"<<cancel-delete-tiddler-actions \"cancel\">>\"\"\"><$action-sendmessage $message=\"tm-remove-field\" $param=\"type\"/><$action-deletetiddler $filter=\"[<typeInputTiddler>] [<refreshTitle>] [<typeSelectionTiddler>]\"/></$list>\n\\whitespace trim\n<<tdfp-tiddlyflex-edittemplate-type>>"},"$:/plugins/BTC/TiddlyFlex/ui/Templates/EditTemplate":{"title":"$:/plugins/BTC/TiddlyFlex/ui/Templates/EditTemplate","code-body":"yes","text":"\\procedure delete-edittemplate-state-tiddlers()\n<$set name=\"safeNewFieldValueTiddlerPrefix\" value=<<newFieldValueTiddlerPrefix>> emptyValue=<<qualify \"$:/temp/NewFieldValue\">> >\n\t<$action-deletetiddler $filter=\"[<newFieldNameTiddler>] [prefix[$:/temp/NewFieldValue]prefix<safeNewFieldValueTiddlerPrefix>] [<newFieldNameInputTiddler>] [<newFieldNameSelectionTiddler>] [<newTagNameTiddler>] [<newTagNameInputTiddler>] [<newTagNameSelectionTiddler>] [<typeInputTiddler>] [<typeSelectionTiddler>] [prefix[$:/state/codemirror-6/fullscreen/]]\"/>\n</$set>\n\\end\n\n\\procedure save-tiddler-actions()\n\\whitespace trim\n<$action-sendmessage $message=\"tm-add-tag\" $param={{{ [<newTagNameTiddler>get[text]] }}}/>\n<$action-sendmessage $message=\"tm-add-field\" $name={{{ [<newFieldNameTiddler>get[text]] }}} $value={{{ [<newFieldNameTiddler>get[text]] :map[subfilter<get-field-value-tiddler-filter>get[text]] }}}/>\n<<delete-edittemplate-state-tiddlers>>\n<$action-sendmessage $message=\"tm-save-tiddler\"/>\n\\end\n\n\\define cancel-delete-tiddler-actions(message)\n<%if [[$message$]match[delete]] %>\n\t<<tiddlyflex-delete-draft-tiddler-actions>>\n<% elseif [[$message$]match[cancel]] %>\n\t<%if [<qualifiedSearchPanelState>is[missing]] %>\n\t\t<<tiddlyflex-cancel-draft-tiddler-actions>>\n\t<% else %>\n\t\t<$action-deletetiddler $tiddler=<<qualifiedSearchPanelState>>/>\n\t<% endif %>\n<% endif %>\n\\end\n\n\\procedure get-field-value-tiddler-filter() [subfilter<get-field-editor-filter>sha256[16]addprefix[/]addprefix<newFieldValueTiddlerPrefix>]\n\\procedure get-field-editor-filter() [<newFieldNameTiddler>get[text]else[]] :cascade[all[shadows+tiddlers]tag[$:/tags/FieldEditorFilter]!is[draft]get[text]] :and[!is[blank]else{$:/plugins/BTC/TiddlyFlex/ui/EditTemplate/fieldEditor/default}]\n\n\\whitespace trim\n<<tdfp-tiddlyflex-edit-template>>"},"$:/plugins/BTC/TiddlyFlex/ui/ListItemTemplate":{"title":"$:/plugins/BTC/TiddlyFlex/ui/ListItemTemplate","text":"\\whitespace trim\n<<tdfp-tiddlyflex-templates-list-item-template>>"},"$:/plugins/BTC/TiddlyFlex/ui/TagTemplate":{"title":"$:/plugins/BTC/TiddlyFlex/ui/TagTemplate","text":"\\whitespace trim\n<<tdfp-tiddlyflex-templates-tag-template>>"},"$:/plugins/BTC/TiddlyFlex/ui/ViewTemplate/body/code":{"title":"$:/plugins/BTC/TiddlyFlex/ui/ViewTemplate/body/code","text":"\\whitespace trim\n<<tdfp-tiddlyflex-viewtemplate-body-code>>"},"$:/plugins/BTC/TiddlyFlex/ui/ViewTemplate/body/default":{"title":"$:/plugins/BTC/TiddlyFlex/ui/ViewTemplate/body/default","code-body":"yes","text":"\\whitespace trim\n<<tdfp-tiddlyflex-viewtemplate-body-default>>"},"$:/plugins/BTC/TiddlyFlex/ui/ViewTemplate/body/import":{"title":"$:/plugins/BTC/TiddlyFlex/ui/ViewTemplate/body/import","text":"\\procedure lingo-base() $:/language/Import/\n\n\\procedure confirmCancel()\n\\whitespace trim\n<$action-confirm $message={{$:/language/Import/Listing/Cancel/Warning}} >\n<$action-deletetiddler $tiddler=<<currentTiddler>>/>\n<$action-sendmessage $message=\"tm-close-tiddler\" title=<<currentTiddler>>/>\n</$action-confirm>\n\\end\n\n\\procedure buttons()\n\\whitespace trim\n<$button actions=<<confirmCancel>> ><<lingo Listing/Cancel/Caption>></$button>\n&#32;\n<$button message=\"tm-perform-import\" param=<<currentTiddler>>><<lingo Listing/Import/Caption>></$button>\n&#32;\n<<lingo Listing/Preview>>&#32;<$select tiddler=\"$:/state/importpreviewtype\" default=\"$:/core/ui/ImportPreviews/Text\">\n<$list filter=\"[all[shadows+tiddlers]tag[$:/tags/ImportPreview]!has[draft.of]]\">\n<option value=<<currentTiddler>>>{{!!caption}}</option>\n</$list>\n</$select>\n\\end\n\\whitespace trim\n\n<<tdfp-tiddlyflex-viewtemplate-body-import>>"},"$:/plugins/BTC/TiddlyFlex/ui/ViewTemplate/body/plugin":{"title":"$:/plugins/BTC/TiddlyFlex/ui/ViewTemplate/body/plugin","text":"\\whitespace trim\n<<tdfp-tiddlyflex-viewtemplate-body-plugin>>"},"$:/plugins/BTC/TiddlyFlex/ui/ViewTemplate/body/rendered-plain-text":{"title":"$:/plugins/BTC/TiddlyFlex/ui/ViewTemplate/body/rendered-plain-text","code-body":"yes","text":"\\whitespace trim\n<<tdfp-tiddlyflex-viewtemplate-body-rendered-plain-text>>"},"$:/plugins/BTC/TiddlyFlex/ui/ViewTemplate/body":{"title":"$:/plugins/BTC/TiddlyFlex/ui/ViewTemplate/body","tags":"$:/tags/TiddlyFlex/ViewTemplate","text":"\\import [all[shadows+tiddlers]tag[$:/tags/Macro/View/Body]!is[draft]] [all[shadows+tiddlers]tag[$:/tags/Global/View/Body]!is[draft]]\n\\whitespace trim\n<<tdfp-tiddlyflex-viewtemplate-body>>\n"},"$:/plugins/BTC/TiddlyFlex/ui/ViewTemplate/classic":{"title":"$:/plugins/BTC/TiddlyFlex/ui/ViewTemplate/classic","tags":"$:/tags/TiddlyFlex/ViewTemplate $:/tags/TiddlyFlex/EditTemplate","text":"\\define lingo-base() $:/language/ClassicWarning/\n\\whitespace trim\n<<tdfp-tiddlyflex-viewtemplate-classic>>\n"},"$:/plugins/BTC/TiddlyFlex/ui/ViewTemplate/subtitle/modified":{"title":"$:/plugins/BTC/TiddlyFlex/ui/ViewTemplate/subtitle/modified","tags":"$:/tags/TiddlyFlex/ViewTemplate/Subtitle","text":"\\whitespace trim\n<<tdfp-tiddlyflex-viewtemplate-subtitle-modified>>"},"$:/plugins/BTC/TiddlyFlex/ui/ViewTemplate/subtitle/modifier":{"title":"$:/plugins/BTC/TiddlyFlex/ui/ViewTemplate/subtitle/modifier","tags":"$:/tags/TiddlyFlex/ViewTemplate/Subtitle","text":"\\whitespace trim\n<<tdfp-tiddlyflex-viewtemplate-subtitle-modifier>>"},"$:/plugins/BTC/TiddlyFlex/ui/ViewTemplate/subtitle":{"title":"$:/plugins/BTC/TiddlyFlex/ui/ViewTemplate/subtitle","tags":"$:/tags/TiddlyFlex/ViewTemplate","text":"\\whitespace trim\n<<tdfp-tiddlyflex-viewtemplate-subtitle>>"},"$:/plugins/BTC/TiddlyFlex/ui/ViewTemplate/tags":{"title":"$:/plugins/BTC/TiddlyFlex/ui/ViewTemplate/tags","tags":"$:/tags/TiddlyFlex/ViewTemplate","text":"\\whitespace trim\n<<tdfp-tiddlyflex-viewtemplate-tags>>"},"$:/plugins/BTC/TiddlyFlex/ui/ViewTemplate/title/default":{"title":"$:/plugins/BTC/TiddlyFlex/ui/ViewTemplate/title/default","text":"\\whitespace trim\n<<tdfp-tiddlyflex-viewtemplate-title-default>>"},"$:/plugins/BTC/TiddlyFlex/ui/ViewTemplate/title/system":{"title":"$:/plugins/BTC/TiddlyFlex/ui/ViewTemplate/title/system","text":"\\whitespace trim\n<<tdfp-tiddlyflex-viewtemplate-title-system>>"},"$:/plugins/BTC/TiddlyFlex/ui/ViewTemplate/title":{"title":"$:/plugins/BTC/TiddlyFlex/ui/ViewTemplate/title","tags":"$:/tags/TiddlyFlex/ViewTemplate","text":"\\whitespace trim\n\\define title-styles() fill:$(foregroundColor)$;\n\n<<tdfp-tiddlyflex-viewtemplate-title>>\n"},"$:/plugins/BTC/TiddlyFlex/ui/ViewTemplate/unfold":{"title":"$:/plugins/BTC/TiddlyFlex/ui/ViewTemplate/unfold","tags":"$:/tags/TiddlyFlex/ViewTemplate","text":"\\whitespace trim\n<<tdfp-tiddlyflex-viewtemplate-unfold>>"},"$:/plugins/BTC/TiddlyFlex/ui/Templates/ViewTemplate":{"title":"$:/plugins/BTC/TiddlyFlex/ui/Templates/ViewTemplate","code-body":"yes","text":"\\whitespace trim\n\\define folded-state()\n$:/state/folded/$(currentTiddler)$\n\\end\n\\define cancel-delete-tiddler-actions(message) <$action-sendmessage $message=\"tm-$message$-tiddler\"/>\n\\import [all[shadows+tiddlers]tag[$:/tags/Macro/View]!is[draft]] [all[shadows+tiddlers]tag[$:/tags/Global/View]!is[draft]]\n<$vars storyTiddler=<<currentTiddler>> tiddlerInfoState=<<qualify \"$:/state/popup/tiddler-info\">>>\n\t<div data-tiddler-title=<<currentTiddler>> data-tags={{!!tags}} class={{{ [all[shadows+tiddlers]tag[$:/tags/ClassFilters/TiddlerTemplate]!is[draft]] :map:flat[subfilter{!!text}] [subfilter<tdff.tiddlyflex-enlist-columns>count[]addprefix[tc-tiddlyflex-column-]] tc-tiddler-view-frame [<currentTiddler>is[tiddler]then[tc-tiddler-exists]] [<currentTiddler>is[missing]!is[shadow]then[tc-tiddler-missing]] [<currentTiddler>is[shadow]then[tc-tiddler-exists tc-tiddler-shadow]] [<currentTiddler>is[shadow]is[tiddler]then[tc-tiddler-overridden-shadow]] [<currentTiddler>is[system]then[tc-tiddler-system]] [{!!class}] [<currentTiddler>tags[]encodeuricomponent[]addprefix[tc-tagged-]] +[join[ ]] }}} role=\"article\">\n\t\t<$tiddlyflex-draggable enable={{{ [{$:/state/tiddlyflex/story-river/tiddler/drag-enabled}match[yes]then[$:/state/tiddlyflex/story-river/fullscreen/]addsuffix<currentTiddler>is[missing]then[yes]] ~[[no]] }}} tiddler=<<currentTiddler>> startactions=<<tiddlyflex-drag-start-actions>> endactions=<<tiddlyflex-drag-end-actions>> class=\"tc-tiddler-frame\">\n\t\t\t<$list filter=\"[all[shadows+tiddlers]tag[$:/tags/TiddlyFlex/ViewTemplate]!is[draft]] [all[shadows+tiddlers]tag[$:/tags/ViewTemplate]!is[draft]] -[[$:/core]plugintiddlers[]tag[$:/tags/ViewTemplate]]\" variable=\"listItem\">\n\t\t\t\t<$transclude tiddler=<<listItem>>/>\n\t\t\t</$list>\n\t\t\t<% if [{$:/state/dragging}match[yes]then{$:/state/tiddlyflex/story-river/tiddler/drag-enabled}match[yes]then[$:/state/story-river/full-screen/]addsuffix<currentTiddler>is[missing]] %>\n\t\t\t\t<$droppable class=\"tc-tiddlyflex-droppable-top-half\" actions=<<tiddlyflex-top-drop-actions>> dragenteractions=<<tiddlyflex-top-dragenter-actions>>/>\n\t\t\t\t<$droppable class=\"tc-tiddlyflex-droppable-bottom-half\" actions=<<tiddlyflex-bottom-drop-actions>> dragenteractions=<<tiddlyflex-bottom-dragenter-actions>>/>\n\t\t\t<% endif %>\n\t\t</$tiddlyflex-draggable>\n\t</div>\n</$vars>"},"$:/plugins/BTC/TiddlyFlex/ui/Templates/drafts":{"title":"$:/plugins/BTC/TiddlyFlex/ui/Templates/drafts","text":"\\whitespace trim\n<$reveal state=\"$:/status/IsReadOnly\" type=\"nomatch\" text=\"yes\" tag=\"div\" class=\"tc-drafts-list tc-tiddlyflex-drafts-list\">\n<$list filter=\"[is[draft]!sort[modified]] -[all[tiddlers]prefix[$:/StoryList-]get[list]enlist-input[]]\">\n<$link>\n<span class=\"tc-small-gap-right\">{{$:/core/images/edit-button}}</span><$text text=<<currentTiddler>>/>\n</$link>\n</$list>\n</$reveal>"},"$:/plugins/BTC/TiddlyFlex/ui/Templates/sidebar":{"title":"$:/plugins/BTC/TiddlyFlex/ui/Templates/sidebar","code-body":"yes","text":"\\whitespace trim\n\\define config-title()\n$:/config/SideBarSegments/Visibility/$(listItem)$\n\\end\n\n<$scrollable class=\"tc-tiddlyflex-sidebar-scrollable\" fallthrough=\"no\">\n\n\t<div class=\"tc-sidebar-header\">\n\n\t\t<$reveal state=\"$:/state/sidebar\" type=\"match\" text=\"yes\" default=\"yes\" animate=\"yes\">\n\n\t\t\t<$list filter=\"[all[shadows+tiddlers]tag[$:/tags/SideBarSegment]!has[draft.of]]\" variable=\"listItem\">\n\n\t\t\t\t<$reveal type=\"nomatch\" state=<<config-title>> text=\"hide\"  tag=\"div\">\n\n\t\t\t\t\t<$transclude tiddler=<<listItem>> mode=\"block\"/>\n\n\t\t\t\t</$reveal>\n\n\t\t\t</$list>\n\n\t\t</$reveal>\n\n\t</div>\n\n</$scrollable>"},"$:/plugins/BTC/TiddlyFlex/ui/Templates/story":{"title":"$:/plugins/BTC/TiddlyFlex/ui/Templates/story","code-body":"yes","text":"\\whitespace trim\n\\procedure tiddlyflex-filtered-story-list()\n\n<$list filter=\"[subfilter<tdff.tiddlyflex-story-river-filter>]\" history=<<tv-history-list>> template=\"$:/core/ui/StoryTiddlerTemplate\" storyview=\"tiddlyflex\" emptyMessage={{{ [list<tv-story-list>limit[1]then[]else{$(emptyMessageTiddler)$}] }}}/>\n\n\\end\n<div class={{{ [subfilter<tdff.tiddlyflex-enlist-columns>] :intersection[{$:/columns!!current-column}] ~[subfilter<tdff.tiddlyflex-current-column-filtered>] +[match<tiddlyFlexColumn>then[tc-tiddlyflex-story-river-active]] [[tc-tiddlyflex-story-river-wrapper-inner]] [[tc-tiddlyflex-story-river-]addsuffix<tiddlyFlexColumn>] :and[unique[]join[ ]] }}}>\n\n\t<$dropzone enable={{{ [tdff.tiddlyflex-fullscreen[]is[blank]then<tv-enable-drag-and-drop>] }}} class={{{ [<tiddlyFlexColumn>!is[blank]addprefix[tc-tiddlyflex-dropzone-]] ~tc-tiddlyflex-dropzone-1 }}} importTitle={{{ [[$:/Import-]addsuffix<tiddlyFlexColumn>] }}}>\n\n\t\t<$eventcatcher selector=\".tc-tiddlyflex-activate-column\" matchSelector=\".tc-tiddlyflex-activate-column\" $click=<<tiddlyflex-activate-column-actions>> class=\"tc-tiddlyflex-active-column-wrapper\">\n\n\t\t\t<a class=\"tc-btn-invisible tc-tiddlyflex-activate-column\"/>\n\n\t\t</$eventcatcher>\n\n\t\t<section class=\"tc-tiddlyflex-story-river\" role=\"main\">\n\n\t\t\t<section class=\"story-backdrop\">\n\n\t\t\t\t<$set name=\"aboveStoryTag\" value={{{ [[$:/tags/AboveStory-]addsuffix<tiddlyFlexColumn>] }}}>\n\n\t\t\t\t\t<$list filter=\"[all[shadows+tiddlers]tag<aboveStoryTag>!is[draft]]\">\n\n\t\t\t\t\t\t<$transclude/>\n\n\t\t\t\t\t</$list>\n\n\t\t\t\t</$set>\n\n\t\t\t</section>\n\n\t\t\t<section class=\"tc-tiddlyflex-story-river-inner\">\n\n\t\t\t\t<$set name=\"emptyMessageTiddler\" value={{{ [[$:/config/EmptyStoryMessage-]addsuffix<tiddlyFlexColumn>] }}}>\n\n\t\t\t\t\t<<tiddlyflex-filtered-story-list>>\n\n\t\t\t\t</$set>\n\n\t\t\t\t<%if [{$:/state/dragging}match[yes]] %>\n\n\t\t\t\t\t<$droppable class=\"tc-tiddlyflex-below-story-river-droppable\" actions=<<tiddlyflex-story-droppable-drop-actions>> dragenteractions=<<tiddlyflex-story-droppable-dragenter-actions>>/>\n\n\t\t\t\t<% endif %>\n\n\t\t\t</section>\n\n\t\t\t<section class=\"story-frontdrop\">\n\n\t\t\t\t<$set name=\"belowStoryTag\" value={{{ [[$:/tags/BelowStory-]addsuffix<tiddlyFlexColumn>] }}}>\n\n\t\t\t\t\t<$list filter=\"[all[shadows+tiddlers]tag<belowStoryTag>!is[draft]]\">\n\n\t\t\t\t\t\t<$transclude/>\n\n\t\t\t\t\t</$list>\n\n\t\t\t\t</$set>\n\n\t\t\t</section>\n\n\t\t</section>\n\n\t</$dropzone>\n\n</div>\n"},"$:/plugins/BTC/TiddlyFlex/ui/Toolbars/PluginReloadWarning":{"title":"$:/plugins/BTC/TiddlyFlex/ui/Toolbars/PluginReloadWarning","text":"\\define lingo-base() $:/language/\n\n<div class=\"tc-plugin-reload-warning\">\n\n<$set name=\"tv-config-toolbar-class\" value=\"\">\n\n<<lingo PluginReloadWarning>><$button set=\"$:/temp/HidePluginWarning\" setTo=\"yes\" class=\"tc-btn-invisible tc-small-gap-left\">{{$:/core/images/close-button}}</$button>\n\n</$set>\n\n</div>"},"$:/plugins/BTC/TiddlyFlex/ui/Toolbars/Segments/search":{"title":"$:/plugins/BTC/TiddlyFlex/ui/Toolbars/Segments/search","tags":"$:/tags/TopLeftBar","text":"\\whitespace trim\n<%if [tdff.tiddlyflex-layout[]] %>\n\t{{$:/core/ui/SideBarSegments/search}}\n<% endif %>"},"$:/plugins/BTC/TiddlyFlex/ui/Toolbars/TopToolbar":{"title":"$:/plugins/BTC/TiddlyFlex/ui/Toolbars/TopToolbar","caption":"Top ~TiddlyFlex Toolbar","description":"The standard Top ~TiddlyFlex Toolbar","tags":"$:/tags/TopToolbar","text":"\\whitespace trim\n<div class=\"tc-tiddlyflex-top-toolbar\">\n\t<div class=\"tc-tiddlyflex-top-toolbar-left\">\n\t\t<$list filter=\"[all[shadows+tiddlers]tag[$:/tags/TopLeftBar]!is[draft]] :filter[lookup[$:/config/TiddlyFlex/Toolbars/TopLeftToolbarItems/Visibility/]!match[hide]]\" variable=\"listItem\" storyview=\"tiddlypop\">\n\t\t\t<$transclude tiddler=<<listItem>>/>\n\t\t</$list>\n\t</div>\n\t<div class=\"tc-tiddlyflex-top-toolbar-center\">\n\n\t</div>\n\t<div class=\"tc-tiddlyflex-top-toolbar-right\">\n\t\t<$list filter=\"[all[shadows+tiddlers]tag[$:/tags/TopRightBar]!is[draft]] :filter[lookup[$:/config/TiddlyFlex/Toolbars/TopRightToolbarItems/Visibility/]!match[hide]]\" variable=\"listItem\" storyview=\"tiddlypop\">\n\t\t\t<$transclude tiddler=<<listItem>>/>\n\t\t</$list>\n\t</div>\n</div>"}}}